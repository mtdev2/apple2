(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1010:function(t,e,i){"use strict";var n,s=i(125),r={name:"userData",available:function(){if(void 0===n){if(n=!1,!document||!document.body)throw"ac-storage/Item/apis/userData: DOM must be ready before using #userData.";var t=this.element();s.isElement(t)&&void 0!==t.addBehavior&&(n=!0),!1===n&&this.removeElement()}return n},getItem:function(t){var e=this.element();return e.load("ac-storage"),e.getAttribute(t)||null},setItem:function(t,e,i){var n=this.element();return n.setAttribute(t,e),!1===i&&(i=new Date(Date.now()+864e5)),i&&"function"==typeof i.toUTCString&&(n.expires=i.toUTCString()),n.save("ac-storage"),!0},removeItem:function(t){var e=this.element();return e.removeAttribute(t),e.save("ac-storage"),!0},_element:null,element:function(){return null===this._element&&(this._element=document.createElement("meta"),this._element.setAttribute("id","userData"),this._element.setAttribute("name","ac-storage"),this._element.style.behavior="url('#default#userData')",document.getElementsByTagName("head")[0].appendChild(this._element)),this._element},removeElement:function(){return null!==this._element&&s.remove(this._element),this._element}};t.exports=r},1021:function(t,e,i){"use strict";t.exports=function(t,e){if("number"!=typeof t)throw"ac-storage/Item/createExpirationDate: days parameter must be a number.";if(void 0!==e&&"number"!=typeof e||(e=void 0===e?new Date:new Date(e)),"function"!=typeof e.toUTCString||"Invalid Date"===e.toUTCString())throw"ac-storage/Item/createExpirationDate: fromDate must be a date object, timestamp, or undefined.";return e.setTime(e.getTime()+864e5*t),e.getTime()}},1022:function(t,e,i){"use strict";var n=i(1023),s={encode:function(t){var e,i;i=n.compress(t);try{e=JSON.stringify(i)}catch(t){}if(!this.__isValidStateObjString(e))throw"ac-storage/Item/encoder/encode: state object is invalid or cannot be saved as string";return e},decode:function(t){var e;if(!this.__isValidStateObjString(t)){if(void 0===t||null===t||""===t)return null;throw"ac-storage/Item/encoder/decode: state string does not contain a valid state object"}try{e=JSON.parse(t)}catch(t){throw"ac-storage/Item/encoder/decode: Item state object could not be decoded"}return n.decompress(e)},__isValidStateObjString:function(t){try{return void 0!==t&&"{"===t.substring(0,1)}catch(t){return!1}}};t.exports=s},1023:function(t,e){var i={mapping:{key:"k",checksum:"c",expirationDate:"e",metadata:"m",value:"v"},compress:function(t){var e={},n=i.mapping;for(var s in n)if(t.hasOwnProperty(s)&&t[s])if("expirationDate"===s){var r=this.millisecondsToOffsetDays(t[s]);e[n[s]]=r}else e[n[s]]=t[s];return e},decompress:function(t){var e={},n=i.mapping;for(var s in n)if(t.hasOwnProperty(n[s]))if("expirationDate"===s){var r=this.offsetDaysToMilliseconds(t[n[s]]);e[s]=r}else e[s]=t[n[s]];return e},millisecondsToOffsetDays:function(t){return Math.floor(t/864e5)-14975},offsetDaysToMilliseconds:function(t){return 864e5*(t+14975)}};t.exports=i},1024:function(t,e,i){"use strict";var n=i(124),s=i(476),r=i(1025),a={};function o(t,e){this._namespace=t||"",this._options=n.extend(n.clone(a),e||{})}o.prototype={getItem:function(t){var e=this.__item(t);return e.load(),e.value()},setItem:function(t,e){var i=this.__item(t);if(void 0===e)throw"ac-storage/Storage#setItem: Must provide value to set key to. Use #removeItem to remove.";return i.setValue(e),i.save()},removeItem:function(t){var e=this.__item(t);return r.remove(e.key(),!0),e.save()},removeExpired:function(){var t,e;if(s.available())for(e=0;e<window.localStorage.length;e++)(t=this.__item(window.localStorage.key(e))).hasExpired()&&"undefined"!==JSON.parse(window.localStorage[window.localStorage.key(e)]).v&&t.remove();else{var i,n=document.getElementById("userData");n.load("ac-storage");var r=n.xmlDocument.firstChild.attributes,a=r.length;for(e=-1;++e<a;)i=r[e],(t=this.__item(i.nodeName)).hasExpired()&&"undefined"!==JSON.parse(i.nodeValue).v&&t.remove()}},__item:function(t){if("string"!=typeof t||""===t)throw"ac-storage/Storage: Key must be a String.";return r.item(this.namespace()+t)},namespace:function(){return this._namespace},setNamespace:function(t){this._namespace=t},options:function(){return this._namespace},setOptions:function(t){this._namespace=t}},t.exports=o},1025:function(t,e,i){"use strict";var n=i(474),s={},r={item:function(t){var e=s[t];return e||(e=this.register(t)),e},register:function(t){var e=s[t];return e||(e=new n(t),s[t]=e),e},clear:function(t){var e;for(e in s)this.remove(e,t);return!0},remove:function(t,e){var i=s[t];return i&&e&&i.remove(),s[t]=null,!0}};t.exports=r},1026:function(t,e,i){"use strict";var n,s=i(475);t.exports=function(){return void 0!==n?n:n=!!s.best()}},1029:function(t,e,i){"use strict";i(31);var n,s=i(1030),r=i(1045),a=i(1046),o={force:!1};t.exports={init:function(t){if(t=Object.assign({},o,t),!n||!0===t.force){var e=t.bucket||"";n=window.s=s.init(r(e)),s.plugins.init(n),a(n,t)}return n},getInstance:function(){return n},ActivityMapCollection:s.ActivityMapCollection}},1030:function(t,e,i){"use strict";var n=i(1031),s=i(1032),r=i(306);t.exports={init:n,plugins:s,ActivityMapCollection:r}},1031:function(t,e,i){"use strict";var n=i(486).s_gi;i(486);t.exports=function(t){if("string"==typeof t)return n(t)}},1032:function(t,e,i){"use strict";t.exports.init=function(t){i(1033)(t),i(1034)(t),i(1035)(t),i(1036)(t),i(1037)(t),i(1038)(t),i(1039)(t),i(1044)(t),i(306)}},1033:function(t,e,i){"use strict";t.exports=function(t){t.manageVars=function(t,e,i){var n,s,r,a=this;if(e=e||"",i=i||1,!a[t])return!1;n="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(var o=1;o<76;o++)n+=",prop"+o;for(o=1;o<251;o++)n+=",eVar"+o;for(o=1;o<6;o++)n+=",hier"+o;for(o=1;o<4;o++)n+=",list"+o;for(o in a.contextData)n+=",contextData."+o;if(!e||1!=i&&2!=i)return""==e&&1==i&&(a.pt(n,",",t,0),!0);if(1==i&&(n=e.replace("['",".").replace("']","")),2==i){for(var l in s=e.split(","),r=n.split(","),n="",s)for(var c in s[l].indexOf("contextData")>-1&&(lax=s[l].split("'"),s[l]="contextData."+lax[1]),r)s[l]==r[c]&&(r[c]="");for(var c in r)n+=r[c]?","+r[c]:""}return a.pt(n,",",t,0),!0},t.clearVars=function(t){if(-1==t.indexOf("contextData"))this[t]="";else if(t.indexOf("contextData")>-1){var e=t.substring(t.indexOf(".")+1);this.contextData[e]=""}},t.lowercaseVars=function(t){var e=this;if("events"!=t&&-1==t.indexOf("contextData")&&e[t])e[t]=e[t].toString(),0!=e[t].indexOf("D=")&&(e[t]=e[t].toLowerCase());else if(t.indexOf("contextData")>-1){var i=t.substring(t.indexOf(".")+1);e.contextData[i]&&(e.contextData[i]=e.contextData[i].toString(),e.contextData[i]=e.contextData[i].toLowerCase())}},t.pt=function(t,e,i,n){for(var s,r,a=t,o=0;a;){if(s=(s=a.indexOf(e))<0?a.length:s,a=a.substring(0,s),r=this[i](a,n))return r;o+=s+e.length,a=t.substring(o,t.length),a=o<t.length?a:""}return""},t.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),t.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L"),t.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a")}},1034:function(t,e,i){"use strict";t.exports=function(t){t.p_gn=function(t,e){var i,n,s=t?t.indexOf("~"):-1;return t&&e&&(i=s<0?"":t.substring(0,s),n=t.substring(s+1),e.indexOf(n.toLowerCase())>-1)?i||"[[":0},t.p_gh=function(){var t=this;if(t.linkObject)return t.linkObject.href;if(!t.eo&&!t.lnk)return"";var e=t.eo?t.eo:t.lnk,i=t.ot(e),n=t.oid(e);e.s_oidt;if(t.eo&&e==t.eo)for(;e&&!n&&"BODY"!=i;){if(!(e=e.parentElement?e.parentElement:e.parentNode))return"";i=t.ot(e),n=t.oid(e),e.s_oidt}return e.href?e.href:""},t.pt=new Function("x","d","f","a","var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return'';"),t.linkHandler=function(t,e,i){var n,s,r=this,a=r.p_gh(),o=a;return e=e||"o",!o||r.linkType&&(o||r.linkName)?"":(n=o.indexOf("?"),o=r.linkLeaveQueryString||n<0?o:o.substring(0,n),(s=r.pt(t,"|","p_gn",o.toLowerCase()))?(r.linkName="[["==s?"":s,r.linkType=e,i?a:o):"")}}},1035:function(t,e,i){"use strict";var n=i(487),r=i(488).sessionStorage;t.exports=function(t){n(r)&&(t.getPercentPageViewed=function(){if(void 0===s.linkType){try{s.ppv.previous=sessionStorage.getItem(s.ppv.sessionStorageKey)?sessionStorage.getItem(s.ppv.sessionStorageKey):""}catch(t){}return s.ppv.init(),s.ppv.previous.split(",")}if(!s.ppv.previous){try{s.ppv.previous=sessionStorage.getItem(s.ppv.sessionStorageKey)||""}catch(t){}return s.ppv.init(),s.ppv.previous.split(",")}},t.ppv={initialPercent:0,maxPercent:0,throttleAmount:500,sessionStorageKey:"s_ppv",init:function(){window.addEventListener("scroll",s.ppv.throttle(s.ppv.scroll,s.ppv.throttleAmount),!1),window.addEventListener("resize",s.ppv.throttle(s.ppv.scroll,s.ppv.throttleAmount),!1),window.addEventListener("beforeunload",s.ppv.unload,!1),window.addEventListener("load",s.ppv.scroll,!1)},scroll:function(){var t=s.ppv;if(100!==t.maxPercent){var e=void 0!==window.pageYOffset?window.pageYOffset:document.documentElement||document.body.parentNode||document.body.scrollTop,i=document.clientHeight||document.documentElement.clientHeight||document.body.clientHeight,n=t.getDocHeight();n=Math.round((e+i)/n*100);if(t.initialPercent||(t.initialPercent=n),n>t.maxPercent){t.maxPercent=n;var r=[];r.push(s.pageName),r.push(n),r.push(t.initialPercent),r.push(e+i);try{sessionStorage.setItem(t.sessionStorageKey,r.join(","))}catch(t){}}}},getDocHeight:function(){var t=window.document;return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))},unload:function(){try{sessionStorage.getItem(s.ppv.sessionStorageKey)&&sessionStorage.setItem(s.ppv.sessionStorageKey,sessionStorage.getItem(s.ppv.sessionStorageKey))}catch(t){}},throttle:function(t,e){var i,n,s,r=null,a=0,o=function(){a=new Date,r=null,s=t.apply(i,n)};return function(){var l=new Date;a||(a=l);var c=e-(l-a);return i=this,n=arguments,0>=c?(clearTimeout(r),r=null,a=l,s=t.apply(i,n)):r||(r=setTimeout(o,c)),s}}})}},1036:function(t,e,i){"use strict";t.exports=function(t){t.getQueryParam=t.Util.getQueryParam}},1037:function(t,e,i){"use strict";t.exports=function(t){t.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v")}},1038:function(t,e,n){"use strict";var s=n(487),r=n(488).sessionStorage;t.exports=function(t){s(r)&&(t.performanceTiming=function(t){var e=this;t&&(e.ptv=t),"undefined"!=typeof performance&&(performance.timing.loadEventEnd>0&&e.performanceWrite(),0==performance.timing.loadEventEnd&&(e.pi=setInterval(function(){e.performanceWrite()},250)),e.ptc&&"e"!=e.linkType?(e.rfe(),e[e.ptv]=""):e.performanceRead())},t.performanceWrite=function(){var t=this;performance.timing.loadEventEnd>0&&clearInterval(t.pi);try{if(""==t.c_r("s_ptc")&&performance.timing.loadEventEnd>0)try{var e=performance.timing,i="";if(i=t.performanceCheck(e.fetchStart,e.navigationStart),i+="^^"+t.performanceCheck(e.domainLookupStart,e.fetchStart),i+="^^"+t.performanceCheck(e.domainLookupEnd,e.domainLookupStart),i+="^^"+t.performanceCheck(e.connectEnd,e.connectStart),i+="^^"+t.performanceCheck(e.responseStart,e.connectEnd),i+="^^"+t.performanceCheck(e.responseEnd,e.responseStart),i+="^^"+t.performanceCheck(e.domInteractive,e.domLoading),i+="^^"+t.performanceCheck(e.domContentLoadedEventEnd,e.domInteractive),i+="^^"+t.performanceCheck(e.domComplete,e.domContentLoadedEventEnd),i+="^^"+t.performanceCheck(e.loadEventStart,e.domLoading),i+="^^"+t.performanceCheck(e.loadEventEnd,e.loadEventStart),i+="^^"+t.performanceCheck(e.loadEventEnd,e.navigationStart),t.c_w("s_ptc",i),sessionStorage&&navigator.cookieEnabled&&"undefined"!=t.ptv){for(var n=performance.getEntries(),s="",r=0;r<n.length;r++)s+="!",s+=n[r].name.indexOf("?")>-1?n[r].name.split("?")[0]:n[r].name,s+="|"+(Math.round(n[r].startTime)/1e3).toFixed(1)+"|"+(Math.round(n[r].duration)/1e3).toFixed(1)+"|"+n[r].initiatorType;sessionStorage.setItem("s_pec",s)}}catch(t){return}}catch(t){return}},t.performanceCheck=function(t,e){if(t>=0&&e>=0)return t-e<6e4&&t-e>=0?((t-e)/1e3).toFixed(3):600},t.performanceRead=function(){var t=this;performance.timing.loadEventEnd>0&&clearInterval(t.pi);var e=t.c_r("s_ptc");if(t.pte)var i=t.pte.split(",");if(""!=e){var n=t.split(e,"^^");if(""!=n[1])for(var s=0;s<i.length-1;s++)t.events=t.apl(t.events,i[s]+"="+n[s],",",2);t.events=t.apl(t.events,i[i.length-1],",",2)}t.linkTrackEvents=t.apl(t.linkTrackEvents,t.pte,",",2),t.c_w("s_ptc","",0),sessionStorage&&navigator.cookieEnabled&&"undefined"!=t.ptv?(t[t.ptv]=sessionStorage.getItem("s_pec"),sessionStorage.setItem("s_pec","",0)):t[t.ptv]="sessionStorage Unavailable",t.ptc=!0},t.rfe=function(){var t=this,e=(t.split(t.events,","),t.split(t.pte,","));try{for(x in e)t.events=t.rfl(t.events,e[x]),t.contextData.events=t.events}catch(t){return}},t.rfl=function(t,e,n,s,r){var a=new Array,o="";n=n||",",s=s||",",r=r?1:0;if(!t)return"";for(L=t.split(n),i=0;i<L.length;i++)L[i].indexOf(":")>-1&&((o=L[i].split(":"))[1]=o[0]+":"+o[1],L[i]=o[0]),L[i].indexOf("=")>-1&&((o=L[i].split("="))[1]=o[0]+"="+o[1],L[i]=o[0]),L[i]!=e&&o?a.push(o[1]):L[i]!=e?a.push(L[i]):L[i]==e&&r&&(r=0,o?a.push(o[1]):a.push(L[i])),o="";return this.join(a,{delim:s})})}},1039:function(t,e,i){"use strict";var n=i(306),s=i(33),r=s.browser.firefox||s.browser.ie?" - open":" - close",a=s.browser.firefox||s.browser.ie?" - close":" - open";t.exports=function(t){t.ActivityMap.link=function(e,i){var s;function o(i){return t.acAnalyticsActivityMapCollection.filter(function(t){return t.element.isSameNode(e)})[0]}if((!i||-1===i.indexOf("v@e")&&-1===i.indexOf("v@sk")&&-1===i.indexOf("v@m"))&&e)return(s=o())?-1!==s.linkId.indexOf("/shop/goto/bag")?"true"===s.element.getAttribute("aria-expanded")?s.linkId+r:s.linkId+a:s.linkId:(n.addElToCollection(e),(s=o())?s.linkId:void 0)}}},1043:function(t,e,i){"use strict";function n(){this.createLinkId=this.createLinkId.bind(this)}var s=n.prototype;s.prefixCharacters=function(t,e,i){var n="";for(e=e||2,i=i||0;e;)n+=i,e--;return n.substring(0,n.length-t.toString().length)+t},s.limitStrLength=function(t,e){return t.substring(0,e).trim()},s.removeArrayBrackets=function(t){return"["===t[0]&&"]"===t[t.length-1]?t.substr(1,t.length-2):t},s.getGlobalElements=function(t){for(var e=[],i=0;i<t.length;i++){var n=document.querySelector(t[i]);n&&e.push(n)}return e},s.createLinkText=function(t){var e=t.getAttribute("data-analytics-activitymap-link-id")||t.getAttribute("data-ac-gallery-trigger")||t.getAttribute("data-analytics-title")||this.removeSpecialChars(t.textContent)||t.id||t.tagName||"no text";return this.limitStrLength(e,50)},s.createLinkHref=function(t){var e;return t.hostname!==window.location.hostname&&"www.apple.com"!==t.hostname&&(e=t.hostname+t.pathname),e||t.hash||t.pathname||"no href"},s.createLinkId=function(t,e,i,n){var s,r,a=t.concat(n,e,n,i);return a.length>128&&(s=128-t.concat(n,n,i).length,r=this.limitStrLength(e,s),a=t.concat(n,r,n,i)),a},s.removeSpecialChars=function(t){var e;if(t){var i=["&rlm;","\\u200F","&#8207;","&#x200f;"].join("|"),n=new RegExp(i,"gi");e=t.replace(n,"").replace(/\s+/g," ").trim()}return e},t.exports=new n},1044:function(t,e,i){"use strict";t.exports=function(t){t.ActivityMap.region=function(e){if(e){var i=t.acAnalyticsActivityMapCollection.filter(function(t){return t.element.isSameNode(e)})[0];return i?i.regionName:void 0}}}},1045:function(t,e,i){"use strict";t.exports=function(t){var e="";if("string"==typeof t&&(e=t),document.location.search&&e&&-1===e.indexOf("applestoreww")){var i=document.location.search;(i.indexOf("?cid=AOS-")>-1||i.indexOf("&cid=AOS-")>-1)&&(e+=",applestoreww")}return e}},1046:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=i(1047),r=i(1057),a=i(1058);t.exports=function(t,e){var i=e.linkInternalFilters?"/"+e.linkInternalFilters:"";function o(e,i){var n=new Date,s=new Date(n.setFullYear(n.getFullYear()+2)),r=i||s,a=t.c_r(e);if(a)try{t.c_w(e,a,r)}catch(t){}}"object"!==n(t.acAnalytics)&&(t.acAnalytics={}),t.acAnalytics.version=e.acAnalyticsVersion,t.pageName=e.pageName||"",t.currencyCode="USD",t.trackDownloadLinks=!0,t.trackExternalLinks=!0,t.trackInlineStats=!0,t.useForcedLinkTracking=!0,t.forcedLinkTrackingTimeout=100,t.linkDownloadFileTypes="zip,wav,mp3,doc,pdf,xls,dmg,sit,pkg,exe,m4a,rss,xml,extz,safariextz,ibooks",t.linkInternalFilters="tel:,mailto:,javascript:,apple.com"+i+",apple.com/media,apple.com/105",t.linkLeaveQueryString=!1,t.linkTrackVars="campaign",t.linkTrackEvents="None",t._isSafari=a.isSafari(t),!0===a.isSafariTopSitesPreview(t)&&(t.t=function(){return""}),o("s_vnum_n2_us");var l=new Date;l.setDate(l.getDate()-1),o("s_pv",l),t.eVar54=document.location.href,t.eVar49=document.referrer,t.usePlugins=!0,t.doPlugins=s,t.trackingServer=r.getTrackingServer(),t.trackingServerSecure=r.getSecureTrackingServer(),t.dc=r.getDataCenterId(),t.pte="event220,event221,event222,event223,event224,event225,event226,event227,event228,event229,event230,event231,event232",t.ptc=!1}},1047:function(t,e,i){"use strict";var n,s=i(1048),r=i(1049),a=i(1050),o=i(1051),l=i(1052),c=i(489),h=i(1053),u=i(1054),d=i(1055),p=i(1056),f="ac";t.exports=function(t){t.tcall=void 0===t.tcall,!t.tcall&&t.linkObject&&"A"===t.linkObject.tagName&&("e"!==t.linkType||c(t)||(t.linkURL="",t.linkType=""),t.linkObject.classList.contains("ac-gn-link-bag")&&(void 0===n&&(n=document.querySelector("meta[property=analytics-track]")),n&&n.content&&(t.linkName=t.prop3=n.content.toLowerCase()+" - bag",t.linkType="o",t.l=t.linkObject,t.acAnalytics.ct_li=!0,t.eVar1=t.pageName+" | global nav | bag",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar1",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"prop3",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar49",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar54",",",1),t.A=function(t){t.N=0,t.linkTrackVars="",t.eVar1="",t.prop3=""}.bind(null,t))),t.linkHandler(h,"e"),"e"!==t.linkType&&t.linkObject.hasAttribute("data-analytics-exit-link")&&(t.linkType="e",t.linkName=t.linkObject.getAttribute("data-analytics-exit-link"),t.linkTrackEvents&&(t.linkTrackEvents=""),t.linkTrackVars&&(t.linkTrackVars=""))),"function"==typeof r&&r(t),navigator&&navigator.platform&&(window.devicePixelRatio>=1.5?t.prop5=navigator.platform+" 2x":t.prop5=navigator.platform);var e=t.getQueryParam("ref");if(e&&t.tcall?t.referrer=e:e&&!t.tcall&&(t.referrer=""),!t.campaign&&(t.campaign=t.getQueryParam("cid"),t.campaign.match(/OAS-.+?-DOMAINS-/i))){var i="http://"+t.campaign.replace(/OAS-.+?-DOMAINS-/i,"");t.referrer=t.tcall?i:""}var m=d(t);if(m&&(t.server=f+"-"+m),t.campaign=t.getValOnce(t.campaign,"s_campaign",0),t.prop6=!t.prop6&&t.getQueryParam("cp")&&t.pageName?'D="'+t.getQueryParam("cp").toLowerCase()+": "+t.pageName+'"':t.prop6,t.prop11=t.getQueryParam("sr"),t.d.URL.match(/\/channel\//)||t.prop11||!t.c_r("s_3p")||(t.prop11=t.c_r("s_3p"),t.c_w("s_3p","",-1)),t.eVar7=t.eVar7?"":t.getQueryParam("aid"),t.eVar7=t.getValOnce(t.eVar7,"s_var_7",0),t.eVar2&&(t.events=t.apl(t.events,"event6",",",1)),!t.d.URL.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)&&!t.d.URL.match(/apple.com\/search\//)&&(t.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)||t.d.referrer.match(/apple.com\/search\//)))if(t.eVar2=t.d.referrer.match(/\/support\//)?"acs: ":t.d.referrer.match(/\/store\//)?"aos: ":"www: ",t.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search/)){t.eVar2+=t.getQueryParam("q","",t.d.referrer).replace(/\+/g," ");var _=t.d.referrer.match(/\/(\w{2}|befr|benl|chfr|chde|asia|lae)\//i);t.eVar2+=" ("+_[0].replace(/\//g,"")+")"}else t.eVar2+=t.getQueryParam("q","",t.d.referrer).replace(/\+/g," ")+" (us)";if("em"===t.prop11&&t.tcall&&(t.referrer="imap://chatterbox.com"),"app"===t.prop11&&t.tcall&&(t.referrer="file://fromApp"),document.referrer&&document.referrer.indexOf("apple.com/startpage/")>-1&&t.tcall&&(t.referrer="news://startpage.com",t._1_referrer=1),"function"==typeof o&&t.tcall&&o(t),t.prop32=t.eVar32=t.getQueryParam("psid"),t.prop32||t.c_r("s_sid")){var v=new Date,g=v.getTime();v.setTime(g+63072e4),t.prop32?t.c_w("s_psid",t.prop32,v):t.c_w("s_psid",t.c_r("s_sid"),v),t.c_w("s_sid","",-1)}t.prop32||t.c_r("s_pathLength")||(t.prop32=t.c_r("s_psid")),t.linkLeaveQueryString=!0;var b,y=t.linkURL;"d"===t.linkType&&y&&(y.match(/\.rss|\.xml/)?t.eVar16=t.prop16="sign ups":(t.eVar11=(t.pageName&&""!==t.pageName?t.pageName:"")+" - "+y.substring(y.lastIndexOf("/")+1,y.length),t.eVar16=t.prop16="downloads",t.events=t.apl(t.events,"event5",", ",1)),t.linkTrackVars=t.apl(t.linkTrackVars,"prop16,eVar16,eVar11,events",",",1),t.linkTrackEvents="event5"),t.linkLeaveQueryString=!1,"function"==typeof a&&a(t),t.pageName&&t.pageName.match(/feedback - thank you/)&&(t.prop16=t.eVar16="feedback"),t.linkLeaveQueryString=!0,t.linkHandler("rss~ax.itunes.apple.com/WebObjects/MZStoreServices.woa/ws/RSS/|rss~rss.support.apple.com"),"rss"===t.linkName&&(t.eVar16=t.prop16="sign ups",t.apl(t.linkTrackVars,"eVar16,prop16",",",1)),t.linkLeaveQueryString=!1,"function"==typeof l&&l(t),t.tcall&&"function"==typeof t.performanceTiming&&t.performanceTiming(),"function"==typeof s&&s(t),b=document&&document.documentElement.lang?document.documentElement.lang:"n/a",t.eVar14=b,t.tcall||(t.linkTrackVars=t.apl(t.linkTrackVars,"eVar14",", ",1)),u(t)&&(t.tcall||(t.linkTrackEvents=t.apl(t.linkTrackEvents,"event209",",",1),t.linkTrackVars=t.apl(t.linkTrackVars,"events",",",1)),t.events=t.apl(t.events,"event209",",",1)),t.eVar4="D=pageName",t.tcall||(t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4",", ",1)),t.tcall?t.eVar97="s.t-p":(t.eVar97="s.tl-"+t.linkType,t.linkTrackVars=t.apl(t.linkTrackVars,"eVar97",",",1)),t.tcall?t.c_r("as_pvi")&&(t.prop51=t.c_r("as_pvi")):-1===t.linkTrackVars.indexOf("prop51")&&void 0!==t.prop51&&(t.linkTrackVars=t.apl(t.linkTrackVars,"prop51",",",1)),t.hier1=t.channel?t.channel:"",t.linkTrackVars=t.apl(t.linkTrackVars,"hier1",", ",1),t.linkTrackVars=t.linkTrackVars.replace(new RegExp(" ","g"),"");var w=t.getQueryParam("afid");w&&(t.eVar10=t.getValOnce(w,"s_afc")),t.prop4=t.prop4?t.prop4:"D=g",(t.c_r("rtsid")||t.c_r("rtsidInt"))&&(t.events?"string"==typeof t.events&&-1===t.events.indexOf("event37")&&(t.events+=",event37"):t.events="event37"),p(t),t.manageVars("lowercaseVars","purchaseID,pageType,events,products,transactionID",2)}},1048:function(t,e,i){"use strict";t.exports=function(t){if((t.pageName&&t.prop14&&t.pageName.toLowerCase()!==t.prop14.toLowerCase()||!t.prop14)&&t.tcall){var e,i,n=t.c_r("s_pathLength"),s=n.indexOf(",")>-1?n.split(","):[],r=new Date,a=r.getTime();if(r.setTime(a+18e5),e=t.channel?(e=t.channel.substring(t.channel.indexOf(".")+1,t.channel.length)).substring(e.indexOf(".")+1,e.length):"no channel",0!==s.length&&s.toString().indexOf(e+"=")>-1){for(var o=s.length,l=0;l<o;l++)s[l].toString().indexOf(e+"=")>-1&&(++(i=s[l].split("="))[1],s[l]=i[0]+"="+i[1],t.prop48=i[1]);t.c_w("s_pathLength",s,r)}else i=n+e+"=1,",t.c_w("s_pathLength",i,r),t.prop48="1"}}},1049:function(t,e,i){"use strict";t.exports=function(t){if(t.pageName){var e=escape(t.pageName);e=(e=(e=e.replace(/(%u2018|%u2019|%u02BC|%u02BD)/g,"%27")).replace(/(%u201C|%u201D|%E2%80%9C|%E2%80%9D)/g,"%22")).replace(/(%09|%0A|%0D)/g,""),t.pageName=unescape(e)}}},105:function(t,e,i){"use strict";var n=i(145),s=function(t,e){this._onClick=this._onClick.bind(this),n.apply(this,arguments)},r=s.prototype=Object.create(n.prototype);r._addViewListeners=function(){this._view.on("click",this._onClick)},r._onClick=function(t){},r.destroy=function(){this._view.off("click",this._onClick)},t.exports=s},1050:function(t,e,i){"use strict";t.exports=function(t){var e,i=navigator.userAgent;if(i.match(/windows/i))t.prop9="windows";else if(i.match(/(kindle|silk-accelerated)/i))i.match(/(kindle fire|silk-accelerated)/i)?t.prop9="kindle fire":t.prop9="kindle";else{if(i.match(/(iphone|ipod|ipad)/i))return e=i.match(/OS [0-9_]+/i),void(t.prop9="i"+e[0].replace(/_/g,"."));if(i.match(/android/i))t.prop9=i.match(/android [0-9]\.?[0-9]?\.?[0-9]?/i);else{if(i.match(/webos\/[0-9\.]+/i))return e=i.match(/webos\/[0-9]\.?[0-9]?\.?[0-9]?/i),void(t.prop9=e[0].replace(/webos\//i,"web os "));if(i.match(/rim tablet os [0-9\.]+/i))return e=i.match(/rim tablet os [0-9]\.?[0-9]?\.?[0-9]?/i),void(t.prop9=e[0].replace(/rim tablet os/i,"rim os "));if((i.match(/firefox\/(\d{2}||[3-9])/i)||i.match(/AppleWebKit\//))&&i.match(/Mac OS X [0-9_\.]+/)){var n=i.match(/[0-9_\.]+/g);return n=n[1].split(/_|\./),void(t.prop9=n[0]+"."+n[1]+".x")}var s=i.match(/AppleWebKit\/\d*/i)&&i.match(/AppleWebKit\/\d*/i).toString().replace(/AppleWebKit\//i,"");t.prop9=s>522?"10.5.x":s>400?"10.4.x":s>99?"10.3.x":s>80?"10.2.x":"mac unknown or non-safari"}}}},1051:function(t,e,i){"use strict";t.exports=function(t){var e;t.prop17||("function"==typeof t.getPercentPageViewed&&(e=t.getPercentPageViewed()),e&&e.length>=4&&void 0!==e[1]&&(t.prop14=e[0],t.prop17=e[1]+":"+e[2],t.prop28=10*Math.round(e[3]/10)))}},1052:function(t,e,i){"use strict";var n=i(489),s="eVar93",r="eVar94",a="event210",o="event246",l="event242",c="s_aca_ct",h=900,u=g(),d="ct_li",p="ct_c";function f(t){var e;t.tcall?e=function(t){var e;if(t.Util.cookieRead(c))return e=JSON.parse(t.Util.cookieRead(c)),t.Util.cookieWrite(c,""),e}(t):(_(t),e=m(t),t.acAnalytics[d]=!1),e&&function(t,e){e[s]&&(t[s]=e[s]);e[r]&&(t[r]=e[r]);e.events&&function(t,e){if("string"!=typeof t.events&&void 0!==t.events)return;e.forEach(function(e){-1===e.indexOf("=")?function(t,e){if(!e)return;t.events=t.apl(t.events,e,",",1)}(t,e):function(t,e){var i,n,s={};if(!e)return;if(n=e.split("=")[0],(i=t.events.split(",")).forEach(function(t,e){s[t.split("=")[0]]=e}),isNaN(s[n]))return void(t.events=t.apl(t.events,e,",",1));i.splice(s[n],1,e),t.events=i.join(",")}(t,e)})}(t,e.events);t.tcall||(void 0!==e.linkTrackEvents&&e.linkTrackEvents.forEach(function(e){t.linkTrackEvents=t.apl(t.linkTrackEvents,e,",",1)}),void 0!==e.linkTrackVars&&e.linkTrackVars.forEach(function(e){t.linkTrackVars=t.apl(t.linkTrackVars,e,",",1)}))}(t,e)}function m(t){var e=u?v():(u=g())?v():null,i={linkTrackVars:[],linkTrackEvents:[],events:[]};return null!==e?(i.events.push(o),i.events.push(a+"="+e),i.linkTrackVars.push(r),i.linkTrackEvents.push(a,o),i[r]=e):(i.events.push(l),i.linkTrackEvents.push(l)),i[s]=t.acAnalytics[p],i.linkTrackVars.push(s),i.linkTrackVars.push("events"),i}function _(t){t.acAnalytics[p]?t.acAnalytics[p]++:t.acAnalytics[p]=1}function v(){if(!u)return null;var t=((Date.now()-u)/1e3).toFixed(2);return isNaN(t)?null:(t=parseFloat(t))>=h||t<=0?null:t}function g(){if(window&&window.performance&&window.performance.timing&&window.performance.timing.domInteractive)return window.performance.timing.domInteractive}t.exports=function(t){if(!t.linkName||-1===t.linkName.indexOf("v@e")&&-1===t.linkName.indexOf("v@sk")&&-1===t.linkName.indexOf("v@m"))if(t.tcall)f(t);else if(n(t)&&"e"!==t.linkType&&"d"!==t.linkType)!function(t){_(t);var e=JSON.stringify(m(t)),i=new Date;i.setTime(i.getTime()+18e5),t.Util.cookieWrite(c,e,i)}(t);else if(t.acAnalytics[d]&&t.linkName)f(t);else if(t.linkObject){if("d"===t.linkType||"e"===t.linkType)return void f(t);t.acAnalytics[d]=!0}}},1053:function(t,e,i){"use strict";t.exports=function(){var t="";return[{name:"deploy",url:"deploy.apple.com"},{name:"ade",url:"ade.apple.com"},{name:"appleteacher",url:"appleteacher.apple.com"},{name:"ecommerce",url:"ecommerce.apple.com"},{name:"school",url:"school.apple.com"},{name:"help",url:"help.apple.com"},{name:"survey",url:"survey.apple.com"},{name:"itunespartner",url:"itunespartner.apple.com"},{name:"investor",url:"investor.apple.com"},{name:"consultants",url:"consultants.apple.com"},{name:"itms",url:"itms.apple.com"},{name:"artists",url:"artists.apple.com"},{name:"itunes",url:"itunes.apple.com"}].forEach(function(e,i,n){t+=e.name+"~"+e.url+"|"}),t=t.slice(0,-1)}()},1054:function(t,e,i){"use strict";t.exports=function(t){return t.Util.cookieRead("as_cn")}},1055:function(t,e,i){"use strict";t.exports=function(t){return t.acAnalytics.version}},1056:function(t,e,i){"use strict";var n,s="s_aca_ptd",r={};function a(){return n.tcall}t.exports=function(t){var e;("string"==typeof(n=t).linkType&&n.linkType.length>0||a())&&function(t){try{var e=window[t],i="acAnalyticsStorageTestItem";return e.setItem(i,"a"),e.removeItem(i),!0}catch(t){return!1}}("sessionStorage")&&(e=function(){var t=sessionStorage.getItem(s);if(t)try{return t=JSON.parse(t)}catch(t){return}}())&&(function(t){r.overwriteAppMeasurementValues=!(!t.options||!0!==t.options.overwriteAppMeasurementValues),r.overwriteAppMeasurementEvents=!t.options||!1!==t.options.overwriteAppMeasurementEvents,delete t.options}(e),function(t){t.events&&"string"==typeof t.events&&(function(t){var e=!1,i=function(){if(n.linkTrackEvents&&"string"==typeof n.linkTrackEvents)return n.linkTrackEvents.split(",")}(),s=function(){var t=[];return n.events&&(t=n.events.split(",").map(function(t){var e=t.split("=");return{eventName:e[0],eventValue:e[1]}})),t}();t.split(",").forEach(function(t){var o,l=t.split("="),c=l[0],h=l[1],u=null;a()||(o=-1!==i.indexOf(c)),s.forEach(function(t){t.eventName===c&&(u=t,a()&&(o=!0))}),s.push({eventName:c,eventValue:h}),(!1!==r.overwriteAppMeasurementEvents||!o)&&(u&&function(t){var e=t.eventName;t.eventValue&&(e+="="+t.eventValue),e="^("+e+",+)|("+e+",+)|(,"+e+"$)",e=new RegExp(e),n.events=n.events.replace(e,"")}(u),n.events=n.apl(n.events,t,",",1),e||(e=!0),a()||(n.linkTrackEvents=n.apl(n.linkTrackEvents,c,",",1)))}),e&&(n.linkTrackVars=n.apl(n.linkTrackVars,"events",",",1))}(t.events),delete t.events),function(t){var e,i=function(){if(n.linkTrackVars&&"string"==typeof n.linkTrackVars)return n.linkTrackVars.split(",")}();for(var s in t)t.hasOwnProperty(s)&&(a()?e=!!n[s]:(e=-1!==i.indexOf(s))||(n.linkTrackVars=n.apl(n.linkTrackVars,s,",",1)),!r.overwriteAppMeasurementValues&&e||(n[s]=t[s]))}(t),sessionStorage.removeItem(s)}(e))}},1057:function(t,e,i){"use strict";var n=["www.apple.com","images.apple.com","movies.apple.com","ssl.apple.com","search.apple.com","partner-relay.apple.com"];function s(){var t=window.location.host;return n.indexOf(t)>-1}t.exports={getTrackingServer:function(){return s()?"metrics.apple.com":location.hostname},getSecureTrackingServer:function(){return s()?"securemetrics.apple.com":location.hostname},getDataCenterId:function(){return 112}}},1058:function(t,e,i){"use strict";t.exports={isSafariTopSitesPreview:function(){return!(!navigator||!navigator.loadPurpose||"preview"!==navigator.loadPurpose)},isSafari:function(t){return!1}}},1108:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._player.supportsAirPlay()&&(this._airplayStateChange=this._airplayStateChange.bind(this),this._player.getMediaElement().addEventListener("webkitplaybacktargetavailabilitychanged",this._airplayStateChange),this._updateState=this._updateState.bind(this),this._player.getMediaElement().addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this._updateState))},r=n.prototype,a=s.prototype=Object.create(r);a._airplayStateChange=function(t){"available"===t.availability?this._airplayAvailable=!0:this._airplayAvailable=!1,this._updateState()},a._updateState=function(){this._player.getMediaElement().webkitCurrentPlaybackTargetIsWireless?this._view.setState("on"):this._airplayAvailable?this._view.setState("off"):this._view.setState("initial")},a._onClick=function(){this._player.getMediaElement().webkitShowPlaybackTargetPicker()},a.destroy=function(){this._player.getMediaElement().removeEventListener("webkitplaybacktargetavailabilitychanged",this._airplayStateChange),this._player.getMediaElement().removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this._updateState)},t.exports=s},1109:function(t,e,i){"use strict";t.exports={disableForcedCursorPointer:function(){document.body.classList.remove("cursor-pointer"),this.onSelectStartResumeDefault()},forceCursorPointer:function(){document.body.classList.add("cursor-pointer"),this.onSelectStartPreventDefault()},onSelectStartResumeDefault:function(){document.removeEventListener("selectstart",this.preventDefault)},onSelectStartPreventDefault:function(){document.addEventListener("selectstart",this.preventDefault)},preventDefault:function(t){t.preventDefault()}}},1110:function(t,e,i){"use strict";var n=i(1111),s=function(t){this.el=t.el,this._player=t.player,this._popUp=new n(t),this.el.appendChild(this._popUp.el)},r=s.prototype;r.setData=function(t){this._popUp.setData(t)},r.show=function(){this.el.classList.remove("hidden")},r.hide=function(){this.el.classList.add("hidden")},r.destroy=function(){},t.exports=s},1111:function(t,e,i){"use strict";var n=i(277),s=i(1112),r=i(276),a=function(t){this._player=t.player,this.el=document.createElement("div"),this.el.style.opacity="0",this.el.innerHTML='<div class="ac-video-trickplay hidden" aria-hidden="true">\n    <div class="ac-video-trickplay-image">\n    </div>\n    <div class="ac-video-trickplay-time"></div>\n</div>\n',this._thumbnailHandler=new s({el:this.el.querySelector(".ac-video-trickplay-image"),player:this._player,numberOfImages:t.numberOfImages}),this._timeLabel=this.el.querySelector(".ac-video-trickplay-time"),this._bindMethods(),this._addEventListeners()},o=a.prototype;o._initPointerTracking=function(){this._scrubberView=this._player.controls.scrubberView,this._scrubberView&&(this._runnableTrack=this._scrubberView.el.querySelector(".ac-slider-runnable-track"),this._calcOffsets(),this._scrubberView.el.addEventListener("mouseover",this._show),this._scrubberView.el.addEventListener("mouseout",this._hide),this._scrubberView.el.addEventListener("mousedown",this._startScrubbing),this._scrubberView.el.addEventListener("mouseup",this._endScrubbing),this._scrubberView.el.addEventListener("mousemove",this._onTrackerUpdate),this._scrubberView.el.addEventListener("mousemove",this._setThumbnail),this._player.on("resize",this._calcOffsets),window.addEventListener("resize",this._calcOffsets))},o._bindMethods=function(){this._show=this._show.bind(this),this._hide=this._hide.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._startScrubbing=this._startScrubbing.bind(this),this._endScrubbing=this._endScrubbing.bind(this),this._initPointerTracking=this._initPointerTracking.bind(this),this._onTrackerUpdate=this._onTrackerUpdate.bind(this),this._setThumbnail=this._setThumbnail.bind(this),this._calcOffsets=this._calcOffsets.bind(this),this._debouncedCalcOffsets=r(this._calcOffsets,30)},o._startScrubbing=function(t){this._thumbnailHandler.el.classList.add("hidden"),this._scrubberView.el.removeEventListener("mousemove",this._setThumbnail),this._scrubberView.el.removeEventListener("mouseout",this._hide),document.addEventListener("mouseup",this._endScrubbing),document.addEventListener("mousemove",this._onTrackerUpdate)},o._endScrubbing=function(t){t.target===this._scrubberView.el&&this._hide(),this._scrubberView.el.addEventListener("mousemove",this._setThumbnail),this._scrubberView.el.addEventListener("mouseout",this._hide),document.removeEventListener("mouseup",this._endScrubbing),document.removeEventListener("mousemove",this._onTrackerUpdate),this._setThumbnail(t),this._thumbnailHandler.el.classList.remove("hidden")},o._calcOffsets=function(){this._onLoadedMetaData();var t=this._player.el.getBoundingClientRect();this._offsetLeft=t.left;var e=this._runnableTrack.getBoundingClientRect();this._leftBoundary=e.left-this._offsetLeft+5,this._rightBoundary=this._leftBoundary+e.width-5-2,this._imgWidth=this.el.firstElementChild.getBoundingClientRect().width},o._onLoadedMetaData=function(){var t=this._player.getMediaElement().videoWidth,e=this._player.getMediaElement().videoHeight,i=-1!==this._player.getMediaElement().src.indexOf("-tft-");this.el.classList.remove("square-video"),this.el.classList.remove("vertical-video"),this.el.classList.remove("tft-video"),i?(this.el.classList.add("tft-video"),this._thumbnailHandler.setVertical(!1)):t<e?(this.el.classList.add("vertical-video"),this._thumbnailHandler.setVertical(!0)):t===e?(this.el.classList.add("square-video"),this._thumbnailHandler.setVertical(!1)):this._thumbnailHandler.setVertical(!1)},o._addEventListeners=function(){this._player.on("durationchange",this._onDurationChange),this._player.once("controlsready",this._initPointerTracking),this._player.on("loadedmetadata",this._calcOffsets)},o._removeEventListeners=function(){this._player.off("durationchange",this._onDurationChange),this._player.off("controlsready",this._initPointerTracking),this._player.off("timeupdate",this._calcOffsets),this._player.off("resize",this._debouncedCalcOffsets),window.removeEventListener("resize",this._debouncedCalcOffsets),this._scrubberView.el.removeEventListener("mouseover",this._show),this._scrubberView.el.removeEventListener("mouseout",this._hide),this._scrubberView.el.removeEventListener("mousemove",this._onTrackerUpdate),this._scrubberView.el.removeEventListener("mousemove",this._setThumbnail)},o._onTrackerUpdate=function(t){this._calcOffsets();var e=Math.min(Math.max(t.clientX-this._offsetLeft,this._leftBoundary),this._rightBoundary);this.el.firstElementChild.style.left=e-this._imgWidth/2+"px";var i=this._scrubberView.getClientXValue(t);this._player.getReadyState()<=2?this._cachedTrackerUpdate=t:this._cachedTrackerUpdate=null,this._setTime(Math.max(i,0))},o._onDurationChange=function(t){this._cachedDuration=this._player.getDuration(),this._cachedTrackerUpdate&&(this._onTrackerUpdate(this._cachedTrackerUpdate),this._setThumbnail()),this.el.style.opacity="1"},o._setThumbnail=function(t){this._thumbnailHandler.setTime(this._time,this._cachedDuration)},o._setTime=function(t){var e=t/this._scrubberView.getMax();this._time=Math.min(e*this._cachedDuration,this._cachedDuration);var i=n.formatTime(Math.round(this._time),this._cachedDuration);this._timeLabel.innerHTML=i},o.setData=function(t){this.el.style.opacity="0",this._canPlayThroughHander&&(this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander),this._canPlayThroughHander=null),t&&this._player.getReadyState()>2?(this.el.style.opacity="1",this._thumbnailHandler.setData(t),this._cachedTrackerUpdate&&(this._onTrackerUpdate(this._cachedTrackerUpdate),this._setThumbnail())):(this._thumbnailHandler.setData(null),t?(this._canPlayThroughHander=this.setData.bind(this,t),this._player.on("canplaythrough",this._canPlayThroughHander),this._player.on("playing",this._canPlayThroughHander)):this.el.style.opacity="1"),this._onLoadedMetaData()},o._show=function(t){this._onTrackerUpdate(t),this.el.firstElementChild.classList.remove("hidden")},o._hide=function(){this.el.firstElementChild.classList.add("hidden")},o.destroy=function(){this._canPlayThroughHander&&(this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander)),this._tracker.destroy()},t.exports=a},1112:function(t,e,i){"use strict";var n=function(t){this.el=t.el,this._player=t.player,this._imgWidth=t.imgWidth||144,this.el.style.backgroundSize=100*this._numberOfImages+"% 100%"},s=n.prototype;s.setVertical=function(t){this._imgWidth=t?81:144},s.getWidth=function(){return this._imgWidth},s.setData=function(t){if(!t)return this._imgUrl=null,void(this.el.style.backgroundImage="");if(t.url!==this._imgUrl){this._imgUrl=t.url,this._numberOfImages=parseInt(t.numberOfImages||120),this.el.style.backgroundSize=100*this._numberOfImages+"% 100%",this.el.style.backgroundImage="",this.el.classList.add("hidden");var e=this._loadImage(this._imgUrl).then(function(){this._imageLoadPromise===e&&(this.el.style.backgroundImage='url("'+this._imgUrl+'")',this._imageLoadPromise=null,this.el.classList.remove("hidden"))}.bind(this));this._imageLoadPromise=e}},s._loadImage=function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){e()},n.onerror=function(){i()},n.src=t})},s.setTime=function(t,e){var i=t/e,n=Math.min(Math.round(i*this._numberOfImages),this._numberOfImages-1)/(this._numberOfImages-1)*100;this.el.style.backgroundPositionX=n+"%"},s.destroy=function(){this._imageLoadPromise&&this._imageLoadPromise.cancel()},t.exports=n},1113:function(t,e,i){"use strict";var n=i(1114),s=function(t){this.el=t.el,this._player=t.player,this._addItems(t.items||[])},r=s.prototype;r._addItems=function(t){this._items=[],t.forEach(function(t){var e=document.createElement("div");e.classList.add("end-state-item");var i=new n(Object.assign({},t,{el:e,player:this._player}));this.el.appendChild(e),this._items.push(i)}.bind(this))},r.setData=function(t){for(;this._items.length;)this._items.pop().destroy();this.el.innerHTML="",t?(this.el.classList.remove("hidden"),this._addItems(t.items)):this.el.classList.add("hidden")},r.destroy=function(){for(;this._items.length;)this._items.pop().destroy()},t.exports=s},1114:function(t,e,i){"use strict";var n=function(t){this.el=t.el,this.el.innerHTML='<a class="end-state-link hidden"></a>\n',this._player=t.player,this._bindContent(t)},s=n.prototype;s._bindContent=function(t){if("link"===t.type||"video"===t.type){var e=this.el.querySelector(".end-state-link"),i=document.createElement("div");e.classList.remove("hidden"),i.classList.add("end-state-text-container"),i.innerText=t.label||"",e.href=t.url||"",e.appendChild(i),"link"===t.type?e.classList.add("icon","icon-after","icon-chevronright"):"video"===t.type&&e.classList.add("icon","icon-after","icon-playcircle"),this._bindAction(this.el,t)}},s._bindAction=function(t,e){"function"==typeof e.onclick?t.onclick=function(t){t.preventDefault(),e.onclick.call(null,t)}.bind(this):"video"===e.type&&e.url&&(t.onclick=function(t){t.preventDefault(),this._player.load(e.url,null,0,{})}.bind(this))},s.destroy=function(){},t.exports=n},1115:function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(288);var s=i(142),r=(i(143),i(65)),a=r.os.ios||r.os.android,o=i(439),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._rootElement=e.rootElement,this._player=e.player,this._360=this._player.get360(),this.el=this._rootElement.querySelector(".compass-wrapper"),this.compassRing=this.el.querySelector(".compass-ring"),this.compassField=this.el.querySelector(".compass-field"),this.compass=this.el.querySelector(".compass"),this.compassArrows=this.el.querySelector(".compass-arrows"),this.compassArrowLeft=this.el.querySelector(".compass-arrow-left"),this.compassArrowRight=this.el.querySelector(".compass-arrow-right"),this.compassArrowTop=this.el.querySelector(".compass-arrow-top"),this.compassArrowBottom=this.el.querySelector(".compass-arrow-bottom"),this._keyboard=new s(this.el),this._arrowControls=this._player.get360().arrowControls,this._bindMethods(),this._addEventListeners()}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"_bindMethods",value:function(){this._onFocusIn=this._onFocusIn.bind(this),this._onFocusOut=this._onFocusOut.bind(this),this._onCompassClick=this._onCompassClick.bind(this),this._onCompassMouseEnter=this._onCompassMouseEnter.bind(this),this._onCompassMouseLeave=this._onCompassMouseLeave.bind(this),this._onCompassFocusIn=this._onCompassFocusIn.bind(this),this._onCompassFocusOut=this._onCompassFocusOut.bind(this),this._onRotationTransitionEnd=this._onRotationTransitionEnd.bind(this),this._onCompassArrowsClick=this._onCompassArrowsClick.bind(this),this._on360PositionChange=this._on360PositionChange.bind(this),this._on360IconUpdate=this._on360IconUpdate.bind(this),this._transitionTiming=this._transitionTiming.bind(this)}},{key:"_addEventListeners",value:function(){this._player.once("controlsready",function(){a||(this.compass.addEventListener("mouseenter",this._onCompassMouseEnter),this.compass.addEventListener("mouseleave",this._onCompassMouseLeave)),this.el.addEventListener("focusin",this._onFocusIn),this.el.addEventListener("focusout",this._onFocusOut),this.compass.addEventListener("click",this._onCompassClick),this.compass.addEventListener("focusin",this._onCompassFocusIn),this.compass.addEventListener("focusout",this._onCompassFocusOut),this.compassArrows.addEventListener("click",this._onCompassArrowsClick),this._360.on(o.POSITION_CHANGE,this._on360PositionChange),this._360.on(o.ROTATION_START,this._transitionTiming),this._360.on(o.ROTATION_COMPLETE,this._onRotationTransitionEnd)}.bind(this))}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("focusin",this._onFocusIn),this.el.removeEventListener("focusout",this._onFocusOut),this.compass.removeEventListener("click",this._onCompassClick),this.compass.removeEventListener("focusin",this._onCompassFocusIn),this.compass.removeEventListener("focusout",this._onCompassFocusOut),this.compass.removeEventListener("mouseenter",this._onCompassMouseEnter),this.compass.removeEventListener("mouseleave",this._onCompassMouseLeave),this.compassArrows.removeEventListener("click",this._onCompassArrowsClick),this._360.off(o.POSITION_CHANGE,this._on360PositionChange),this._360.off(o.ROTATION_START,this._transitionTiming),this._360.off(o.ROTATION_COMPLETE,this._onRotationTransitionEnd)}},{key:"_showCompassArrows",value:function(){this.el.classList.add("show-arrows")}},{key:"_hideCompassArrows",value:function(){this.el.classList.remove("show-arrows")}},{key:"_onRotationTransitionEnd",value:function(){this._compassIsRotating=!1,this._360.off(o.ROTATION_UPDATE,this._on360IconUpdate)}},{key:"_transitionTiming",value:function(t){var e=t.time,i=this._get360HorizontalAngle();this._compassIsRotating=!0,this.compassRing.style.transition="transform ".concat(e,"ms cubic-bezier(0.25,0.1,0,1)"),this.compassField.style.transition="transform ".concat(e,"ms cubic-bezier(0.25,0.1,0,1)");var n="rotate(".concat(360,"deg)");i>180?(this.compassRing.style.transform=n,this.compassField.style.transform=n):i<-180?(this.compassRing.style.transform=n,this.compassField.style.transform=n):(this.compassRing.style.transform="rotate(0deg)",this.compassField.style.transform="rotate(0deg)")}},{key:"_on360IconUpdate",value:function(t){this.compassRing.style.transition="transform 0.1s ease",this.compassRing.style.transform="rotate(".concat(t.currentPosition.lon,"deg)"),this.compassField.style.transition="transform 0.1s ease",this.compassField.style.transform="rotate(".concat(t.currentPosition.lon,"deg)")}},{key:"_onCompassClick",value:function(t){this._compassIsRotating||(this._player.get360().isAtOrigin?(this._360.on(o.ROTATION_UPDATE,this._on360IconUpdate),this._player.get360().oscillateLongitude()):this._player.panToOrigin())}},{key:"_onCompassArrowsClick",value:function(t){switch(t.target){case this.compassArrowLeft:this._arrowControls.leftArrowDown(t),this._arrowControls.leftArrowUp(t);break;case this.compassArrowRight:this._arrowControls.rightArrowDown(t),this._arrowControls.rightArrowUp(t);break;case this.compassArrowTop:this._arrowControls.upArrowDown(t),this._arrowControls.upArrowUp(t);break;case this.compassArrowBottom:this._arrowControls.downArrowDown(t),this._arrowControls.downArrowUp(t)}}},{key:"_onFocusIn",value:function(t){t.target!==this.compass&&this._showCompassArrows()}},{key:"_onFocusOut",value:function(t){this._hideCompassArrows()}},{key:"_onCompassFocusIn",value:function(t){this._rotateFieldOfViewToOrigin()}},{key:"_onCompassFocusOut",value:function(t){var e=this._get360HorizontalAngle();this.compassField.style.transform="rotate(".concat(e,"deg)")}},{key:"_rotateFieldOfViewToOrigin",value:function(){var t=this._get360HorizontalAngle();this.compassField.style.transition="transform 0.3s ease",this.compassField.style.transform=t>180?"rotate(".concat(360,"deg)"):t<-180?"rotate(-".concat(360,"deg)"):"rotate(0deg)"}},{key:"_onCompassMouseEnter",value:function(t){this._hovering=!0,this._compassIsRotating||this._rotateFieldOfViewToOrigin()}},{key:"_onCompassMouseLeave",value:function(t){if(this._hovering=!1,!this._compassIsRotating){var e=this._get360HorizontalAngle();this.compassField.style.transition="transform 0.3s ease",this.compassField.style.transform="rotate(".concat(e,"deg)")}}},{key:"_on360PositionChange",value:function(){var t=this._get360HorizontalAngle();this.compassRing.style.transition="none",this.compassRing.style.transform="rotate(".concat(t,"deg)"),this._hovering||(this.compassField.style.transition="none",this.compassField.style.transform="rotate(".concat(t,"deg)"))}},{key:"_get360HorizontalAngle",value:function(){return this._player.get360().position.lon%360}},{key:"destroy",value:function(){this._removeEventListeners()}}]),t}();t.exports=l},1116:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=i(78);t.exports=function t(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return s(e[0]);var i=s(e.shift(),!0),r=e.shift();for(var a in r)r.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&"object"===n(i[a])?"object"===n(i[a])&&"object"===n(r[a])&&(i[a]=t(i[a],r[a])):i[a]=r[a]);return e.length?t.apply(null,[i].concat(e)):i}},1117:function(t,e,i){"use strict";var n={components:i(465),controlsImplementation:i(502)};t.exports=function(t){t=t||{};var e=Object.assign({},n,t);return{create:function(i){var s=Object.assign({},e,i);return s.components=t.components||n.components,new s.controlsImplementation(s)}}}},1118:function(t,e,i){"use strict";var n=i(140),s=/_r[0-9].+\.mov$/,r=/_[0-9]+x[0-9].+\.mp4$/,a=/_([0-9]+)x([0-9]+)/,o=/-tpl-.*-/,l=/-cc-[a-z].*-/,c=/-tft-.*-/,h=i(1119),u=i(1120),d=i(1121),p=i(504),f=function(t,e){return t.find(function(t){return t.width===e.width&&(t.height=e.height)||t.width===e.height&&(t.height=e.width)})};t.exports={getVideoSource:function(t,e,i,o){var l,m;a.test(t);var _,v={};if(v.width=parseInt(RegExp.$1,10),v.height=parseInt(RegExp.$2,10),t.match(c))l=d,m=1536;else if(v.width===v.height)l=h,m=1080;else if(t.match(s)||f(u,v))l=u,m=1280;else{if(!f(p,v))return t;l=p,m=1624}v.width<v.height&&(_=!0);var g,b=l[0].width,y=o&&o.maxWidth?Math.max(o.maxWidth,b):m;if(!t)throw"Must provide an url to optimize";if(void 0===e||isNaN(e))throw"Must provide a width";0===e&&(e=v.width),i&&(l=l.filter(function(t){return t.type===i})),y<1920&&(l=l.filter(function(t){return t.width<=y})),g=_?l.reduce(function(t,i){return Math.abs(i.height-e)<Math.abs(t.height-e)?i:t}):l.reduce(function(t,i){return Math.abs(i.width-e)<Math.abs(t.width-e)?i:t});var w="_{width}x{height}{suffix}.mp4";return _&&(w="_{height}x{width}{suffix}.mp4"),t.match(r)?t.replace(r,n(w,g)):t.match(s)?t.replace(s,n(w,g)):t},getCaptionsSource:function(t){return t.match(l)?t.match(r)?{src:t.replace(r,"_cc.vtt"),srclang:"en"}:t.match(s)?{src:t.replace(s,"_cc.vtt"),srclang:"en"}:null:null},getThumbnailImageSource:function(t){return t.match(o)?{url:t.replace(r,"_thumbnails.jpg")}:null}}},1119:function(t,e,i){"use strict";t.exports=[{width:360,height:360,type:"baseline-high",suffix:"h"},{width:360,height:360,type:"small",suffix:"h"},{width:360,height:360,type:"baseline-low",suffix:"l"},{width:480,height:480,type:"medium",suffix:""},{width:540,height:540,type:"medium",suffix:""},{width:720,height:720,type:"large",suffix:"h"},{width:720,height:720,type:"large",suffix:"l"},{width:1080,height:1080,type:"large",suffix:"l"},{width:1080,height:1080,type:"large",suffix:"h"}]},1120:function(t,e,i){"use strict";t.exports=[{width:416,height:234,type:"baseline-high",suffix:"h"},{width:416,height:234,type:"small",suffix:"h"},{width:416,height:234,type:"baseline-low",suffix:"l"},{width:416,height:234,type:"baseline-medium",suffix:"m"},{width:640,height:360,type:"medium",suffix:"h"},{width:848,height:480,type:"large",suffix:""},{width:960,height:540,type:"large",suffix:""},{width:1280,height:720,type:"large",suffix:"h"},{width:1280,height:720,type:"large",suffix:"l"},{width:1920,height:1080,type:"large",suffix:"l"},{width:1920,height:1080,type:"large",suffix:"h"}]},1121:function(t,e,i){"use strict";t.exports=[{width:384,height:160,type:"baseline-high",suffix:"h"},{width:384,height:160,type:"small",suffix:"h"},{width:384,height:160,type:"baseline-low",suffix:"l"},{width:384,height:160,type:"baseline-medium",suffix:"m"},{width:480,height:200,type:"medium",suffix:"h"},{width:768,height:320,type:"large",suffix:""},{width:960,height:400,type:"large",suffix:""},{width:1536,height:640,type:"large",suffix:"h"},{width:1536,height:640,type:"large",suffix:"l"},{width:1920,height:800,type:"large",suffix:"l"},{width:1920,height:800,type:"large",suffix:"h"}]},1122:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(274),h=i(456),u=i(65).os,d=u.ios||u.android||!i(88)(),p=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=r(this,o(e).call(this,t)),t.threesixty&&i.el.classList.add("threesixty-video"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,c),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"_bindMethods",value:function(){a(o(e.prototype),"_bindMethods",this).call(this),this._showCompass=this._showCompass.bind(this),this._hideCompass=this._hideCompass.bind(this),this.panToOrigin=this.panToOrigin.bind(this)}},{key:"_addEventListeners",value:function(){a(o(e.prototype),"_addEventListeners",this).call(this)}},{key:"_removeEventListeners",value:function(){a(o(e.prototype),"_removeEventListeners",this).call(this),this.controls.compass.removeEventListener("click",this.panToOrigin)}},{key:"_showCompass",value:function(){this.el.classList.add("threesixty-ui")}},{key:"_hideCompass",value:function(){this.el.classList.remove("threesixty-ui")}},{key:"_instantiateDefaultCustomUIControls",value:function(){return this.controls=this._controlsFactory.create({player:this,endState:this.options.endState,threesixty:!0,enableMainControls:!0,basePath:this.options.localizationBasePath,template:this.options.template,readyCallback:function(){this.options.autoplay&&!d||this._showStartState(),this.trigger("controlsready")}.bind(this)}),this.controls.el.parentNode!==this.el&&this.el.appendChild(this.controls.el),this._videoImpl.setControls(!1),this._createBlockade(),this._controlsInteraction=h({player:this,keyboardControl:this._keyboardControl,threesixty:!0,controlsTimeoutDuration:this.options.controlsTimeoutDuration,threesixtyElementsTimeoutDuration:this.options.threesixtyElementsTimeoutDuration,showControls:this._showControls,hideControls:this._hideControls,raiseControls:this._raiseControls,lowerControls:this._lowerControls,showCompass:this._showCompass,hideCompass:this._hideCompass,controlsVisible:function(){return this._controlsVisible}.bind(this),sendMouseDown:this._videoImpl.sendMouseDown,elementEmitter:this._elementEmitter}),this.controls}},{key:"panToOrigin",value:function(){this.get360().panToPosition({lat:0,lon:0})}},{key:"get360",value:function(){return this._videoImpl.get360()}},{key:"getFullScreenElement",value:function(){return this.el}},{key:"getFullScreenEnabled",value:function(){return!d&&a(o(e.prototype),"getFullScreenEnabled",this).call(this)}}]),e}();t.exports=p},1138:function(t,e,i){"use strict";t.exports=i(464)},1196:function(t,e,i){"use strict";var n=i(1197),s=i(1207),r=i(1208),a=Math.PI/180,o=180/Math.PI;function l(){this.m=n.create()}var c=l.prototype;c.rotateX=function(t){var e=a*t;return n.rotateX(this.m,this.m,e),this},c.rotateY=function(t){var e=a*t;return n.rotateY(this.m,this.m,e),this},c.rotateZ=function(t){var e=a*t;return n.rotateZ(this.m,this.m,e),this},c.rotate=c.rotateZ,c.rotate3d=function(t,e,i,s){null!==e&&void 0!==e||(e=t),null!==i&&void 0!==e||(i=t);var r=a*s;return n.rotate(this.m,this.m,r,[t,e,i]),this},c.rotateAxisAngle=c.rotate3d,c.scale=function(t,e){return e=e||t,n.scale(this.m,this.m,[t,e,1]),this},c.scaleX=function(t){return n.scale(this.m,this.m,[t,1,1]),this},c.scaleY=function(t){return n.scale(this.m,this.m,[1,t,1]),this},c.scaleZ=function(t){return n.scale(this.m,this.m,[1,1,t]),this},c.scale3d=function(t,e,i){return n.scale(this.m,this.m,[t,e,i]),this},c.skew=function(t,e){if(null===e||void 0===e)return this.skewX(t);t*=a,e*=a;var i=n.create();return i[4]=Math.tan(t),i[1]=Math.tan(e),n.multiply(this.m,this.m,i),this},c.skewX=function(t){t*=a;var e=n.create();return e[4]=Math.tan(t),n.multiply(this.m,this.m,e),this},c.skewY=function(t){t*=a;var e=n.create();return e[1]=Math.tan(t),n.multiply(this.m,this.m,e),this},c.translate=function(t,e){return e=e||0,n.translate(this.m,this.m,[t,e,0]),this},c.translate3d=function(t,e,i){return n.translate(this.m,this.m,[t,e,i]),this},c.translateX=function(t){return n.translate(this.m,this.m,[t,0,0]),this},c.translateY=function(t){return n.translate(this.m,this.m,[0,t,0]),this},c.translateZ=function(t){return n.translate(this.m,this.m,[0,0,t]),this},c.perspective=function(t){var e=n.create();0!==t&&(e[11]=-1/t),n.multiply(this.m,this.m,e)},c.inverse=function(){var t=this.clone();return t.m=n.invert(t.m,this.m),t},c.reset=function(){return n.identity(this.m),this},c.getTranslateXY=function(){var t=this.m;return this.isAffine(),[t[12],t[13]]},c.getTranslateXYZ=function(){var t=this.m;return this.isAffine()?[t[12],t[13],0]:[t[12],t[13],t[14]]},c.getTranslateX=function(){var t=this.m;return this.isAffine(),t[12]},c.getTranslateY=function(){var t=this.m;return this.isAffine(),t[13]},c.getTranslateZ=function(){var t=this.m;return this.isAffine()?0:t[14]},c.clone=function(){var t=new l;return t.m=n.clone(this.m),t},c.toArray=function(){var t=this.m;return this.isAffine()?[t[0],t[1],t[4],t[5],t[12],t[13]]:[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},c.fromArray=function(t){return this.m=Array.prototype.slice.call(t),this},c.setMatrixValue=function(t){t=String(t).trim();var e=n.create();if("none"===t)return this.m=e,this;var i,s,r=t.slice(0,t.indexOf("("));if("matrix3d"===r)for(i=t.slice(9,-1).split(","),s=0;s<i.length;s++)e[s]=parseFloat(i[s]);else{if("matrix"!==r)throw new TypeError("Invalid Matrix Value");for(s=(i=t.slice(7,-1).split(",")).length;s--;)i[s]=parseFloat(i[s]);e[0]=i[0],e[1]=i[1],e[12]=i[4],e[4]=i[2],e[5]=i[3],e[13]=i[5]}return this.m=e,this};var h=function(t){return Math.abs(t)<1e-4};c.decompose=function(t){t=t||!1;for(var e=n.clone(this.m),i=s.create(),a=s.create(),l=s.create(),c=r.create(),u=r.create(),d=(s.create(),0);d<16;d++)e[d]/=e[15];var p=n.clone(e);p[3]=0,p[7]=0,p[11]=0,p[15]=1;e[3],e[7],e[11];var f=e[12],m=e[13],_=e[14],v=(e[15],r.create());if(h(e[3])&&h(e[7])&&h(e[11]))c=r.fromValues(0,0,0,1);else{v[0]=e[3],v[1]=e[7],v[2]=e[11],v[3]=e[15];var g=n.invert(n.create(),p),b=n.transpose(n.create(),g);c=r.transformMat4(c,v,b)}i[0]=f,i[1]=m,i[2]=_;var y=[s.create(),s.create(),s.create()];y[0][0]=e[0],y[0][1]=e[1],y[0][2]=e[2],y[1][0]=e[4],y[1][1]=e[5],y[1][2]=e[6],y[2][0]=e[8],y[2][1]=e[9],y[2][2]=e[10],a[0]=s.length(y[0]),s.normalize(y[0],y[0]),l[0]=s.dot(y[0],y[1]),y[1]=this._combine(y[1],y[0],1,-l[0]),a[1]=s.length(y[1]),s.normalize(y[1],y[1]),l[0]/=a[1],l[1]=s.dot(y[0],y[2]),y[2]=this._combine(y[2],y[0],1,-l[1]),l[2]=s.dot(y[1],y[2]),y[2]=this._combine(y[2],y[1],1,-l[2]),a[2]=s.length(y[2]),s.normalize(y[2],y[2]),l[1]/=a[2],l[2]/=a[2];var w=s.cross(s.create(),y[1],y[2]);if(s.dot(y[0],w)<0)for(d=0;d<3;d++)a[d]*=-1,y[d][0]*=-1,y[d][1]*=-1,y[d][2]*=-1;u[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),u[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),u[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),u[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(u[0]=-u[0]),y[0][2]>y[2][0]&&(u[1]=-u[1]),y[1][0]>y[0][1]&&(u[2]=-u[2]);var k=r.fromValues(u[0],u[1],u[2],2*Math.acos(u[3])),x=this._rotationFromQuat(u);return t&&(l[0]=Math.round(l[0]*o*100)/100,l[1]=Math.round(l[1]*o*100)/100,l[2]=Math.round(l[2]*o*100)/100,x[0]=Math.round(x[0]*o*100)/100,x[1]=Math.round(x[1]*o*100)/100,x[2]=Math.round(x[2]*o*100)/100,k[3]=Math.round(k[3]*o*100)/100),{translation:i,scale:a,skew:l,perspective:c,quaternion:u,eulerRotation:x,axisAngle:k}},c.recompose=function(t,e,i,a,o){t=t||s.create(),e=e||s.create(),i=i||s.create(),a=a||r.create(),o=o||r.create();var l=n.fromRotationTranslation(n.create(),o,t);l[3]=a[0],l[7]=a[1],l[11]=a[2],l[15]=a[3];var c=n.create();return 0!==i[2]&&(c[9]=i[2],n.multiply(l,l,c)),0!==i[1]&&(c[9]=0,c[8]=i[1],n.multiply(l,l,c)),i[0]&&(c[8]=0,c[4]=i[0],n.multiply(l,l,c)),n.scale(l,l,e),this.m=l,this},c.isAffine=function(){return 0===this.m[2]&&0===this.m[3]&&0===this.m[6]&&0===this.m[7]&&0===this.m[8]&&0===this.m[9]&&1===this.m[10]&&0===this.m[11]&&0===this.m[14]&&1===this.m[15]},c.toString=function(){var t=this.m;return this.isAffine()?"matrix("+t[0]+", "+t[1]+", "+t[4]+", "+t[5]+", "+t[12]+", "+t[13]+")":"matrix3d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},c.toCSSString=c.toString,c._combine=function(t,e,i,n){var r=s.create();return r[0]=i*t[0]+n*e[0],r[1]=i*t[1]+n*e[1],r[2]=i*t[2]+n*e[2],r},c._matrix2dToMat4=function(t){for(var e=n.create(),i=0;i<4;i++)for(var s=0;s<4;s++)e[4*i+s]=t[i][s];return e},c._mat4ToMatrix2d=function(t){for(var e=[],i=0;i<4;i++){e[i]=[];for(var n=0;n<4;n++)e[i][n]=t[4*i+n]}return e},c._rotationFromQuat=function(t){var e,i,n,r=t[3]*t[3],a=t[0]*t[0],o=t[1]*t[1],l=t[2]*t[2],c=a+o+l+r,h=t[0]*t[1]+t[2]*t[3];return h>.499*c?(i=2*Math.atan2(t[0],t[3]),n=Math.PI/2,e=0,s.fromValues(e,i,n)):h<-.499*c?(i=-2*Math.atan2(t[0],t[3]),n=-Math.PI/2,e=0,s.fromValues(e,i,n)):(i=Math.atan2(2*t[1]*t[3]-2*t[0]*t[2],a-o-l+r),n=Math.asin(2*h/c),e=Math.atan2(2*t[0]*t[3]-2*t[1]*t[2],-a+o-l+r),s.fromValues(e,i,n))},t.exports=l},1197:function(t,e,i){var n={create:i(540),rotate:i(1198),rotateX:i(1199),rotateY:i(1200),rotateZ:i(1201),scale:i(1202),multiply:i(1203),translate:i(1204),invert:i(541),clone:i(542),transpose:i(543),identity:i(1205),fromRotationTranslation:i(1206)};t.exports=n},1207:function(t,e,i){var n={create:i(544),dot:i(545),normalize:i(546),length:i(547),cross:i(548),fromValues:i(549)};t.exports=n},1208:function(t,e,i){var n={create:i(550),transformMat4:i(551),fromValues:i(552)};t.exports=n},1225:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=i(8).EventEmitterMicro,c=i(81),h=i(157),u=i(328),d=i(561),p=i(562),f=i(1243),m=i(218),_={create:i(220),update:i(329),cancelUpdate:i(1244),external:i(566),draw:i(330)},v=null,g=function(t){function e(){var t;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e}(this,r(e).call(this)),v)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return v=o(o(t)),t.groups=[],t.scrollSystems=[],t.timeSystems=[],t._forceUpdateRAFId=-1,t.setupEvents(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,l),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"initialize",value:function(){this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes()}},{key:"destroy",value:function(){this.groups.forEach(function(t){return t.destroy()}),this.groups=null,this.scrollSystems=null,this.timeSystems=null,window.clearTimeout(c.RESIZE_TIMEOUT),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate)}},{key:"createTimeGroup",value:function(t){var e=new f(t,this);return this.groups.push(e),this.timeSystems.push(e),this.trigger(c.EVENTS.ON_GROUP_CREATED,e),e}},{key:"createScrollGroup",value:function(t){if(!t)throw"AnimSystem scroll based groups must supply an HTMLElement";var e=new p(t,this);return this.groups.push(e),this.scrollSystems.push(e),this.trigger(c.EVENTS.ON_GROUP_CREATED,e),e}},{key:"removeGroup",value:function(t){var e=this;t.keyframeControllers.forEach(function(e){return t.removeKeyframeController(e)}),_.update(function(){var i=e.groups.indexOf(t);-1!==i&&e.groups.splice(i,1),-1!==(i=e.scrollSystems.indexOf(t))&&e.scrollSystems.splice(i,1),-1!==(i=e.timeSystems.indexOf(t))&&e.timeSystems.splice(i,1),_.update(function(){return t.destroy()})})}},{key:"createDOMGroups",value:function(){var t=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(function(e){return t.createScrollGroup(e)}),document.querySelectorAll("[data-anim-time-group]").forEach(function(e){return t.createTimeGroup(e)}),this.trigger(c.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var t=this,e=[];[h.DATA_ATTRIBUTE,u.DATA_ATTRIBUTE,d.DATA_ATTRIBUTE].forEach(function(t){for(var i=0;i<12;i++)e.push(t+(0===i?"":"-"+(i-1)))});for(var i=0;i<e.length;i++)for(var n=e[i],s=document.querySelectorAll("["+n+"]"),r=0;r<s.length;r++){var a=s[r],o=JSON.parse(a.getAttribute(n));this.addKeyframe(a,o)}_.update(function(){return t.groups.forEach(function(t){return t.onKeyframesDirty({preventOnScroll:!0})})},!0),_.update(function(){t.groups.forEach(function(t){return t.trigger(c.EVENTS.ON_DOM_KEYFRAMES_CREATED,t)}),t.trigger(c.EVENTS.ON_DOM_KEYFRAMES_CREATED,t),t.groups.forEach(function(t){return t.reconcile()}),t.onScroll()},!0)}},{key:"initializeModel",value:function(){c.pageMetrics.windowHeight=window.innerHeight,c.pageMetrics.windowWidth=window.innerWidth,c.pageMetrics.scrollY=window.scrollY||window.pageYOffset,c.pageMetrics.scrollX=window.scrollX||window.pageXOffset,c.pageMetrics.breakpoint=c.getBreakpoint();var t=document.documentElement.getBoundingClientRect();c.pageMetrics.documentOffsetX=t.left+c.pageMetrics.scrollX,c.pageMetrics.documentOffsetY=t.top+c.pageMetrics.scrollY}},{key:"setupEvents",value:function(){this.onScroll=this.onScroll.bind(this),this.onResizedDebounced=this.onResizedDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResizeImmediate)}},{key:"determineActiveKeyframes",value:function(){for(var t=m(Array.from(document.documentElement.classList)),e=0,i=this.groups.length;e<i;e++)this.groups[e].determineActiveKeyframes(t)}},{key:"onScroll",value:function(){c.pageMetrics.scrollY=window.scrollY||window.pageYOffset,c.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var t=0,e=this.scrollSystems.length;t<e;t++)this.scrollSystems[t]._onScroll();this.trigger(c.PageEvents.ON_SCROLL,c.pageMetrics)}},{key:"onResizeImmediate",value:function(){c.pageMetrics.windowHeight=window.innerHeight,c.pageMetrics.windowWidth=window.innerWidth,c.pageMetrics.scrollY=window.scrollY||window.pageYOffset,c.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var t=document.documentElement.getBoundingClientRect();c.pageMetrics.documentOffsetX=t.left+c.pageMetrics.scrollX,c.pageMetrics.documentOffsetY=t.top+c.pageMetrics.scrollY,window.clearTimeout(c.RESIZE_TIMEOUT),c.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(c.PageEvents.ON_RESIZE_IMMEDIATE,c.pageMetrics)}},{key:"onResizedDebounced",value:function(){var t=this;_.update(function(){var e=c.pageMetrics.breakpoint,i=c.getBreakpoint(),n=i!==e;if(n){c.pageMetrics.previousBreakpoint=e,c.pageMetrics.breakpoint=i;for(var s=0,r=t.groups.length;s<r;s++)t.groups[s]._onBreakpointChange();t.trigger(c.PageEvents.ON_BREAKPOINT_CHANGE,c.pageMetrics)}for(var a=0,o=t.groups.length;a<o;a++)t.groups[a].forceUpdate({recalculateActiveKeyframes:n,waitForNextUpdate:!1});t.trigger(c.PageEvents.ON_RESIZE_DEBOUNCED,c.pageMetrics)},!0)}},{key:"forceUpdate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.recalculateActiveKeyframes,n=void 0!==i&&i,s=e.waitForNextUpdate,r=void 0===s||s;-1!==this._forceUpdateRAFId&&_.cancelUpdate(this._forceUpdateRAFId);var a=function(){for(var e=0,i=t.groups.length;e<i;e++){t.groups[e].forceUpdate({recalculateActiveKeyframes:n,waitForNextUpdate:!1})}return-1};this._forceUpdateRAFId=r?_.update(a,!0):a()}},{key:"addKeyframe",value:function(t,e){return this.getGroupForTarget(t).addKeyframe(t,e)}},{key:"getGroupForTarget",value:function(t){if(t._animInfo&&t._animInfo.group)return t._animInfo.group;for(var e=t;e;){if(e._animInfo&&e._animInfo.isGroup)return e._animInfo.group;e=e.parentElement}}},{key:"getControllerForTarget",value:function(t){return t._animInfo&&t._animInfo.controller?t._animInfo.controller:null}}]),e}();t.exports=new g},1226:function(t,e,i){"use strict";t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.linear=function(t){return t},this.easeInQuad=function(t){return t*t},this.easeOutQuad=function(t){return t*(2-t)},this.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},this.easeInSin=function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},this.easeOutSin=function(t){return Math.sin(Math.PI/2*t)},this.easeInOutSin=function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2},this.easeInElastic=function(t){return 0===t?t:(.04-.04/t)*Math.sin(25*t)+1},this.easeOutElastic=function(t){return.04*t/--t*Math.sin(25*t)},this.easeInOutElastic=function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1},this.easeOutBack=function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},this.easeInCubic=function(t){return t*t*t},this.easeOutCubic=function(t){return--t*t*t+1},this.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},this.easeInQuart=function(t){return t*t*t*t},this.easeOutQuart=function(t){return 1- --t*t*t*t},this.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},this.easeInQuint=function(t){return t*t*t*t*t},this.easeOutQuint=function(t){return 1+--t*t*t*t*t},this.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},1227:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Math.abs,r=function(){function t(e,i,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cp=new Float32Array(6),this.cp[0]=3*e,this.cp[1]=3*(n-e)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*i,this.cp[4]=3*(s-i)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"sampleCurveX",value:function(t){return((this.cp[2]*t+this.cp[1])*t+this.cp[0])*t}},{key:"sampleCurveY",value:function(t){return((this.cp[5]*t+this.cp[4])*t+this.cp[3])*t}},{key:"sampleCurveDerivativeX",value:function(t){return(3*this.cp[2]*t+2*this.cp[1])*t+this.cp[0]}},{key:"solveCurveX",value:function(t){var e,i,n,r,a,o;for(n=t,o=0;o<5;o++){if(r=this.sampleCurveX(n)-t,s(r)<1e-5)return n;if(a=this.sampleCurveDerivativeX(n),s(a)<1e-5)break;n-=r/a}if(i=1,(n=t)<(e=0))return e;if(n>i)return i;for(;e<i;){if(r=this.sampleCurveX(n),s(r-t)<1e-5)return n;t>r?e=n:i=n,n=.5*(i-e)+e}return n}},{key:"solve",value:function(t){return this.sampleCurveY(this.solveCurveX(t))}}]),t}(),a=/\d*\.?\d+/g;r.fromCSSString=function(t){var e=t.match(a);if(4!==e.length)throw"UnitBezier could not convert ".concat(t," to cubic-bezier");var i=e.map(Number),n=new r(i[0],i[1],i[2],i[3]);return n.solve.bind(n)},t.exports=r},1228:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}var a=i(81),o=function(t,e){return void 0===t||null===t?e:t},l=function(){function t(){n(this,t),this._metrics=new WeakMap}return r(t,[{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(t){var e=this._metrics.get(t);if(e)return e;var i=new c(t);return this._metrics.set(t,i),this._refreshMetrics(t,i)}},{key:"get",value:function(t){return this._metrics.get(t)}},{key:"refreshCollection",value:function(t){var e=this;t.forEach(function(t){return e._refreshMetrics(t,null)})}},{key:"refreshMetrics",value:function(t){return this._refreshMetrics(t)}},{key:"_refreshMetrics",value:function(t,e){if(e=e||this._metrics.get(t),!(t instanceof Element))return e.width=o(t.width,0),e.height=o(t.height,0),e.top=o(t.top,0),e.left=o(t.left,0),e.right=e.left+e.width,void(e.bottom=e.top+e.height);if(void 0===t.offsetWidth){var i=t.getBoundingClientRect();return e.width=i.width,e.height=i.height,e.top=a.pageMetrics.scrollY+i.top,e.left=a.pageMetrics.scrollX+i.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e}e.width=t.offsetWidth,e.height=t.offsetHeight,e.top=a.pageMetrics.documentOffsetY,e.left=a.pageMetrics.documentOffsetX;for(var n=t;n;)e.top+=n.offsetTop,e.left+=n.offsetLeft,n=n.offsetParent;return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}]),t}(),c=function(){function t(e){n(this,t),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return r(t,[{key:"toString",value:function(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),t}();t.exports=l},1229:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=i(81),r=i(1230),a=/([-|\+])?(\d+\.?\d*)(px|vh|vw|pw|ph|\%w|\%h|rw|rh|\%)?|(-|\+|\*|\/)/g,o=/^[-+]?(?:[0-9]{0,30}\.)?[0-9]{1,30}(?:[Ee][-+]?[1-2]?[0-9])?$/g,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.group=e}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"parse",value:function(t,e){if(Array.isArray(e))return this.parseArray(t,e);throw new Error("Keyframe value `"+e+"` is not supported. Only arrays in the form of [start,end] are currently supported")}},{key:"parseArray",value:function(t,e){return[this.parseExpression(t,e[0]),this.parseExpression(t,e[1])]}},{key:"parseExpression",value:function(t,e){if(null===e)return 0;if("number"==typeof e)return e;for(var i,n,s=5;-1!==(i=e.indexOf("("))&&--s>0;){var o=this.captureParenthesis(e,i),l=this.parseExpression(t,o);e=e.replace("("+o+")",l)}for(var c=[];null!==(n=a.exec(e));)if(n.index===a.lastIndex&&a.lastIndex++,n[4])c.push(r.GetOpCode(n[4]));else{var h=n[1],u=parseFloat(n[2]),d=n[3];"-"===h&&(u*=-1);var p=this.parseSplitUnit(t,u,d);c.push(p)}var f=c.length;if(3===f&&"function"==typeof c[1])return c[1](c[0],c[2]);for(var m=0;m<f;m++)if("function"==typeof c[m]&&1===c[m].priority){var _=c[m-1],v=c[m+1],g=c[m](_,v);c[m-1]=null,c[m+0]=null,c[m+1]=g,m+=1}for(var b=0;null==c[b]&&b<f;)b+=1;var y=c[b],w=null,k=null;for(b+=1;b<f;b++)null!==c[b]?c[b]instanceof Function?w=c[b]:(null===k&&(k=c[b]),null!==k&&(y=(w=w||r.add)(y,k),w=null,k=null)):b+=1;return y}},{key:"parseSplitUnit",value:function(t,e,i){if(void 0===i)return parseFloat(e);switch(i){case"vh":return.01*e*s.pageMetrics.windowHeight;case"%":return.01*e*t.controller.elementMetrics.height;case"px":return e;case"rh":return.01*e*this.group.metrics.get(t.relativeTo).height;case"vw":return.01*e*s.pageMetrics.windowWidth;case"rw":return.01*e*this.group.metrics.get(t.relativeTo).width;case"%w":return.01*e*t.controller.elementMetrics.width;case"%h":return.01*e*t.controller.elementMetrics.height;case"pw":return.01*e*t.controller.parentElementMetrics.width;case"ph":return.01*e*t.controller.parentElementMetrics.height;default:throw new Error("ExpressionParser: no strategy found for unit `"+i+"` only `vh, vw, %, ph, pw` are supported")}}},{key:"captureParenthesis",value:function(t,e){for(var i="",n=0,s=!1,r=t.length,a=e;a<r;a++)if("("===t[a]?(n+=1,s&&(i+=t[a]),s=!0):")"===t[a]?0!==(n-=1)&&(i+=t[a]):s&&(i+=t[a]),s&&0===n)return i}},{key:"isUnitlessNumber",value:function(t){return String(t).match(o)}},{key:"destroy",value:function(){this.group=null}},{key:"logParts",value:function(t){console.log(t.reduce(function(t,e){return"function"==typeof e?t+e.friendlyName+" ":t+(e+" ")},""))}}]),t}();t.exports=l},1230:function(t,e){t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.add=function(t,e){return t+e},this.sub=function(t,e){return t-e},this.mul=function(t,e){return t*e},this.div=function(t,e){return t/e},this.add.friendlyName="add",this.sub.friendlyName="sub",this.mul.friendlyName="mul",this.div.friendlyName="div",this.add.priority=0,this.sub.priority=0,this.mul.priority=1,this.div.priority=1,this.GetOpCode=function(t){switch(t){case"-":return this.sub;case"+":return this.add;case"*":return this.mul;case"/":return this.div;default:throw new Error('AnimSystem.parsing.Operations - op code "'.concat(t,"\" was found. Only '+ - * /' are supported. Check expression for typos/spacing issues"))}}}},1231:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.group=e,this.groupIsTimeBased=i}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"parse",value:function(t,e){if("number"==typeof e)return e;var i=this.groupIsTimeBased?0:this.group.metrics.get(t.relativeTo).top,n=this.group.expressionParser.parseExpression(t,e)+i;return this.group.convertScrollPositionToTValue(n)}},{key:"destroy",value:function(){this.group=null}}]),t}();t.exports=s},1232:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=i(81),h=(i(157),i(328)),u=i(1233),d=i(218),p=i(1234),f=i(8).EventEmitterMicro,m=i(1235),_={update:i(329),external:i(566),draw:i(330)},v=function(t){function e(t,i){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}(this,a(e).call(this))).uuid=p(),s.group=t,s.element=i,s._ownerIsElement=s.element instanceof Element,s._ownerIsElement?s.friendlyName=s.element.tagName+"."+Array.from(s.element.classList).join("."):s.friendlyName=s.element.friendlyName||s.uuid,s.element._animInfo=s.element._animInfo||new c.AnimInfo(t,l(l(s))),s.element._animInfo.controller=l(l(s)),s.tweenProps={},s.eventObject=new c.EventObject(l(l(s))),s.needsStyleUpdate=!1,s.needsClassUpdate=!1,s.elementMetrics=s.group.metrics.add(s.element),s._parentElementMetrics=null,s.attributes=[],s.keyframes={},s._allKeyframes=[],s._activeKeyframes=[],s.keyframesRequiringDispatch=[],s.updateCachedValuesFromElement(),s.boundsMin=0,s.boundsMax=0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,f),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"destroy",value:function(){this.element._animInfo&&this.element._animInfo.controller===this&&(this.element._animInfo.controller=null,this.element._animInfo=null),this._parentElementMetrics=null,this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var t=0;t<this._allKeyframes.length;t++)this._allKeyframes[t].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,r(a(e.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){if(this._ownerIsElement){var t=getComputedStyle(this.element),e=m(this.element,!0),i=c.KeyframeDefaults.epsilon;this.tweenProps.x=new c.TargetValue(e.translation[0],i,!1),this.tweenProps.y=new c.TargetValue(e.translation[1],i,!1),this.tweenProps.z=new c.TargetValue(e.translation[2],i,!1),this.tweenProps.rotation=new c.TargetValue(e.eulerRotation[2],i,!1),this.tweenProps.rotationX=new c.TargetValue(e.eulerRotation[0],i,!1),this.tweenProps.rotationY=new c.TargetValue(e.eulerRotation[1],i,!1),this.tweenProps.rotationZ=new c.TargetValue(e.eulerRotation[2],i,!1),this.tweenProps.scale=new c.TargetValue(e.scale[0],i,!1),this.tweenProps.scaleX=new c.TargetValue(e.scale[0],i,!1),this.tweenProps.scaleY=new c.TargetValue(e.scale[1],i,!1),this.tweenProps.opacity=new c.TargetValue(parseFloat(t.opacity),i,!1)}}},{key:"addKeyframe",value:function(t){var e=u(t);if(!e)throw new Error("AnimSystem Cannot create keyframe for from options `"+t+"`");var i=new e(this,t);return i.parseOptions(t),i.id=this._allKeyframes.length,this._allKeyframes.push(i),i}},{key:"needsUpdate",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.tweenProps[i];if(Math.abs(n.current-n.target)>n.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(t){for(var e=0,i=this.attributes.length;e<i;e++){var n=this.attributes[e],s=this.keyframes[this.attributes[e]];if(1!==s.length){var r=this.getNearestKeyframeForAttribute(t,n);r&&r.updateLocalProgress(t)}else s[0].updateLocalProgress(t)}}},{key:"reconcile",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.getNearestKeyframeForAttribute(this.group.timelines.local,i);n.updateLocalProgress(this.group.timelines.local),n.snapAtCreation&&n.reconcile(i)}}},{key:"determineActiveKeyframes",value:function(t){var e=this;t=t||d(Array.from(document.documentElement.classList));var i=this._activeKeyframes,n=this.attributes;this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var s=0;s<this._allKeyframes.length;s++){var r=this._allKeyframes[s];if(r.setEnabled(t))for(var a in this._activeKeyframes.push(r),r.animValues)this.keyframes[a]=this.keyframes[a]||[],this.keyframes[a].push(r),-1===this.attributes.indexOf(a)&&this.attributes.push(a)}var o=i.filter(function(t){return-1===e._activeKeyframes.indexOf(t)});if(0!==o.length){var l=n.filter(function(t){return-1===e.attributes.indexOf(t)});0!==l.length&&this._ownerIsElement&&_.external(function(){var t=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"];l.filter(function(e){return-1!==t.indexOf(e)}).length>0&&e.element.style.removeProperty("transform");for(var i=0,n=l.length;i<n;++i){var s=l[i],r=e.tweenProps[s];r.current=r.target=r.initialValue,"opacity"===s&&e.element.style.removeProperty("opacity")}for(var a=0,c=o.length;a<c;++a){var u=o[a];u instanceof h&&u._unapply()}},!0)}}},{key:"onDOMRead",value:function(t){for(var e=0,i=this.attributes.length;e<i;e++){var n=this.attributes[e],s=this.getNearestKeyframeForAttribute(t.local,n);s&&s.onDOMRead(n)}}},{key:"onDOMWrite",value:function(){this._ownerIsElement?this.onDOMWriteForElement():this.onDOMWriteForObject(),this.handleEventDispatch()}},{key:"onDOMWriteForObject",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t];this.element[i]=this.tweenProps[i].current}}},{key:"onDOMWriteForElement",value:function(){var t=this.tweenProps,e="";if(void 0!==this.keyframes.z?e+="translate3d("+t.x.current+"px,"+t.y.current+"px, "+t.z.current+"px)":void 0===this.keyframes.x&&void 0===this.keyframes.y||(e+="translate("+t.x.current+"px,"+t.y.current+"px)"),void 0!==this.keyframes.rotation?e+="rotate("+t.rotation.current+"deg) ":(void 0!==this.keyframes.rotationX&&(e+="rotateX("+t.rotationX.current+"deg) "),void 0!==this.keyframes.rotationY&&(e+="rotateY("+t.rotationY.current+"deg) "),void 0!==this.keyframes.rotationZ&&(e+="rotateZ("+t.rotationZ.current+"deg) ")),void 0!==this.keyframes.scale)e+="scale("+t.scale.current+","+t.scale.current+") ";else{var i=void 0!==this.keyframes.scaleX,n=void 0!==this.keyframes.scaleY;(i||n)&&(e+="scale("+t.scaleX.current+","+t.scaleY.current+") ")}if(""!==e&&(this.element.style.transform=e),void 0!==this.keyframes.opacity&&(this.element.style.opacity=t.opacity.current),this.needsStyleUpdate){for(var s in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[s]&&(this.element.style[s]=this.tweenProps.targetStyles[s]),this.tweenProps.targetStyles[s]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var t=0,e=this.keyframesRequiringDispatch.length;t<e;t++){var i=this.keyframesRequiringDispatch[t];i.needsEventDispatch=!1,this.eventObject.keyframe=i,this.eventObject.pageMetrics=c.pageMetrics,this.eventObject.event=i.event,this.trigger(i.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}}},{key:"updateAnimationConstraints",value:function(){for(var t=this,e=0,i=this._activeKeyframes.length;e<i;e++)this._activeKeyframes[e].updateAnimationConstraints();this.attributes.forEach(function(e){1!==t.keyframes[e].length&&t.keyframes[e].sort(c.KeyframeComparison)}),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var t=this,e=this._activeKeyframes.map(function(t){return t.relativeTo}),i=new Set(e);i.add(this.element),i.forEach(function(e){return t.group.metrics.refreshMetrics(e)}),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t],n=this.keyframes[i];if(!(n[0].keyframeType>c.KeyframeTypes.InterpolationForward))for(var s=0,r=n.length;s<r;s++){var a=n[s];if(null===a.jsonProps[i][0]){if(0===s)throw new RangeError("AnimSystem - earliest keyframe cannot defer it's beginning value! ".concat(i,":[null,").concat(a.jsonProps[i][1],"]"));a.animValues[i][0]=n[s-1].animValues[i][1]}if(null===a.jsonProps[i][1]){if(s===r-1)throw new RangeError("AnimSystem - last keyframe cannot defer it's end value! ".concat(i,":[").concat(a.jsonProps[i][0],",null]"));a.animValues[i][1]=n[s+1].animValues[i][0]}}}}},{key:"getBounds",value:function(t){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var e=0,i=this.attributes.length;e<i;e++)for(var n=this.keyframes[this.attributes[e]],s=0;s<n.length;s++){var r=n[s];this.boundsMin=Math.min(r.start,this.boundsMin),this.boundsMax=Math.max(r.end,this.boundsMax),t.min=Math.min(r.start,t.min),t.max=Math.max(r.end,t.max)}}},{key:"getNearestKeyframeForAttribute",value:function(t,e){var i=null,n=Number.POSITIVE_INFINITY,s=this.keyframes[e];if(void 0===s)return null;var r=s.length;if(0===r)return null;if(1===r)return s[0];for(var a=0;a<r;a++){var o=s[a];if(o.isInRange(t)){i=o;break}var l=Math.min(Math.abs(t-o.start),Math.abs(t-o.end));l<n&&(n=l,i=o)}return i}},{key:"getAllKeyframesForAttribute",value:function(t){return this.keyframes[t]}},{key:"updateKeyframe",value:function(t,e){var i=this;t.parseOptions(e),t.updateAnimationConstraints(),this.group.keyframesDirty=!0,_.update(function(){i.trigger(c.EVENTS.ON_KEYFRAME_UPDATED,t),i.group.trigger(c.EVENTS.ON_KEYFRAME_UPDATED,t)},!0)}},{key:"removeKeyframe",value:function(t){var e=this._allKeyframes.indexOf(t);-1!==e&&(this._allKeyframes.splice(e,1),this.group.keyframesDirty=!0)}},{key:"updateAnimation",value:function(t,e){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(t,e)}}]),e}();Object.defineProperty(v.prototype,"parentElementMetrics",{get:function(){return null===this._parentElementMetrics&&(this._parentElementMetrics=this.group.metrics.add(this.element.parentElement)),this._parentElementMetrics}}),t.exports=v},1233:function(t,e,i){"use strict";var n=i(81),s=i(157),r=i(561),a=i(328),o=function(t){for(var e in t){var i=t[e];if(-1===n.KeyframeJSONReservedWords.indexOf(e)&&Array.isArray(i))return!0}return!1};t.exports=function(t){if(void 0!==t.cssClass||void 0!==t.style){if(o(t))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return a}if(o(t))return s;if(t.event)return r;throw"Could not determine tween type based on ".concat(JSON.stringify(t))}},1234:function(t,e){t.exports=function(){for(var t="",e=0;e<8;e++){var i=16*Math.random()|0;8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&i|8:i).toString(16)}return t}},1235:function(t,e,i){"use strict";var n={create:i(540),invert:i(541),clone:i(542),transpose:i(543)},s={create:i(544),dot:i(545),normalize:i(546),length:i(547),cross:i(548),fromValues:i(549)},r={create:i(550),transformMat4:i(551),fromValues:i(552)},a=(Math.PI,180/Math.PI),o=function(t,e,i,n){var r=s.create();return r[0]=i*t[0]+n*e[0],r[1]=i*t[1]+n*e[1],r[2]=i*t[2]+n*e[2],r},l=function(t){var e,i,n,r=t[3]*t[3],a=t[0]*t[0],o=t[1]*t[1],l=t[2]*t[2],c=a+o+l+r,h=t[0]*t[1]+t[2]*t[3];return h>.499*c?(i=2*Math.atan2(t[0],t[3]),n=Math.PI/2,e=0,s.fromValues(e,i,n)):h<-.499*c?(i=-2*Math.atan2(t[0],t[3]),n=-Math.PI/2,e=0,s.fromValues(e,i,n)):(i=Math.atan2(2*t[1]*t[3]-2*t[0]*t[2],a-o-l+r),n=Math.asin(2*h/c),e=Math.atan2(2*t[0]*t[3]-2*t[1]*t[2],-a+o-l+r),s.fromValues(e,i,n))},c=function(t){return Math.abs(t)<1e-4};t.exports=function(t,e){return function(t,e){e=e||!1;for(var i=n.clone(t),h=s.create(),u=s.create(),d=s.create(),p=r.create(),f=r.create(),m=(s.create(),0);m<16;m++)i[m]/=i[15];var _=n.clone(i);_[3]=0,_[7]=0,_[11]=0,_[15]=1;i[3],i[7],i[11];var v=i[12],g=i[13],b=i[14],y=(i[15],r.create());if(c(i[3])&&c(i[7])&&c(i[11]))p=r.fromValues(0,0,0,1);else{y[0]=i[3],y[1]=i[7],y[2]=i[11],y[3]=i[15];var w=n.invert(n.create(),_),k=n.transpose(n.create(),w);p=r.transformMat4(p,y,k)}h[0]=v,h[1]=g,h[2]=b;var x=[s.create(),s.create(),s.create()];x[0][0]=i[0],x[0][1]=i[1],x[0][2]=i[2],x[1][0]=i[4],x[1][1]=i[5],x[1][2]=i[6],x[2][0]=i[8],x[2][1]=i[9],x[2][2]=i[10],u[0]=s.length(x[0]),s.normalize(x[0],x[0]),d[0]=s.dot(x[0],x[1]),x[1]=o(x[1],x[0],1,-d[0]),u[1]=s.length(x[1]),s.normalize(x[1],x[1]),d[0]/=u[1],d[1]=s.dot(x[0],x[2]),x[2]=o(x[2],x[0],1,-d[1]),d[2]=s.dot(x[1],x[2]),x[2]=o(x[2],x[1],1,-d[2]),u[2]=s.length(x[2]),s.normalize(x[2],x[2]),d[1]/=u[2],d[2]/=u[2];var E=s.cross(s.create(),x[1],x[2]);if(s.dot(x[0],E)<0)for(m=0;m<3;m++)u[m]*=-1,x[m][0]*=-1,x[m][1]*=-1,x[m][2]*=-1;f[0]=.5*Math.sqrt(Math.max(1+x[0][0]-x[1][1]-x[2][2],0)),f[1]=.5*Math.sqrt(Math.max(1-x[0][0]+x[1][1]-x[2][2],0)),f[2]=.5*Math.sqrt(Math.max(1-x[0][0]-x[1][1]+x[2][2],0)),f[3]=.5*Math.sqrt(Math.max(1+x[0][0]+x[1][1]+x[2][2],0)),x[2][1]>x[1][2]&&(f[0]=-f[0]),x[0][2]>x[2][0]&&(f[1]=-f[1]),x[1][0]>x[0][1]&&(f[2]=-f[2]);var C=r.fromValues(f[0],f[1],f[2],2*Math.acos(f[3])),S=l(f);return e&&(d[0]=Math.round(d[0]*a*100)/100,d[1]=Math.round(d[1]*a*100)/100,d[2]=Math.round(d[2]*a*100)/100,S[0]=Math.round(S[0]*a*100)/100,S[1]=Math.round(S[1]*a*100)/100,S[2]=Math.round(S[2]*a*100)/100,C[3]=Math.round(C[3]*a*100)/100),{translation:h,scale:u,skew:d,perspective:p,quaternion:f,eulerRotation:S,axisAngle:C}}(function(t){var e=String(getComputedStyle(t).transform).trim(),i=n.create();if("none"===e||""===e)return i;var s,r,a=e.slice(0,e.indexOf("("));if("matrix3d"===a)for(s=e.slice(9,-1).split(","),r=0;r<s.length;r++)i[r]=parseFloat(s[r]);else{if("matrix"!==a)throw new TypeError("Invalid Matrix Value");for(r=(s=e.slice(7,-1).split(",")).length;r--;)s[r]=parseFloat(s[r]);i[0]=s[0],i[1]=s[1],i[12]=s[4],i[4]=s[2],i[5]=s[3],i[13]=s[5]}return i}(t),e)}},1236:function(t,e,i){"use strict";var n=i(1237),s=function(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},r=s.prototype;r.requestAnimationFrame=function(t,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},r.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},r._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},r._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},r._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},r._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},r._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},r._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},r._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},r._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=s},1237:function(t,e,i){"use strict";var n=i(220),s=function(t){n.call(this,t)};(s.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=s},1238:function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(563)}},1239:function(t,e,i){"use strict";var n=i(564).SharedInstance,s=i(565).majorVersionNumber,r=i(1241);t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",s,r)},1240:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=window,r=s.AC,a=function(){var t={};return{get:function(e,i){var n=null;return t[e]&&t[e][i]&&(n=t[e][i]),n},set:function(e,i,n){return t[e]||(t[e]={}),t[e][i]="function"==typeof n?new n:n,t[e][i]},share:function(t,e,i){var n=this.get(t,e);return n||(n=this.set(t,e,i)),n},remove:function(e,i){var s=n(i);if("string"!==s&&"number"!==s)t[e]&&(t[e]=null);else{if(!t[e]||!t[e][i])return;t[e][i]=null}}}}();r||(r=s.AC={}),r.SharedInstance||(r.SharedInstance=a),t.exports=r.SharedInstance},1241:function(t,e,i){"use strict";var n,s=i(563);function r(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(n=r.prototype).frameRequestedPhase="requested",n.startPhase="start",n.runPhases=["update","external","draw"],n.endPhase="end",n.disabledPhase="disabled",n.beforePhaseEventPrefix="before:",n.afterPhaseEventPrefix="after:",n.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.getSubscribeID=function(){return this._totalSubscribeCount+=1},n.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=r},1242:function(t,e,i){"use strict";var n=i(564).SharedInstance,s=i(565).majorVersionNumber,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",s,r)},1243:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(562),h=i(327),u=0,d={create:i(220)},p=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t||((t=document.createElement("div")).className="TimeGroup-"+u++),(n=r(this,o(e).call(this,t,i))).name=n.name||t.getAttribute("data-anim-time-group"),n.timeParser.groupIsTimeBased=!0,n._isPaused=!0,n._repeats=0,n._isReversed=!1,n._timeScale=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,c),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),a(o(e.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(t){if(void 0===t)return 0===this.boundsMax?0:this.timelines.local/this.boundsMax;var e=t*this.boundsMax;this._onScroll(e)}},{key:"time",value:function(t){if(void 0===t)return this.timelines.local;t=h.clamp(t,this.boundsMin,this.boundsMax),this._onScroll(t)}},{key:"play",value:function(t){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(t),this._playheadEmitter.run()}},{key:"reverse",value:function(t){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(t),this._playheadEmitter.run()}},{key:"restart",value:function(){this._isReversed?(this.progress(1),this.reverse()):(this.progress(0),this.play())}},{key:"pause",value:function(t){this.time(t),this._isPaused=!0}},{key:"paused",value:function(t){return void 0===t?this._isPaused:(this._isPaused=t,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(t){if(!this._isPaused){var i=h.clamp(t.delta/1e3,0,.5);this._isReversed&&(i=-i);var n=this.time()+i*this._timeScale;if(this._repeats===e.REPEAT_FOREVER||this._repeats>0){var s=!1;!this._isReversed&&n>this.boundsMax?(n-=this.boundsMax,s=!0):this._isReversed&&n<0&&(n=this.boundsMax+n,s=!0),s&&(this._repeats=this._repeats===e.REPEAT_FOREVER?e.REPEAT_FOREVER:this._repeats-1)}this.time(n),this._playheadEmitter.run()}}},{key:"updateProgress",value:function(t){this.hasDuration()?this.timelines.localUnclamped=t:this.timelines.local=this.timelines.localUnclamped=0}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].getBounds(t);this.boundsMin=0,this.boundsMax=t.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(t){this._playheadEmitter=new d.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),a(o(e.prototype),"setupRAFEmitter",this).call(this,t)}},{key:"timeScale",value:function(t){return void 0===t?this._timeScale:(this._timeScale=t,this)}},{key:"repeats",value:function(t){return void 0===t?this._repeats:(this._repeats=t,this)}},{key:"reversed",value:function(t){return void 0===t?this._isReversed:(this._isReversed=t,this)}},{key:"getPosition",value:function(){return this.timelines.local}},{key:"convertScrollPositionToTValue",value:function(t){return t}},{key:"convertTValueToScrollPosition",value:function(t){return t}},{key:"hasDuration",value:function(){return this.boundsMax>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,a(o(e.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.boundsMax}}]),e}();p.REPEAT_FOREVER=-1,t.exports=p},1244:function(t,e,i){"use strict";var n=i(219);t.exports=n.cancelAnimationFrame("update")},1285:function(t,e,i){"use strict";var n=i(8).EventEmitterMicro,s=i(1286),r={ID:"viewport-emitter",OPTIONS:{removeNamespace:!0}},a="data-viewport-emitter-dispatch",o="data-viewport-emitter-state",l={RETINA:"only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",PORTRAIT:"only screen and (orientation: portrait)",LANDSCAPE:"only screen and (orientation: landscape)"},c="change:any",h="change:orientation",u="change:retina",d="change:viewport";function p(t,e){n.call(this),this._id=t||r.ID,this._options=Object.assign({},r.OPTIONS,e),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(l.RETINA)},orientation:{portrait:window.matchMedia(l.PORTRAIT),landscape:window.matchMedia(l.LANDSCAPE)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}Object.defineProperty(p,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a}}),Object.defineProperty(p,"DOM_STATE_ATTRIBUTE",{get:function(){return o}});var f=p.prototype=Object.create(n.prototype);Object.defineProperty(f,"id",{get:function(){return this._id}}),Object.defineProperty(f,"element",{get:function(){return this._el}}),Object.defineProperty(f,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(f,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(f,"retina",{get:function(){return this._retina}}),Object.defineProperty(f,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(f,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),f.destroy=function(){for(var t in this._removeListeners(),this._options)this._options[t]=null;for(var e in this._mediaQueryLists){var i=this._mediaQueryLists[e];for(var s in i)i[s]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,n.prototype.destroy.call(this)},f._initViewportEl=function(t){var e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e=document.body.appendChild(e)),e.hasAttribute(a)||(e.setAttribute(a,""),this._allowDOMEventDispatch=!0),e.hasAttribute(o)||(this._allowElementStateData=!0),e},f._dispatch=function(t,e){var i={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var n=new CustomEvent(t,{detail:e}),s=new CustomEvent(c,{detail:i});this._el.dispatchEvent(n),this._el.dispatchEvent(s)}this.trigger(t,e),this.trigger(c,i)},f._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},f._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},f._updateElementStateData=function(){if(this._allowElementStateData){var t=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(o,t)}},f._getViewport=function(t){var e=window.getComputedStyle(this._el,"::before").content;return e?(e=e.replace(/["']/g,""),t?e.split(":").pop():e):null},f._getRetina=function(t){return t.matches},f._getOrientation=function(t){var e=this._orientation;if(t.matches){return t.media.match(/portrait|landscape/)[0]}return e},f._initOrientation=function(){var t=this._getOrientation(this._mediaQueryLists.orientation.portrait);return t||this._getOrientation(this._mediaQueryLists.orientation.landscape)},f._onViewportChange=function(){this._resizing||(this._resizing=!0,s(this._onViewportChangeUpdate))},f._onViewportChangeUpdate=function(){var t=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),t!==this._viewport){var e={from:t,to:this._viewport};this._updateElementStateData(),this._dispatch(d,e)}this._resizing=!1},f._onRetinaChange=function(t){var e=this._retina;if(this._retina=this._getRetina(t),e!==this._retina){var i={from:e,to:this._retina};this._updateElementStateData(),this._dispatch(u,i)}},f._onOrientationChange=function(t){var e=this._orientation;if(this._orientation=this._getOrientation(t),e!==this._orientation){var i={from:e,to:this._orientation};this._updateElementStateData(),this._dispatch(h,i)}},t.exports=p},1286:function(t,e,i){"use strict";var n=i(1287);t.exports=n.requestAnimationFrame("update")},1287:function(t,e,i){"use strict";var n=i(1288),s=function(){this.events={}},r=s.prototype;r.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},r.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new s},1288:function(t,e,i){"use strict";var n=i(1289),s=function(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},r=s.prototype;r.requestAnimationFrame=function(t,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},r.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},r._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},r._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},r._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},r._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},r._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},r._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},r._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},r._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=s},1289:function(t,e,i){"use strict";var n=i(1290),s=function(t){n.call(this,t)};(s.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=s},1290:function(t,e,i){"use strict";var n,s=i(8).EventEmitterMicro,r=i(1291),a=i(1293);function o(t){t=t||{},s.call(this),this.id=a.getNewID(),this.executor=t.executor||r,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},1291:function(t,e,i){"use strict";var n=i(87).SharedInstance,s=i(578).majorVersionNumber,r=i(1292);t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",s,r)},1292:function(t,e,i){"use strict";var n,s=i(190);function r(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(n=r.prototype).frameRequestedPhase="requested",n.startPhase="start",n.runPhases=["update","external","draw"],n.endPhase="end",n.disabledPhase="disabled",n.beforePhaseEventPrefix="before:",n.afterPhaseEventPrefix="after:",n.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},n.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.getSubscribeID=function(){return this._totalSubscribeCount+=1},n.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},n.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},n.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},n._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},n._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},n._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},n._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=r},1293:function(t,e,i){"use strict";var n=i(87).SharedInstance,s=i(578).majorVersionNumber,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",s,r)},139:function(t,e,i){"use strict";var n=function(t){this.el=t},s=n.prototype;s.on=function(){this.el.addEventListener.apply(this.el,arguments)},s.off=function(){this.el.removeEventListener.apply(this.el,arguments)},s.once=function(t,e){var i=function(){e(),this.off(t,i)}.bind(this);this.on(t,i)},s.trigger=function(t,e){var i=new CustomEvent(t,{detail:e});this.el.dispatchEvent(i)},t.exports=n},140:function(t,e,i){"use strict";t.exports=function(t,e,i){return e?(i=i||/{([^{}]*)}/g,t.replace(i,function(t,i){var n=e[i];return"string"==typeof n||"number"==typeof n||"boolean"==typeof n?n:t})):t}},145:function(t,e,i){"use strict";t.exports=function(t,e){this._player=e.player,this._view=t,this._addViewListeners&&this._addViewListeners(),this._addPlayerListeners&&this._addPlayerListeners()}},157:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=i(81),r=i(327),a=i(1226),o=i(1227),l=i(218),c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e,this.relativeTo=e.element,this.jsonProps=i,this.ease=s.KeyframeDefaults.ease,this.easeFunctionString=s.KeyframeDefaults.easeFunctionString,this.easeFunction=a[this.easeFunctionString],this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=s.KeyframeTypes.Interpolation,this.hold=!1}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"destroy",value:function(){this.controller=null,this.relativeTo=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(t){if(this.jsonProps=t,""!==t.relativeTo&&t.relativeTo?t.relativeTo&&(this.relativeTo=this.controller.group.element.querySelector(t.relativeTo)||document.querySelector(t.relativeTo),null===this.relativeTo&&(console.warn("Keyframe for",this.controller.element.className," .relativeTo failed to find "+t.relativeTo+"' via querySelector"),this.relativeTo=this.controller.element),this.controller.group.metrics.add(this.relativeTo)):this.relativeTo=this.controller.element,t.ease?this.ease=parseFloat(t.ease):t.ease=this.ease,t.hasOwnProperty("snapAtCreation")?this.snapAtCreation=t.snapAtCreation:t.snapAtCreation=this.snapAtCreation,t.easeFunction?this.easeFunction=t.easeFunction:t.easeFunction=this.easeFunctionString,t.breakpointMask?this.breakpointMask=t.breakpointMask:t.breakpointMask=this.breakpointMask,t.disabledWhen?this.disabledWhen=Array.isArray(t.disabledWhen)?t.disabledWhen:[t.disabledWhen]:t.disabledWhen=this.disabledWhen,t.hasOwnProperty("hold")?this.hold=t.hold:t.hold=this.hold,this.easeFunction=a[t.easeFunction],!a.hasOwnProperty(t.easeFunction)){var e=o.fromCSSString(t.easeFunction);e?this.easeFunction=e:console.error("Keyframe parseOptions cannot find EasingFunction named '"+t.easingFunction+"'")}for(var i in t)if(-1===s.KeyframeJSONReservedWords.indexOf(i)){var n=t[i];if(Array.isArray(n)){if(this.animValues[i]=this.controller.group.expressionParser.parse(this,n),void 0===this.controller.tweenProps[i]||!this.controller._ownerIsElement){var r=0;this.controller._ownerIsElement||(r=this.controller.element[i]);var l=new s.TargetValue(r,s.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[i]=l}var c=this.controller.tweenProps[i];if(t.epsilon)c.epsilon=t.epsilon;else{var h=Math.abs(this.animValues[i][0]-this.animValues[i][1]),u=Math.min(.001*h,c.epsilon,s.KeyframeDefaults.epsilon);c.epsilon=Math.max(u,1e-4)}}}this.keyframeType=this.hold?s.KeyframeTypes.InterpolationForward:s.KeyframeTypes.Interpolation,t.event&&(this.event=t.event)}},{key:"overwriteProps",value:function(t){this.animValues={};var e=Object.assign({},this.jsonProps,t);this.controller.updateKeyframe(this,e)}},{key:"updateLocalProgress",value:function(t){if(this.start===this.end||t>this.end)return this.localT=1,void(this.curvedT=this.easeFunction(this.localT));var e=(t-this.start)/(this.end-this.start),i=this.hold?this.localT:0;this.localT=r.clamp(e,i,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(t){var e=this.animValues[t],i=this.controller.tweenProps[t];i.initialValue=e[0],i.target=e[0]+this.curvedT*(e[1]-e[0]),i.current!==i.target&&(i.current=i.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(t){this.localT=t||0;var e=this.ease;for(var i in this.ease=1,this.animValues)this.reconcile(i);this.ease=e}},{key:"onDOMRead",value:function(t){var e=this.animValues[t],i=this.controller.tweenProps[t];i.target=e[0]+this.curvedT*(e[1]-e[0]);var n=i.current;i.current+=(i.target-i.current)*this.ease;var s=i.current-i.target;s<i.epsilon&&s>-i.epsilon&&(i.current=i.target,s=0),""===this.event||this.needsEventDispatch||(s>i.epsilon||s<-i.epsilon||0===s&&n!==i.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(t){return t>=this.start&&t<=this.end}},{key:"setEnabled",value:function(t){t=t||l(Array.from(document.documentElement.classList));var e=-1!==this.breakpointMask.indexOf(s.pageMetrics.breakpoint),i=!1;return this.disabledWhen.length>0&&(i=this.disabledWhen.some(function(e){return void 0!==t[e]})),this.isEnabled=e&&!i,this.isEnabled}},{key:"updateAnimationConstraints",value:function(){this.start=this.controller.group.timeParser.parse(this,this.jsonProps.start),this.end=this.controller.group.timeParser.parse(this,this.jsonProps.end),this.updateAnimatedValueConstraints()}},{key:"updateAnimatedValueConstraints",value:function(){for(var t in this.animValues){var e=this.jsonProps[t];this.animValues[t]=this.controller.group.expressionParser.parse(this,e)}}}]),t}();c.DATA_ATTRIBUTE="data-anim-tween",t.exports=c},218:function(t,e){t.exports=function(t){return t.reduce(function(t,e){return t[e]=e,t},{})}},219:function(t,e,i){"use strict";var n=i(1236),s=function(){this.events={}},r=s.prototype;r.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},r.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new s},220:function(t,e,i){"use strict";var n,s=i(1238).EventEmitterMicro,r=i(1239),a=i(1242);function o(t){t=t||{},s.call(this),this.id=a.getNewID(),this.executor=t.executor||r,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},n._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},274:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=i(433),r=i(139),a=i(859).create,o=i(65),l=i(897),c=i(905),h=i(907),u=i(912),d=i(451)(),p=i(88)(),f=i(194)(),m=o.browser.safari&&o.os.osx,_=o.browser.safari&&o.os.ios,v=o.browser.chrome,g=i(916),b=i(141),y=i(917),w=i(918),k=i(919),x=i(920),E=i(456),C=i(459),S=i(462),T=i(463),I=function(t){t=t||{},this.el=t.el||document.createElement("div"),this._elementEmitter=new r(this.el),this.VERSION=T,this.options=t,s.call(this),this._controlsFactory=t.controlsFactory,this._urlOptimizer=t.urlOptimizer;try{var e=window.top;this._maxWidth=t.maxWidth||Math.min(window.innerWidth,1280)||Math.min(e.innerWidth,1280)}catch(e){this._maxWidth=t.maxWidth||Math.min(window.innerWidth,1280)}this._lastResize=0,this._lastMouseCoords={},this.el.classList.add("ac-video-player"),this._isLive=t.live,this._isLive&&this._useLiveMode(),this._videoImpl=a(t,this.el),this._isResponsive=t.responsive,this._isResponsive&&(this._breakpointDetect=new k({el:this.el,player:this,breakpoints:g,addClass:!0})),this._supportsInlineVideo=p||!(f&&_),this._cachedPiPMode=this.isPictureInPicture(),this._cachedReadyState=this.getReadyState(),this._cachedVisibleTracksLength=0,this.el.appendChild(this._videoImpl.getRenderElement()),(t.poster||void 0===t.poster)&&this._initPoster(t.poster),this._bindMethods(),this._addEventListeners(),p&&(this._keyboardControl=x({player:this,threesixty:t.threesixty,keyboardTarget:t.keyboardTarget})),t.controls&&this._initUIComponents(),t.parentElement&&t.parentElement.appendChild(this.el),this.refreshSize=this.refreshSize.bind(this),this._refreshSizeTimeout=setTimeout(this.refreshSize,0),window.addEventListener("DOMContentLoaded",this.refreshSize)};I.LOADEDMETADATA=1,I.LOADEDDATA=2,I.CANPLAY=3,I.CANPLAYTHROUGH=4;var A=s.prototype,O=I.prototype=Object.create(A);O.constructor=I,O._bindMethods=function(){this._onStart=this._onStart.bind(this),this._onEnded=this._onEnded.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onCaptionsChanged=this._onCaptionsChanged.bind(this),this._onPlay=this._onPlay.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._forwardEvent=this._forwardEvent.bind(this),this._onPresentationModeChanged=this._onPresentationModeChanged.bind(this),this._forwardFullScreenChangeEvent=this._forwardNamedEvent.bind(this,"fullscreen:change"),this._forwardEnterFullScreenEvent=this._forwardNamedEvent.bind(this,"enterfullscreen"),this._forwardExitFullScreenEvent=this._forwardNamedEvent.bind(this,"exitfullscreen"),this._onDurationChange=this._onDurationChange.bind(this),this._forwardReadyStateChange=this._forwardReadyStateChange.bind(this),this._showControls=this._showControls.bind(this),this._hideControls=this._hideControls.bind(this),this._raiseControls=this._raiseControls.bind(this),this._lowerControls=this._lowerControls.bind(this),this._onPlayPromiseError=this._onPlayPromiseError.bind(this),this._onPlayPromiseResolved=this._onPlayPromiseResolved.bind(this)},O._addEventListeners=function(){for(var t=0,e=y.length;t<e;t++)this._videoImpl.on(y[t],this._forwardEvent);for(t=0,e=w.length;t<e;t++)this._videoImpl.on(w[t],this._forwardReadyStateChange);this._videoImpl.on("timeupdate",this._onTimeUpdate),this._videoImpl.on("webkitpresentationmodechanged",this._onPresentationModeChanged),this._videoImpl.on("durationchange",this._onDurationChange),this._videoImpl.on("addtrack",this._forwardEvent),this._videoImpl.on("change",this._forwardEvent),this._videoImpl.on("change",this._onCaptionsChanged),this._videoImpl.on("removetrack",this._forwardEvent),this._videoImpl.on("loadedmetadata",this._refreshSize),this._videoImpl.on("loadeddata",this._refreshSize),p?(l.on("enterfullscreen",this._forwardEnterFullScreenEvent),l.on("exitfullscreen",this._forwardExitFullScreenEvent),l.on("enterfullscreen",this._forwardFullScreenChangeEvent),l.on("exitfullscreen",this._forwardFullScreenChangeEvent),this.on("fullscreen:change",this._onFullscreenChange)):_&&(this._videoImpl.on("webkitbeginfullscreen",this._forwardEnterFullScreenEvent),this._videoImpl.on("webkitendfullscreen",this._forwardExitFullScreenEvent),this._videoImpl.on("webkitbeginfullscreen",this._forwardFullScreenChangeEvent),this._videoImpl.on("webkitendfullscreen",this._forwardFullScreenChangeEvent),f&&this.on("fullscreen:change",this._onFullscreenChange)),this._videoImpl.on("PlayPromiseError",this._onPlayPromiseError),this._videoImpl.on("PlayPromiseResolved",this._onPlayPromiseResolved)},O._onPlayPromiseResolved=function(){this.trigger("PlayPromiseResolved")},O._removeEventListeners=function(){for(var t=0,e=y.length;t<e;t++)this._videoImpl.off(y[t],this._forwardEvent);for(t=0,e=w.length;t<e;t++)this._videoImpl.off(w[t],this._forwardReadyStateChange);this._videoImpl.off("timeupdate",this._onTimeUpdate),this._videoImpl.off("webkitpresentationmodechanged",this._onPresentationModeChanged),this._videoImpl.off("durationchange",this._onDurationChange),p?(l.off("enterfullscreen",this._forwardEnterFullScreenEvent),l.off("exitfullscreen",this._forwardExitFullScreenEvent),l.off("enterfullscreen",this._forwardFullScreenChangeEvent),l.off("exitfullscreen",this._forwardFullScreenChangeEvent)):o.os.ios&&(this._videoImpl.off("webkitbeginfullscreen",this._forwardEnterFullScreenEvent),this._videoImpl.off("webkitendfullscreen",this._forwardExitFullScreenEvent),this._videoImpl.off("webkitbeginfullscreen",this._forwardFullScreenChangeEvent),this._videoImpl.off("webkitendfullscreen",this._forwardFullScreenChangeEvent)),this._videoImpl.off("PlayPromiseError",this._onPlayPromiseError)},O._forwardReadyStateChange=function(){var t=this.getReadyState();(t>this._cachedReadyState||0===t)&&(this._cachedReadyState=t,this.trigger("readystatechange",{readyState:t}))},O._forwardEvent=function(t){b(t.type+" time:"+this.getCurrentTime()),this.trigger(t.type)},O._forwardNamedEvent=function(t){b(t+" time:"+this.getCurrentTime()),this.trigger(t)},O._onPlayPromiseError=function(){b("play() Promise rejected, probably because the browser is blocking autoplay"),this.el.classList.add("initial-play"),this._showStartState(),this.once("play",this._onPlay)},O._onCaptionsChanged=function(t){var e=this.getVisibleTextTracks().length;e>0&&0===this._cachedVisibleTracksLength?this.trigger("texttrackshow"):0===e&&this._cachedVisibleTracksLength>0&&this.trigger("texttrackhide"),this._cachedVisibleTracksLength=e},O._onTimeUpdate=function(){this.trigger("timeupdate",{currentTime:this.getCurrentTime()})},O.load=function(t,e,i,n){if(this.refreshSize(),Array.isArray(t)||(t=[t]),e&&!Array.isArray(e)&&(e=[{src:e}]),this._cachedReadyState=0,n||(n=this.options),this._urlOptimizer){e||(e=t.map(this._urlOptimizer.getCaptionsSource).filter(function(t){return!!t}));var s=this.getVisibleTextTracks();s&&s.length&&e&&e.length&&(e[0].mode="showing");var r=n.maxWidth||this._calcMaxWidth();t=t.map(function(t){return this._urlOptimizer.getVideoSource(t,r,null,{maxWidth:this._maxWidth})}.bind(this))}var a=n&&n.thumbnails||this._urlOptimizer&&this._urlOptimizer.getThumbnailImageSource(t[0]);this.once("play",this._onPlay),this._poster&&this._poster.show(),(this.options.autoplay&&p||this.getEnded())&&this.once("loadstart",function(){this.play()}.bind(this)),n||(n=this.options),n&&this.setPoster(n.poster),this._poster&&this._poster.show(),this.controls&&this.controls.sharingModule&&(n.sharing?this.controls.sharingModule.setData(n.sharing):this.controls.sharingModule.setData(null)),void 0!==n.live&&(this._isLive=n.live,this._useLiveMode()),this._hideEndState(),this._videoImpl.load(t,e,i),this.controls&&this.controls.overlays?this.controls.overlays.setData(a):this.controls&&this.once("controlsready",function(){this.controls.overlays&&this.controls.overlays.setData(a)}.bind(this)),this.controls&&this.controls.endState?this.controls.endState.setData(n.endState):this.controls&&this.once("controlsready",function(){this.controls.endState&&this.controls.endState.setData(n.endState)}.bind(this))},O._calcMaxWidth=function(){return this.el.parentElement?this.el.parentElement.clientWidth:this._maxWidth},O._isActiveArea=function(t){for(;t!==this.el;){if(t.hasAttribute("data-acv-active-area"))return!0;t=t.parentNode}return!1},O._onPresentationModeChanged=function(t){this._forwardEvent(t);var e=this.isPictureInPicture();this._cachedPiPMode!==e&&(this._cachedPiPMode=e,b("pictureinpicture:change to "+e),this.trigger("pictureinpicture:change"))},O._onDurationChange=function(t){this.getDuration()>3600&&this.el.classList.add("longform"),this.refreshSize()},O.appendTo=function(t){t.appendChild(this.el),this.refreshSize()},O.getTextTracks=function(){return Array.prototype.slice.call(this._videoImpl.getTextTracks())},O.getVisibleTextTracks=function(){var t=Array.prototype.slice.call(this._videoImpl.getTextTracks());return t&&t.length&&(t=t.filter(function(t){return"showing"===t.mode})),t},O.getFullScreenElement=function(){return p?this.el:this.getMediaElement()},O.getFullScreenEnabled=function(){return l.fullscreenEnabled(this.getFullScreenElement())},O.isFullscreen=function(){return p?l.fullscreenElement()===this.getFullScreenElement():this._videoImpl.isFullscreen()},O.requestFullscreen=function(){if(!this.isFullscreen()){this.controls&&(this.controls.el.display="none"),this._hideControls(),this.trigger("fullscreen:willenter",{type:"enter"}),this._lastResize=Date.now(),u(this._updateFullscreenId);var t=this;this._updateFullscreenId=h(function e(){t.refreshSize(),t._updateFullscreenId=h(e)}),v?setTimeout(function(){this._lastResize=Date.now(),l.requestFullscreen(this.getFullScreenElement())}.bind(this),300):l.requestFullscreen(this.getFullScreenElement())}},O.exitFullscreen=function(){this.isFullscreen()&&(this.controls&&(this.controls.el.display="none"),this._hideControls(),this.trigger("fullscreen:willexit",{type:"exit"}),v?setTimeout(function(){l.exitFullscreen(this.getFullScreenElement())}.bind(this),300):l.exitFullscreen(this.getFullScreenElement()))},O._onFullscreenChange=function(){this._lastResize=Date.now(),this.controls&&(this.controls.el.display=""),this._hideControls(),this._preventUserInteraction=!0,setTimeout(function(){u(this._updateFullscreenId),this._preventUserInteraction=!1,this.refreshSize()}.bind(this),750),this.refreshSize()},O.toggleFullscreen=function(){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},O._initUIComponents=function(){this._controlsFactory?(this._instantiateDefaultCustomUIControls(),p?this.el.appendChild(this._blockade.el):(this.controls.el.classList.add("mobile"),this.setControls(!0))):this.setControls(!0)},O._showControls=function(){this._controlsVisible=!0,this.el.classList.remove("initial-play"),this.el.classList.add("user-hover")},O._hideControls=function(){this._controlsVisible=!1,this.el.classList.remove("user-hover"),this.hideCaptionsSelector()},O._raiseControls=function(){this._controlsVisible=!0,this.el.classList.remove("mouse-leave")},O._lowerControls=function(){this._controlsVisible=!1,this.el.classList.add("mouse-leave"),this.hideCaptionsSelector()},O._onControlsReady=function(){this.options.autoplay&&p||this._showStartState()},O._showStartState=function(){this.controls&&this.controls.el.classList.add("start-state"),this._poster&&this._poster.show(),p||C(this.getMediaElement())},O._hideStartState=function(){this.controls&&this.controls.el.classList.remove("start-state"),this._poster&&this._poster.hide(),p||S(this.getMediaElement())},O._showEndState=function(){this.controls&&(this.controls.mainControlsElement?this.controls.mainControlsElement.contains(document.activeElement)&&setTimeout(function(){this.controls.playButtonElement.focus()}.bind(this)):this.el.contains(document.activeElement)&&!this.controls.sharingModule.el.contains(document.activeElement)&&setTimeout(function(){this.controls.playButtonElement.focus()}.bind(this)),this.controls.el.classList.add("end-state")),this._poster&&this._poster.show(),C(this.getMediaElement())},O._hideEndState=function(){this.controls&&this.controls.el.classList.remove("end-state"),p||S(this.getMediaElement())},O._createBlockade=function(){this._blockade=new r(document.createElement("div")),this._blockade.el.classList.add("ac-video-blockade")},O._instantiateDefaultCustomUIControls=function(){return this.controls=this._controlsFactory.create({player:this,endState:this.options.endState,enableMainControls:p,basePath:this.options.localizationBasePath,template:this.options.template,readyCallback:function(){this.options.autoplay&&p||this._showStartState(),this.trigger("controlsready")}.bind(this)}),this.controls.el.parentNode!==this.el&&this.el.appendChild(this.controls.el),this._videoImpl.setControls(!1),this._createBlockade(),this._controlsInteraction=E({player:this,keyboardControl:this._keyboardControl,controlsTimeoutDuration:this.options.controlsTimeoutDuration,showControls:this._showControls,hideControls:this._hideControls,raiseControls:this._raiseControls,lowerControls:this._lowerControls,controlsVisible:function(){return this._controlsVisible}.bind(this),sendMouseDown:this._videoImpl.sendMouseDown,elementEmitter:this._elementEmitter}),this.controls},O._onPlay=function(){m?this.once("timeupdate",this._onStart,function(){return this.getCurrentTime()>0}.bind(this)):this.once("timeupdate",this._onStart)},O.isCaptionsSelectorShowing=function(){return this.controls.el.classList.contains("captions-selector-showing")},O.showCaptionsSelector=function(){this.controls.el.classList.add("captions-selector-showing")},O.hideCaptionsSelector=function(){this.controls.el.classList.remove("captions-selector-showing")},O._onStart=function(){this.el.classList.add("initial-play"),this._poster&&this._poster.hide(),this.controls&&(this._hideStartState(),this._hideEndState()),this.once("ended",this._onEnded)},O._onEnded=function(){this.isFullscreen()&&this.exitFullscreen(),this.controls&&(this._hideStartState(),this._showEndState()),setTimeout(function(){this.once("timeupdate",this._onStart)}.bind(this),300),this._poster&&this._poster.show()},O._initPoster=function(t){this._poster=c({player:this,video:this._videoImpl,useNativePoster:!1===this.options.controls,is2x:d,src:t}),this._poster.el&&this.el.appendChild(this._poster.el),this.options.autoplay||this._poster.show()},O._useLiveMode=function(){this._isLive?this.el.classList.add("ac-video-live"):this.el.classList.remove("ac-video-live")},O.once=function(t,e,i){if(arguments.length<3||"object"===n(i))A.once.apply(this,arguments);else{var s=arguments,r=Array.prototype.slice.call(arguments,2),a=function(){r.every(function(t){return!!t()})&&(s[1].apply(this,s),this.off(s[0],a))}.bind(this);this.on(s[0],a)}},O.getMediaElement=function(){return this._videoImpl.getMediaElement()},O.play=function(){b("play called"),this._videoImpl.play()},O.pause=function(){this._videoImpl.pause()},O.seek=function(t){this.setCurrentTime.apply(this,arguments)},O.addTextTrack=function(t){this._videoImpl.addTextTrack(t)},O.getReadyState=function(){return this._videoImpl.getMediaElement().readyState},O.getPreload=function(){return this._videoImpl.getPreload()},O.setPoster=function(t){this._poster.setSrc(t)},O.getPoster=function(){this._poster.getSrc()},O.getVolume=function(){return this._videoImpl.getVolume()},O.getMuted=function(){return this._videoImpl.getMuted()},O.getCurrentTime=function(){return this._videoImpl.getCurrentTime()},O.getDuration=function(){return this._videoImpl.getDuration()},O.getPaused=function(){return this._videoImpl.getPaused()},O.getEnded=function(){return this._videoImpl.getEnded()},O.setCurrentTime=function(t){return this._videoImpl.setCurrentTime(t)},O.setVolume=function(t){return this.trigger("uservolumechange"),this._videoImpl.setVolume(t)},O.setMuted=function(t){this.trigger("uservolumechange"),this._videoImpl.setMuted(t)},O.setSrc=function(t){this._videoImpl.setSrc(t)},O.getCurrentSrc=function(){return this._videoImpl.getCurrentSrc()},O.setControls=function(t){return this._videoImpl.setControls(t)},O.getMediaHeight=function(){return this._videoImpl.getMediaElement().videoHeight},O.getMediaWidth=function(){return this._videoImpl.getMediaElement().videoWidth},O.supportsPictureInPicture=function(){return this._videoImpl.supportsPictureInPicture()},O.isPictureInPicture=function(){return this._videoImpl.isPictureInPicture()},O.setPictureInPicture=function(t){return this._videoImpl.setPictureInPicture(t)},O.supportsAirPlay=function(){return this._videoImpl.supportsAirPlay()},O.isLive=function(){return this._isLive},O.refreshSize=function(){this._breakpointDetect?this._breakpointDetect.refresh():(this._currentBreakpoint&&this.el.classList.remove(this._currentBreakpoint.name),this._currentBreakpoint=k.getBreakpointFromElement(this.el,g),this.el.classList.add(this._currentBreakpoint.name)),this._videoImpl.refreshSize()},O.destroy=function(){this._removeEventListeners(),this.controls&&(this.controls.destroy(),this.controls=null),this.el.innerHTML="",this._breakpointDetect&&this._breakpointDetect.destroy(),this._videoImpl.destroy(),this._videoImpl=null,clearTimeout(this._refreshSizeTimeout),s.prototype.destroy.call(this)},t.exports=I},275:function(t,e,i){"use strict";var n=i(139),s=i(864),r=i(141),a=window.document,o=function(t){this._videoElement=t&&t.mediaElement?t.mediaElement:a.createElement("video"),this.options=t||{},this._textTracks=s(t),this._initElement(),n.apply(this,[this._videoElement]),this._forwardCaptionEvent=this._forwardCaptionEvent.bind(this),this._textTracksEmitter=this.getTextTracksEventEmitter(),this._textTracksEmitter.on("addtrack",this._forwardCaptionEvent),this._textTracksEmitter.on("change",this._forwardCaptionEvent),this._textTracksEmitter.on("removetrack",this._forwardCaptionEvent)},l=o.prototype=Object.create(n.prototype);l._initElement=function(){this._videoElement.classList.add("ac-video-media-controller"),null!==this.options.crossorigin&&this._videoElement.setAttribute("crossorigin",this.options.crossorigin?this.options.crossorigin:"anonymous"),this._videoElement.setAttribute("preload",this.options.preload||"auto"),this._videoElement.setAttribute("x-webkit-airplay","")},l._forwardCaptionEvent=function(t){this.trigger(t.type)},l.load=function(t,e,i){i&&(t=t.map(function(t){return t+"#t="+i})),this._createSourceTags(t),this._createTextTrackTags(e),this._videoElement.load()},l._createSourceTags=function(t){this._videoElement.removeAttribute("src"),this._videoElement.innerHTML="";var e=0,i=t.length;for(i&&this._videoElement.setAttribute("src",t[0]);e<i;e++){var n=a.createElement("source");n.src=t[e],this._videoElement.appendChild(n)}},l.play=function(){try{var t=this._videoElement.play();t&&"function"==typeof t.catch&&(t.catch(function(e){this._playPromise===t&&this.trigger("PlayPromiseError")}.bind(this)),t.then(function(){this.trigger("PlayPromiseResolved")}.bind(this),function(t){r(t)})),this._playPromise=t}catch(t){r(t)}},l.refreshSize=function(){},l.pause=function(){this._playPromise=null,this._videoElement.pause()},l.addTextTrack=function(t){this._addTextTrackTag(t)},l.removeTextTrack=function(t){this._removeTextTrackTag(t)},l.getRenderElement=function(){return this.getMediaElement()},l.getMediaElement=function(){return this._videoElement},l._createTextTrackTags=function(){return this._textTracks.create.apply(this,arguments)},l._addTextTrackTag=function(){return this._textTracks.add.apply(this,arguments)},l._removeTextTrackTag=function(){return this._textTracks.remove.apply(this,arguments)},l.getTextTracks=function(){return this._textTracks.get.apply(this,arguments)},l.getTextTracksEventEmitter=function(){return this._textTracks.getEmitter.apply(this,arguments)},l.getReadyState=function(){return this._videoElement.readyState},l.getPreload=function(){return this._videoElement.preload},l.setPreload=function(t){return this._videoElement.preload=t},l.setPoster=function(t){this._videoElement.poster=t},l.getVolume=function(){return this._videoElement.volume},l.getMuted=function(){return this._videoElement.muted},l.getPaused=function(){return this._videoElement.paused},l.getCurrentTime=function(){return this._videoElement.currentTime},l.getDuration=function(){return this._videoElement.duration},l.setCurrentTime=function(t){return this._videoElement.currentTime=t},l.setVolume=function(t){return this._videoElement.volume=t},l.setMuted=function(t){this._videoElement.muted=t},l.getEnded=function(){return this._videoElement.ended},l.setSrc=function(t){this._videoElement.childNodes.length&&t===this._getSrcNode().url||this._createSourceTags([t])},l.advanceLiveStream=function(){},l.getCurrentSrc=function(){return this._getSrcNode()},l._getSrcNode=function(){return this._videoElement.childNodes[0]},l.setControls=function(t){t?(this._videoElement.setAttribute("controls",""),this._videoElement.removeAttribute("aria-hidden")):(this._videoElement.removeAttribute("controls"),this._videoElement.setAttribute("aria-hidden","true"))},l.isFullscreen=function(){return this._videoElement.webkitDisplayingFullscreen},l.supportsPictureInPicture=function(){return"function"==typeof this._videoElement.webkitSetPresentationMode},l.isPictureInPicture=function(){return"picture-in-picture"===this._videoElement.webkitPresentationMode},l.setPictureInPicture=function(t){this.supportsPictureInPicture()&&this._videoElement.webkitSetPresentationMode(t?"picture-in-picture":"inline")},l.supportsAirPlay=function(){return!!window.WebKitPlaybackTargetAvailabilityEvent},l.destroy=function(){this._textTracks&&this._textTracks.destroy(),this._textTracksEmitter&&(this._textTracksEmitter.off("addtrack",this._forwardCaptionEvent),this._textTracksEmitter.off("change",this._forwardCaptionEvent),this._textTracksEmitter.off("removetrack",this._forwardCaptionEvent)),this._textTracks=null,this._textTracksEmitter=null,this._videoElement=null},t.exports=o},277:function(t,e,i){"use strict";var n=i(140),s={addLeadingZero:function(t,e){if(e=e||2,t<10||e>2)for(t=String(t);t.length<e;)t="0"+t;return t},formatTime:function(t,e,i){return isNaN(t)?"00:00":(t=this.splitTime(Math.floor(t),e,function(t){return this.addLeadingZero(t,i)}.bind(this)),n(e>=3600?"{PN}{hours}:{minutes}:{seconds}":"{PN}{minutes}:{seconds}",{PN:t.negativeModifier,hours:t.hours,minutes:t.minutes,seconds:t.seconds}))},splitTime:function(t,e,i){i=i||function(t){return t};var n={negativeModifier:"",hours:0,minutes:0,seconds:0};if(isNaN(t))return n;for(var s in n.negativeModifier=t<0?"-":"",t=Math.abs(t),n.hours=e>=3600?Math.floor(t/3600):0,n.minutes=n.hours?Math.floor(t/60%60):Math.floor(t/60),n.seconds=t%60,n)"number"==typeof n[s]&&"hours"!==s&&(n[s]=i(n[s]));return n},stringToNumber:function(t){for(var e=0,i=t.split(":");i.length;)3===i.length?e+=3600*parseFloat(i.shift()):2===i.length?e+=60*parseFloat(i.shift()):e+=parseFloat(i.shift());return e}};t.exports=s},288:function(t,e,i){"use strict";var n,s=i(976),r=i(977),a=window.document.documentElement;try{n=window.top.document.documentElement}catch(t){n=a}var o=i(435),l={},c=function(t){var e,i;try{e=t||n.getAttribute("lang")}catch(t){e=a.getAttribute("lang")}if(e)switch(e.toLowerCase()){case"es-418":i="es-LA";break;case"pt":i="pt-BR";break;default:i=e}else i="en-US";return i},h=function(t){return t=c(t),void 0!==l[t]};t.exports={getLanguage:c,getTranslation:function(t){var e=c((t=t||{}).lang);if(h(e))return t.callback?void t.callback(l[e]):l[e];if(!t.callback)throw new Error("To use Localization.getTranslation you must either pass a callback or ensure the translation is ready via Localization.translationReady");var i=t.basePath||"/global/ac_media_player/scripts/ac_media_languages/",n=s[e]?i+s[e]:i+s["en-US"],a=r;o.get(n,{success:function(i){a=Object.assign(a,JSON.parse(i)),l[e]=a,t.callback(a)},error:function(){l[e]=a,t.callback(a)}})},translationReady:h}},299:function(t,e,i){"use strict";var n=i(474),s=i(1024),r=i(1026),a=new s("ac-storage-");a.Item=n,a.storageAvailable=r,t.exports=a},305:function(t,e,i){"use strict";var n=i(1029);t.exports={init:n.init,getInstance:n.getInstance,ActivityMapCollection:n.ActivityMapCollection}},306:function(t,e,i){"use strict";var n=i(204),s=i(1042),r=i(1043);function a(){this._regionSelectors=["[data-analytics-activitymap-region-id]","[data-analytics-section-engagement]","[data-card-analytics]"],this._globalRegionSelectors=['[data-analytics-region="buy strip"]',"#ac-globalnav","#ac-localnav","#ac-globalfooter","#chapternav"],this.createActivityMapCollection=this.createActivityMapCollection.bind(this),this.addElToCollection=this.addElToCollection.bind(this),document.addEventListener("DOMContentLoaded",this.createActivityMapCollection)}var o=a.prototype;o.createActivityMapCollection=function(){this.AppMeasurement=window.s,this.AppMeasurement&&(this.AppMeasurement.acAnalyticsActivityMapCollection=null,this.AppMeasurement.acAnalyticsActivityMapCollection=this._assembleActivityMapCollection())},o._createLinkData=function(t){var e=this._determineRegionName(t,this._globalRegionElements,this._regionSelectors);return{element:t,linkId:this._createLinkId(t,e.id),regionElement:e.el,regionName:e.id}},o.addElToCollection=function(t){var e=this._createLinkData(t);return this._addToActivityMapCollection(e)},o._addToActivityMapCollection=function(t){var e,i,n=!0,s=0;if(i=this.AppMeasurement.acAnalyticsActivityMapCollection.filter(function(e){return e.linkId===t.linkId})[0])i.linkId=i.linkId.concat(" - ","#",r.prefixCharacters(1)),t.linkId=t.linkId.concat(" - ","#",r.prefixCharacters(2));else for(;n;)s++,e=t.linkId.concat(" - ","#",r.prefixCharacters(s)),(i=this.AppMeasurement.acAnalyticsActivityMapCollection.filter(function(t){return t.linkId===e})[0])||(n=!1,s>1&&(t.linkId=e));this.AppMeasurement.acAnalyticsActivityMapCollection.push(t)},o._assembleActivityMapCollection=function(){this._globalRegionElements=r.getGlobalElements(this._globalRegionSelectors);for(var t=document.querySelectorAll("a, button"),e=[],i=0;i<t.length;i++){var n=this._createLinkData(t[i]);e.push(n)}return this._renameDuplicateIds(e)},o._renameDuplicateIds=function(t){for(var e={},i={},n=0;n<t.length;n++){var s=t[n].linkId;e[s]=e[s]?e[s]+1:1,e[s]>1?t[n].linkId=t[n].linkId+" - #"+r.prefixCharacters(e[s]):i[s]=n,2===e[s]&&(t[i[s]].linkId=t[i[s]].linkId+" - #01")}return t},o._determineRegionName=function(t,e,i){for(var a=null,o=null,l=0;l<e.length;l++)s(e[l],t)&&!a&&(o=(a=e[l]).id||a.getAttribute("data-analytics-region"));if(!a)for(var c=0;c<i.length;c++)if(a=n(t,i[c])){o=a.getAttribute(r.removeArrayBrackets(i[c])).replace("name:","");break}return a||(a=document.body,o="body"),{el:a,id:o}},o._createLinkId=function(t,e){var i=r.createLinkText(t),n=r.createLinkHref(t),s=r.limitStrLength(e,40);return r.createLinkId(i,n,s," - ")},t.exports=new a},327:function(t,e,i){"use strict";t.exports={lerp:function(t,e,i){return e+(i-e)*t},map:function(t,e,i,n,s){return n+(s-n)*(t-e)/(i-e)},mapClamp:function(t,e,i,n,s){var r=n+(s-n)*(t-e)/(i-e);return Math.max(n,Math.min(s,r))},norm:function(t,e,i){return(t-e)/(i-e)},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},randFloat:function(t,e){return Math.random()*(e-t)+t},randInt:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}},328:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=i(157),c=i(81),h=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=r(this,a(e).call(this,t,i))).keyframeType=c.KeyframeTypes.CSSClass,n._triggerType=e.TRIGGER_TYPE_CSS_CLASS,n.cssClass="",n.friendlyName="",n.style={on:null,off:null},n.toggle=!1,n.isApplied=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,l),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"parseOptions",value:function(t){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0!==t.toggle&&(this.toggle=t.toggle),void 0!==t.cssClass)this._triggerType=e.TRIGGER_TYPE_CSS_CLASS,this.cssClass=t.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===t.style||!this.isValidStyleProperty(t.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=e.TRIGGER_TYPE_STYLE_PROPERTY,this.style=t.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off)for(var i in this.style.off={},this.style.on)this.style.off[i]="";void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===t.end&&(t.end=t.start),t.toggle=this.toggle,this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var n=getComputedStyle(this.controller.element);for(var s in this.isApplied=!0,this.style.on)if(n[s]!==this.style.on[s]){this.isApplied=!1;break}}l.prototype.parseOptions.call(this,t),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new c.TargetValue(0,1,!1)),this.keyframeType=c.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(t){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&t>=this.start&&t<=this.end?this._apply():this.isApplied&&this.toggle&&(t<this.start||t>this.end)&&this._unapply():!this.isApplied&&t>=this.start?this._apply():this.isApplied&&this.toggle&&t<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.on)this.controller.tweenProps.targetStyles[t]=this.style.on[t];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.off)this.controller.tweenProps.targetStyles[t]=this.style.off[t];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(t){if(!t.hasOwnProperty("on"))return!1;if("object"!==n(t.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");if(this.toggle&&t.hasOwnProperty("off")&&"object"!==n(t.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");return!0}},{key:"reconcile",value:function(t,e){}},{key:"onDOMRead",value:function(t,e){}},{key:"updateAnimatedValueConstraints",value:function(){}}]),e}();h.TRIGGER_TYPE_CSS_CLASS=0,h.TRIGGER_TYPE_STYLE_PROPERTY=1,h.DATA_ATTRIBUTE="data-anim-classname",t.exports=h},329:function(t,e,i){"use strict";var n=i(219);t.exports=n.requestAnimationFrame("update")},33:function(t,e,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(890)(n)},330:function(t,e,i){"use strict";var n=i(219);t.exports=n.requestAnimationFrame("draw")},433:function(t,e,i){"use strict";var n=i(8).EventEmitterMicro,s=function(){n.call(this)},r=n.prototype,a=s.prototype=Object.create(r);a.constructor=s,a.once=function(t,e,i){if(i){r.once.apply(this,[t,function(){e.apply(i,arguments)}])}else r.once.apply(this,arguments)},a.on=function(t,e,i){if(arguments.length>2){this._boundListeners||(this._boundListeners={}),this._boundListeners[t]||(this._boundListeners[t]=[]);var n=e.bind(i);return this._boundListeners[t].push([e,i,n]),r.on.call(this,t,n)}return r.on.apply(this,arguments)},a.off=function(t,e,i){if(!(arguments.length>2))return r.off.apply(this,arguments);try{for(var n=this._boundListeners[t],s=0,a=n.length;s<a;s++)if(n[s][0]===e&&n[s][1]===i){var o=n.splice(s,1)[0];return r.off.call(this,t,o[2])}}catch(t){}},a.destroy=function(){this._boundListeners=void 0,r.destroy.call(this)},t.exports=s},434:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=i(868),r=i(869),a=function(t){for(;t.length;)t.shift().destroy()},o=function(t,e,i){var n=s(t,e.view),a=r(n,e.behavior,i);return{view:n,behavior:a,destroy:function(t,e){"function"==typeof e.destroy&&e.destroy(),"function"==typeof t.destroy&&t.destroy()}.bind(null,n,a)}};t.exports=function(t,e,i){var s={};for(var r in e)if(e.hasOwnProperty(r)&&"object"===n(e[r])){var l=e[r],c=e.elementClassPrefix?"."+e.elementClassPrefix+"-"+l.className:"."+l.className,h=t.querySelectorAll(c);s[r]=[];for(var u=0,d=h.length;u<d;u++)s[r].push(o(h[u],l,i))}return{components:s,destroy:function(t){for(var e in t)t.hasOwnProperty(e)&&(a(t[e]),delete t[e])}.bind(null,s)}}},438:function(t,e,i){"use strict";var n=function(t){this.el=t};n.prototype.setText=function(t){this.el.innerHTML=t},t.exports=n},454:function(t,e,i){"use strict";var n=i(142),s=i(8).EventEmitterMicro,r=32,a=37,o=38,l=39,c=40,h=function(t){s.call(this),this._player=t.player,this._target=t.keyboardTarget||this._player.el,this._keyboard=new n(this._target),this._bindMethods(),this._addEventListeners()},u=s.prototype,d=h.prototype=Object.create(u);d._bindMethods=function(){this._onLeftArrowDown=this._onLeftArrowDown.bind(this),this._onRightArrowDown=this._onRightArrowDown.bind(this),this._onUpArrowDown=this._onUpArrowDown.bind(this),this._onDownArrowDown=this._onDownArrowDown.bind(this),this._onSpaceBarUp=this._onSpaceBarUp.bind(this),this._onSpaceBarDown=this._onSpaceBarDown.bind(this),this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._boundKeyboardInteraction={},[r,a,l,o,c].forEach(function(t){this._boundKeyboardInteraction[t]=this._onKeyboardInteraction.bind(this,t)}.bind(this))},d._addEventListeners=function(){[r,a,l,o,c].forEach(function(t){this._keyboard.onDown(t,this._boundKeyboardInteraction[t])}.bind(this)),this._keyboard.onDown(r,this._onSpaceBarDown),this._keyboard.onDown(a,this._onLeftArrowDown),this._keyboard.onDown(l,this._onRightArrowDown),this._keyboard.onDown(o,this._onUpArrowDown),this._keyboard.onDown(c,this._onDownArrowDown),this._player.on("durationchange",this._onDurationChange)},d._removeEventListeners=function(){[r,a,l,o,c].forEach(function(t){this._keyboard.offDown(t,this._boundKeyboardInteraction[t])}.bind(this)),this._boundKeyboardInteraction=null,this._keyboard.offDown(r,this._onSpaceBarDown),this._keyboard.offUp(r,this._onSpaceBarUp),this._keyboard.offDown(a,this._onLeftArrowDown),this._keyboard.offDown(l,this._onRightArrowDown),this._keyboard.offDown(o,this._onUpArrowDownDown),this._keyboard.offDown(c,this._onDownArrowDown),this._player.off("durationchange",this._onDurationChange)},d._onKeyboardInteraction=function(){this._triggerKeyboardInteraction()},d._triggerKeyboardInteraction=function(){this.trigger("keyboardinteraction")},d._onDurationChange=function(){var t=this._player.getDuration();this._interval=t>=60?10:t>=20?5:1},d._onLeftArrowDown=function(t){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getCurrentTime();isNaN(e)||this._player.seek(Math.max(e-this._interval,0))},d._onRightArrowDown=function(t){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getCurrentTime();isNaN(e)||this._player.seek(Math.min(e+this._interval,this._player.getDuration()))},d._onUpArrowDown=function(t){if(!t.target.hasAttribute("aria-checked")){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getMuted()?0:this._player.getVolume(),i=Math.min(1,e+.1);this._player.setVolume(i),this._player.setMuted(!1)}},d._onDownArrowDown=function(t){if(!t.target.hasAttribute("aria-checked")){t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();var e=this._player.getMuted()?0:this._player.getVolume(),i=Math.max(0,e-.1);this._player.setVolume(i),this._player.setMuted(0===Math.round(10*i))}},d._onSpaceBarDown=function(t){"BUTTON"!==t.target.tagName&&"button"!==t.target.getAttribute("role")&&(this._keyboard.offDown(r,this._onSpaceBarDown),this._keyboard.onUp(r,this._onSpaceBarUp))},d._onSpaceBarUp=function(){this._keyboard.offUp(r,this._onSpaceBarUp),this._player.getPaused()?this._player.play():this._player.pause(),this._keyboard.onDown(r,this._onSpaceBarDown)},d.destroy=function(){this._removeEventListeners(),this._keyboard.destroy(),u.destroy.call(this)},t.exports=h},456:function(t,e,i){"use strict";var n=i(65),s=n.os.ios||n.os.android,r=i(457),a=i(458),o=i(923);t.exports=function(t){return t.threesixty?s?new o(t):new a(t):new r(t)}},457:function(t,e,i){"use strict";i(88)();var n=function(t){this._player=t.player,this.el=this._player.el,this._showControls=t.showControls,this._hideControls=t.hideControls,this._raiseControls=t.raiseControls,this._lowerControls=t.lowerControls,this._sendMouseDown=t.sendMouseDown,this._controls=this._player.controls,this._controlsVisible=t.controlsVisible,this._controlsTimeoutDuration=t.controlsTimeoutDuration,this._keyboardControl=t.keyboardControl,this._lastMouseCoords={},this._elementEmitter=t.elementEmitter,this._bindMethods(),this._addEventListeners()},s=n.prototype;s._bindMethods=function(){this._onUserInteraction=this._onUserInteraction.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._onFullscreenWillExit=this._onFullscreenWillExit.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onClick=this._onClick.bind(this),this._onFocusIn=this._onFocusIn.bind(this),this._onFocusOut=this._onFocusOut.bind(this),this._onUserInteractionTimeout=this._onUserInteractionTimeout.bind(this)},s._addEventListeners=function(){this._controls.el.addEventListener("mousemove",this._onUserInteraction,!0),this._controls.el.addEventListener("click",this._onClick,!0),this._player.on("fullscreen:change",this._onFullscreenChange),this._player.on("fullscreen:willexit",this._onFullscreenWillExit),"onmouseleave"in this.el?this._controls.el.addEventListener("mouseleave",this._onMouseLeave):this._controls.el.addEventListener("mouseout",this._onMouseOut,!0),this._keyboardControl&&this._keyboardControl.on("keyboardinteraction",this._onUserInteraction),this._elementEmitter.on("focusin",this._onFocusIn),this._elementEmitter.on("focusout",this._onFocusOut)},s._removeEventListeners=function(){this._controls.el.removeEventListener("mousemove",this._onUserInteraction,!0),this._controls.el.removeEventListener("click",this._onClick,!0),this._player.off("fullscreen:change",this._onFullscreenChange),this._player.off("fullscreen:willexit",this._onFullscreenWillExit),"onmouseleave"in this.el?this._controls.el.removeEventListener("mouseleave",this._onMouseLeave):this._controls.el.removeEventListener("mouseout",this._onMouseOut,!0),this._keyboardControl&&this._keyboardControl.on("keyboardinteraction",this._onUserInteraction)},s._shouldIgnoreUserInteraction=function(t){return!!(t&&"focusin"!==t.type&&t.target&&this._isActiveArea(t.target))},s._onUserInteraction=function(t,e){!t||"click"!==t.type&&"focusin"!==t.type||this._player.isCaptionsSelectorShowing()&&!t.target.classList.contains("controls-text-tracks-toggle-button")&&"radio"!==t.target.getAttribute("role")&&"radiogroup"!==t.target.getAttribute("role")&&this._player.hideCaptionsSelector(),!this._player.getCurrentSrc()||this._preventUserInteraction||!e&&t&&"mousemove"===t.type&&this._lastMouseCoords.x===t.screenX&&this._lastMouseCoords.y===t.screenY||(t&&t.pageX&&(this._lastMouseCoords={x:t.screenX,y:t.screenY}),this._showControls(),this._raiseControls(),clearTimeout(this._userInteractionTimeout),this._shouldIgnoreUserInteraction(t)||(this._userInteractionTimeout=window.setTimeout(this._onUserInteractionTimeout,this._controlsTimeoutDuration)))},s._onUserInteractionTimeout=function(){this._hideControls()},s._onMouseLeave=function(t){window.clearTimeout(this._userInteractionTimeout),this._hideControls(),this._lowerControls(),this._lastMouseCoords={}},s._onMouseOut=function(t){this._controls.el.contains(t.target)||t.target===this._controls.el||this._onMouseLeave()},s._isActiveArea=function(t){for(;t!==this.el;){if(t.hasAttribute("data-acv-active-area"))return!0;t=t.parentNode}return!1},s._onClick=function(t){this._hasFocus=!1,this._onUserInteraction(t)},s._onFullscreenWillExit=function(){this.controls&&(this.controls.el.display="none")},s._onFullscreenChange=function(){this.controls&&(this.controls.el.display=""),this._hideControls(),this._lowerControls(),this._preventUserInteraction=!0,setTimeout(function(){this._preventUserInteraction=!1,this._player.refreshSize()}.bind(this),750),this._player.refreshSize()},s._onFocusIn=function(t){clearTimeout(this._focusOutTimer),this._focusOutTimer=null,this._hasFocus=!0,this._onUserInteraction(t)},s._onFocusOut=function(t){this._focusOutTimer=setTimeout(function(){this._hasFocus&&!this.el.contains(document.activeElement)&&(this._hasFocus=!1,this._hideControls(),this._lowerControls())}.bind(this),100)},s.destroy=function(){this._removeEventListeners()},t.exports=n},458:function(t,e,i){"use strict";var n=i(457),s=function(t){n.call(this,t),this._showCompass=t.showCompass,this._hideCompass=t.hideCompass,this._threesixtyElementsTimeoutDuration=t.threesixtyElementsTimeoutDuration||3e3,this._dragEndThreshold=500,this._mouseDownPosition=null},r=n.prototype,a=s.prototype=Object.create(r);a._bindMethods=function(){r._bindMethods.apply(this,arguments),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onDragging=this._onDragging.bind(this),this._onClick=this._onClick.bind(this)},a._addEventListeners=function(){r._addEventListeners.apply(this,arguments),this._controls.el.addEventListener("mousedown",this._onMouseDown),this._controls.el.addEventListener("click",this._onClick)},a._removeEventListeners=function(){r._removeEventListeners.apply(this,arguments),this._controls.el.removeEventListener("mousedown",this._onMouseDown)},a._onUserInteraction=function(t){this._userWasRecentlyDragging||t&&"mousemove"===t.type&&this._lastMouseCoords.x===t.screenX&&this._lastMouseCoords.y===t.screenY||this._dragging||(this._showCompass(),clearTimeout(this._userHideMouse),r._onUserInteraction.apply(this,arguments))},a._onUserInteractionTimeout=function(){r._onUserInteractionTimeout.apply(this,arguments),clearTimeout(this._userHideMouse),this._userHideMouse=setTimeout(function(){this._hideCompass()}.bind(this),this._threesixtyElementsTimeoutDuration)},a._onDragging=function(t){!this._dragging&&this._isActiveArea(t.target)||(this._dragging=!0,this._player.el.classList.add("dragging"),this._player.el.classList.add("recently-dragging"),this._recentDragTimeout=setTimeout(function(){this._dragging&&(this._hideControls(),this._userWasRecentlyDragging=!0,clearTimeout(this._dragTimer),this._dragTimer=setTimeout(function(){this._userWasRecentlyDragging=!1,this._player.el.classList.remove("recently-dragging")}.bind(this),this._dragEndThreshold))}.bind(this),30),clearTimeout(this._userInteractionTimeout),clearTimeout(this._userHideMouse))},a._isDraggable=function(t){return-1!==[this._player.controls.compass.el,this._player.controls.playButtonElement].indexOf(t)||this._player.controls.compass.el.contains(t)},a._onMouseDown=function(t){this._isActiveArea(t.target)&&this._controlsVisible()&&!this._isDraggable(t.target)||!this._isPlayingState()||(this._showControls(),clearTimeout(this._userHideMouse),clearTimeout(this._recentDragTimeout),this._player.el.classList.remove("dragging"),this._player.el.classList.remove("recently-dragging"),this._mouseDownPosition={x:t.x,y:t.y},window.addEventListener("mouseup",this._onMouseUp),window.addEventListener("mousemove",this._onDragging),this._sendMouseDown(t))},a._onMouseUp=function(t){window.removeEventListener("mousemove",this._onDragging),window.removeEventListener("mouseup",this._onMouseUp),this._dragging&&this._onUserInteractionTimeout(),this._player.el.contains(t.target)||this._hideCompass(),this._player.el.classList.remove("dragging"),this._dragging=!1},a._onMouseLeave=function(t){r._onMouseLeave.apply(this,arguments),this._userWasRecentlyDragging=!1,this._dragging||(clearTimeout(this._userHideMouse),this._hideCompass())},a._onClick=function(t){this._player.controls.compass.el.contains(t.target)&&this._userWasRecentlyDragging&&t.stopPropagation(),t.target!==this._player.controls.playButtonElement.parentElement&&t.target!==this._controls.el.firstElementChild||null===this._mouseDownPosition||this._mouseDownPosition.x!==t.x||this._mouseDownPosition.y!==t.y||(this._mouseDownPosition=null,this._mouseDownTime=1/0,this._dragging=!1,this._userWasRecentlyDragging=!1,clearTimeout(this._dragTimer),clearTimeout(this._recentDragTimeout))},a._isPlayingState=function(){return!this._player.controls.el.classList.contains("start-state")&&!this._player.controls.el.classList.contains("end-state")},t.exports=s},463:function(t,e,i){"use strict";var n=i(926),s=n.split("."),r=s[2].split("-"),a=parseInt(s[0]),o=parseInt(s[1]),l=parseInt(s[2]);parseInt(r[1]);t.exports={toString:function(){return n},toArray:function(){return[a,o,l]},major:parseInt(s[0]),minor:parseInt(s[1]),patch:parseInt(r[0]),prerelease:r.length>1?parseInt(r[1]):null}},464:function(t,e,i){"use strict";var n=i(88)();t.exports=function(t){var e;(t?arguments.length>1&&(t=Object.assign.apply(null,Array.prototype.slice.apply(arguments))):t={},t.components||(t.components=i(465)),void 0===t.controls&&(t.controls=!0),t.controlsImplementation||(t.controlsImplementation=i(502)),t.controlsFactory||(t.controlsFactory=i(1117)({controlsImplementation:t.controlsImplementation,components:t.components,template:t.controlsTemplate})),(void 0!==t.urlOptimizer&&!0===t.urlOptimizer||"true"===t.urlOptimizer)&&(t.urlOptimizer=i(503)),t.sources||t.src?t.sources=t.sources?t.sources:t.src?[t.src]:[]:t.sources=[],t.autoplay=void 0!==t.autoplay?t.autoplay:n,t.controlsTimeoutDuration||(t.controlsTimeoutDuration=3e3),t.threesixty)?(t.threesixtyElementsTimeoutDuration||(t.threesixtyElementsTimeoutDuration=3e3),e=new(i(1122))(t)):e=new(i(274))(t);var s={};return t.sharing&&(s.sharing=Object.assign({},t.sharing)),t.thumbnails&&(s.thumbnails=Object.assign({},t.thumbnails)),t.endState&&(s.endState=Object.assign({},t.endState)),t.sources&&t.sources.length&&e.load(t.sources,t.textTracks,t.startTime,s),e}},465:function(t,e,i){"use strict";var n=i(466),s=i(927),r=i(438),a=i(928),o=i(929),l=i(936),c=i(937),h=i(938),u=i(939),d=i(940),p=i(941),f=i(942),m=i(943),_=i(945),v=i(946),g=i(947),b=i(1108),y=i(1109);t.exports={back30Seconds:{className:"back-30-seconds-button",view:{classDef:n}},fullScreen:{className:"full-screen-button",view:{classDef:s,options:{states:{initial:"fullscreen-unsupported",on:"is-fullscreen",off:""},labels:{initial:"fullscreen",on:"exitfullscreen",off:"fullscreen"}}},behavior:{classDef:f}},toggleMuteVolume:{className:"toggle-mute-volume-button",view:{classDef:s,options:{states:{initial:[],on:["is-muted"],off:[]}}},behavior:{classDef:c}},playPauseContainer:{className:"play-pause-button-container",view:{classDef:s,options:{states:{playing:["is-playing"],paused:[],ended:["is-ended"]}}},behavior:{classDef:h}},pictureInPictureToggle:{className:"picture-in-picture-button",view:{classDef:s,options:{states:{initial:["picture-in-picture-unsupported"],on:["is-picture-in-picture"],off:[]},labels:{initial:"pictureinpicture",on:"exitpictureinpicture",off:"pictureinpicture"}}},behavior:{classDef:u}},captionsToggle:{className:"text-tracks-toggle-button",view:{classDef:s,options:{states:{initial:["no-text-tracks"],on:["text-tracks-visible"],off:[]}}},behavior:{classDef:d}},captionsSelector:{className:"captions-selector",view:{classDef:a},behavior:{classDef:p}},airplayToggle:{className:"airplay-button",view:{classDef:s,options:{states:{initial:["airplay-unsupported"],on:["airplay-active"],off:[]}}},behavior:{classDef:b}},elapsedTimeIndicator:{className:"elapsed-time",view:{classDef:r}},remainingTimeIndicator:{className:"remaining-time",view:{classDef:r}},progressBar:{className:"progress-indicator",view:{classDef:o,options:{template:'<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-hover-track">\n\t\t<div class="ac-slider-hover-notch"></div>\n\t</div>\n\t<div class="ac-slider-thumb">\n\t\t<div class="ac-slider-thumb-background-wrapper">\n\t\t\t<div class="ac-slider-thumb-background"></div>\n\t\t</div>\n\t</div>\n\t<div class="ac-slider-inner-track">\n\t\t<div class="ac-slider-scrubbed"></div>\n\t</div>\n</div>',min:0,max:1,mixins:[y],orientation:"horizontal"}},behavior:{classDef:m}},volumeLevel:{className:"volume-level-indicator",view:{classDef:o,options:{template:'<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-background"></div>\n\t<div class="ac-slider-thumb-wrapper">\n\t\t<div class="ac-slider-thumb">\n\t\t\t<div class="ac-slider-thumb-background-wrapper">\n\t\t\t\t<div class="ac-slider-thumb-background"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="ac-slider-inner-track">\n\t\t<div class="ac-slider-scrubbed"></div>\n\t</div>\n</div>',min:0,max:100,mixins:[y],orientation:"vertical"}},behavior:{classDef:_}},sharing:{className:"sharing-button",view:{classDef:s,options:{states:{initial:["sharing-unsupported"],on:["is-sharing"],off:[]}}},behavior:{classDef:v}},socialShare:{className:"social-tray",view:{classDef:l,options:{}},behavior:{classDef:g}}}},466:function(t,e,i){"use strict";var n=i(139),s=function(t){this.el=t};s.prototype=Object.create(n.prototype),t.exports=s},474:function(t,e,i){"use strict";var n=i(986).adler32,s=(i(124),i(475)),r=i(1021),a=i(1022),o=30;function l(t){if(!t||"string"!=typeof t)throw"ac-storage/Item: Key for Item must be a string";this._key=t,this._checksum=null,this._expirationDate=null,this._metadata=null,this._value=null,this.setExpirationDate(l.createExpirationDate(o))}l.prototype={save:function(){var t,e,i;if(t=s.best({})){if(null===this.value()&&"function"==typeof t.removeItem)return t.removeItem(this.key());if("function"==typeof t.setItem)return e=this.__state(),i=a.encode(e),t.setItem(this.key(),i,this.expirationDate())}return!1},load:function(){var t,e;return!(!(t=s.best())||"function"!=typeof t.getItem)&&(e=t.getItem(this.key()),this.__updateState(a.decode(e)),null!==e&&!this.hasExpired()||(this.remove(),!1))},remove:function(){return this.__updateState(null),s.best().removeItem(this.key())},hasExpired:function(t){return!1!==this.expirationDate()&&this.expirationDate()<=Date.now()||!this.__checksumIsValid(t)},value:function(t){return this.hasExpired(t)&&this.remove(),this._value},setValue:function(t){this._value=t},setChecksum:function(t){if(null===t)this._checksum=t;else{if("string"!=typeof t||""===t)throw"ac-storage/Item#setChecksum: Checksum must be null or a string";this._checksum=n(t)}},checksum:function(){return this._checksum},setExpirationDate:function(t){if(null===t&&(t=l.createExpirationDate(o)),!1!==t){if("string"==typeof t&&(t=new Date(t).getTime()),t&&"function"==typeof t.getTime&&(t=t.getTime()),!t||isNaN(t))throw"ac-storage/Item: Invalid date object provided as expirationDate";(t-=t%864e5)<=Date.now()&&(t=!1)}this._expirationDate=t},expirationDate:function(){return this._expirationDate},__state:function(){var t={};return t.checksum=this.checksum(),t.expirationDate=this.expirationDate(),t.metadata=this.metadata(),t.value=this.value(),t},__updateState:function(t){var e,i;for(e in null===t&&(t={checksum:null,expirationDate:null,metadata:null,value:null}),t)"function"==typeof this[i="set"+e.charAt(0).toUpperCase()+e.slice(1)]&&this[i](t[e])},__checksumIsValid:function(t){if(t){if(t=n(t),!this.checksum())throw"ac-storage/Item: No checksum exists to determine if this Items value is valid. Try loading context from persistent storage first.";return t===this.checksum()}if(this.checksum())throw"ac-storage/Item: No checksum passed, but checksum exists in Items state.";return!0},setKey:function(){throw"ac-storage/Item: Cannot set key /after/ initialization!"},key:function(){return this._key},metadata:function(){return this._metadata},setMetadata:function(t){this._metadata=t}},l.createExpirationDate=r,t.exports=l},475:function(t,e,i){"use strict";var n=i(992).log,s={_list:[i(476),i(1010)],list:function(){return this._list},all:function(t){n("ac-storage/Item/apis.all: Method is deprecated");var e=Array.prototype.slice.call(arguments,1);if("string"!=typeof t)throw"ac-storage/Item/apis.all: Method name must be provided as a string";return this.list().map(function(i){if(i.available()){if("function"==typeof i[t])return i[t].apply(i,e);throw"ac-storage/Item/apis.all: Method not available on api"}return!1})},best:function(){var t=null;return this.list().some(function(e){if(e.available())return t=e,!0}),t}};t.exports=s},476:function(t,e,i){"use strict";var n,s=i(79);try{var r=window.localStorage,a=window.sessionStorage}catch(t){n=!1}var o={name:"localStorage",available:function(){try{r.setItem("localStorage",1),r.removeItem("localStorage")}catch(t){n=!1}return void 0===n&&(n=s.localStorageAvailable()),n},getItem:function(t){return r.getItem(t)||a.getItem(t)},setItem:function(t,e,i){return!1===i?a.setItem(t,e):r.setItem(t,e),!0},removeItem:function(t){return r.removeItem(t),a.removeItem(t),!0}};t.exports=o},486:function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){function e(t){var e,i,n,s,r,a=window.s_c_il,o=t.split(","),l=0;if(a)for(i=0;!l&&i<a.length;){if("s_c"==(e=a[i])._c&&(e.account||e.oun))if(e.account&&e.account==t)l=1;else for(n=e.account?e.account:e.oun,n=e.allAccounts?e.allAccounts:n.split(","),s=0;s<o.length;s++)for(r=0;r<n.length;r++)o[s]==n[r]&&(l=1);i++}return l?e.setAccount&&e.setAccount(t):e=new AppMeasurement(t),e}function n(){var t,i,n,s=window,r=s.s_giq;if(r)for(t=0;t<r.length;t++)(n=e((i=r[t]).oun)).setAccount(i.un),n.setTagContainer(i.tagContainerName);s.s_giq=0}window.AppMeasurement_Module_ActivityMap=function(t){function e(t,e){var i,n,s;if(t&&e&&(i=r.c[e]||(r.c[e]=e.split(","))))for(s=0;s<i.length&&(n=i[s++]);)if(-1<t.indexOf(n))return null;return o=1,t}function i(e,i,n,s,r){var a,o,l,c;if((e.dataset&&(o=e.dataset[i])?a=o:e.getAttribute&&((o=e.getAttribute("data-"+n))?a=o:(o=e.getAttribute(n))&&(a=o)),!a&&t.useForcedLinkTracking&&r&&(a="",i=e.onclick?""+e.onclick:""))&&0<=(n=i.indexOf(s))){for(n+=10;n<i.length&&0<="= \t\r\n".indexOf(i.charAt(n));)n++;if(n<i.length){for(o=n,l=c=0;o<i.length&&(";"!=i.charAt(o)||l);)l?i.charAt(o)!=l||c?c="\\"==i.charAt(o)?!c:0:l=0:'"'!=(l=i.charAt(o))&&"'"!=l&&(l=0),o++;(i=i.substring(n,o))&&(e.e=new Function("s","var e;try{s.w."+s+"="+i+"}catch(e){}"),e.e(t))}}return a||r&&t.w[s]}function n(t,i,n){var a;return(a=r[i](t,n))&&(o?(o=0,a):e(s(a),r[i+"Exclusions"]))}function s(t){if(null==t||void 0==t)return t;try{return t.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r -\u2028\u2029\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r -\u2028\u2029\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r -\u2028\u2029\ufeff]{1,}","mg")," ").substring(0,254)}catch(t){}}var r=this;r.s=t;var a=window;a.s_c_in||(a.s_c_il=[],a.s_c_in=0),r._il=a.s_c_il,r._in=a.s_c_in,r._il[r._in]=r,a.s_c_in++,r._c="s_m",r.c={};var o=0,l={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};r._g=function(){var e,i,s,r=t.contextData,a=t.linkObject;(e=t.pageName||t.pageURL)&&(i=n(a,"link",t.linkName))&&(s=n(a,"region"))&&(r["a.activitymap.page"]=e.substring(0,255),r["a.activitymap.link"]=128<i.length?i.substring(0,128):i,r["a.activitymap.region"]=127<s.length?s.substring(0,127):s,r["a.activitymap.pageIDType"]=t.pageName?1:0)},r.link=function(t,n){var a;if(n)a=e(s(n),r.linkExclusions);else if((a=t)&&!(a=i(t,"sObjectId","s-object-id","s_objectID",1))){var o,c;(c=e(s(t.innerText||t.textContent),r.linkExclusions))||(function t(e,i,n){var s;if(e&&!(1===(s=e.nodeType)&&(s=e.nodeName)&&(s=s.toUpperCase())&&l[s])&&(1===e.nodeType&&(s=e.nodeValue)&&(i[i.length]=s),n.a||n.t||n.s||!e.getAttribute||((s=e.getAttribute("alt"))?n.a=s:(s=e.getAttribute("title"))?n.t=s:"IMG"==(""+e.nodeName).toUpperCase()&&(s=e.getAttribute("src")||e.src)&&(n.s=s)),(s=e.childNodes)&&s.length))for(e=0;e<s.length;e++)t(s[e],i,n)}(t,o=[],a={a:void 0,t:void 0,s:void 0}),(c=e(s(o.join(""))))||(c=e(s(a.a?a.a:a.t?a.t:a.s?a.s:void 0)))||!(o=(o=t.tagName)&&o.toUpperCase?o.toUpperCase():"")||("INPUT"==o||"SUBMIT"==o&&t.value?c=e(s(t.value)):"IMAGE"==o&&t.src&&(c=e(s(t.src))))),a=c}return a},r.region=function(t){for(var e,n=r.regionIDAttribute||"id";t&&(t=t.parentNode);){if(e=i(t,n,n,n))return e;if("BODY"==t.nodeName)return"BODY"}}},window.AppMeasurement=function(t){var e=this;e.version="2.7.0";var n=window;n.s_c_in||(n.s_c_il=[],n.s_c_in=0),e._il=n.s_c_il,e._in=n.s_c_in,e._il[e._in]=e,n.s_c_in++,e._c="s_c";var s=n.AppMeasurement.Rb;s||(s=null);var r,a,o,l=n;try{for(r=l.parent,a=l.location;r&&r.location&&a&&""+r.location!=""+a&&l.location&&""+r.location!=""+l.location&&r.location.host==a.host;)r=(l=r).parent}catch(t){}e.F=function(t){try{console.log(t)}catch(t){}},e.Ma=function(t){return""+parseInt(t)==""+t},e.replace=function(t,e,i){return!t||0>t.indexOf(e)?t:t.split(e).join(i)},e.escape=function(t){var i,n;if(!t)return t;for(t=encodeURIComponent(t),i=0;7>i;i++)n="+~!*()'".substring(i,i+1),0<=t.indexOf(n)&&(t=e.replace(t,n,"%"+n.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=0<=t.indexOf("+")?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(t){}return unescape(t)},e.yb=function(){var t,i=n.location.hostname,s=e.fpCookieDomainPeriods;if(s||(s=e.cookieDomainPeriods),i&&!e.Ea&&!/^[0-9.]+$/.test(i)&&(s=2<(s=s?parseInt(s):2)?s:2,0<=(t=i.lastIndexOf(".")))){for(;0<=t&&1<s;)t=i.lastIndexOf(".",t-1),s--;e.Ea=0<t?i.substring(t):i}return e.Ea},e.c_r=e.cookieRead=function(t){t=e.escape(t);var i=" "+e.d.cookie,n=i.indexOf(" "+t+"="),s=0>n?n:i.indexOf(";",n);return"[[B]]"!=(t=0>n?"":e.unescape(i.substring(n+2+t.length,0>s?i.length:s)))?t:""},e.c_w=e.cookieWrite=function(t,i,n){var s,r=e.yb(),a=e.cookieLifetime;return i=""+i,a=a?(""+a).toUpperCase():"",n&&"SESSION"!=a&&"NONE"!=a&&((s=""!=i?parseInt(a||0):-60)?(n=new Date).setTime(n.getTime()+1e3*s):1==n&&(s=(n=new Date).getYear(),n.setYear(s+5+(1900>s?1900:0)))),t&&"NONE"!=a?(e.d.cookie=e.escape(t)+"="+e.escape(""!=i?i:"[[B]]")+"; path=/;"+(n&&"SESSION"!=a?" expires="+n.toUTCString()+";":"")+(r?" domain="+r+";":""),e.cookieRead(t)==i):0},e.ub=function(){var t=e.Util.getIeVersion();"number"==typeof t&&10>t&&(e.unsupportedBrowser=!0,e.jb(e,function(){}))},e.jb=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"function"==typeof t[i]&&(t[i]=e)},e.L=[],e.ia=function(t,i,n){if(e.Fa)return 0;e.maxDelay||(e.maxDelay=250);var s=0,r=(new Date).getTime()+e.maxDelay,a=e.d.visibilityState,o=["webkitvisibilitychange","visibilitychange"];if(a||(a=e.d.webkitVisibilityState),a&&"prerender"==a){if(!e.ja)for(e.ja=1,n=0;n<o.length;n++)e.d.addEventListener(o[n],function(){var t=e.d.visibilityState;t||(t=e.d.webkitVisibilityState),"visible"==t&&(e.ja=0,e.delayReady())});s=1,r=0}else n||e.p("_d")&&(s=1);return s&&(e.L.push({m:t,a:i,t:r}),e.ja||setTimeout(e.delayReady,e.maxDelay)),s},e.delayReady=function(){var t,i=(new Date).getTime(),n=0;for(e.p("_d")?n=1:e.xa();0<e.L.length;){if(t=e.L.shift(),n&&!t.t&&t.t>i){e.L.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.Fa=1,e[t.m].apply(e,t.a),e.Fa=0}},e.setAccount=e.sa=function(t){var i,n;if(!e.ia("setAccount",arguments))if(e.account=t,e.allAccounts)for(i=e.allAccounts.concat(t.split(",")),e.allAccounts=[],i.sort(),n=0;n<i.length;n++)0!=n&&i[n-1]==i[n]||e.allAccounts.push(i[n]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,i){var n,s,r,a,o="";for(r=s="",e.lightProfileID?(n=e.P,(o=e.lightTrackVars)&&(o=","+o+","+e.na.join(",")+",")):(n=e.g,(e.pe||e.linkType)&&(o=e.linkTrackVars,s=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(o=e[r].Pb,s=e[r].Ob))),o&&(o=","+o+","+e.H.join(",")+","),s&&o&&(o+=",events,")),i&&(i=","+i+","),s=0;s<n.length;s++)r=n[s],(a=e[r])&&(!o||0<=o.indexOf(","+r+","))&&(!i||0<=i.indexOf(","+r+","))&&t(r,a)},e.r=function(t,i,n,s,r){var a,o,l,c,h="",u=0;if("contextData"==t&&(t="c"),i){for(a in i)if(!(Object.prototype[a]||r&&a.substring(0,r.length)!=r)&&i[a]&&(!n||0<=n.indexOf(","+(s?s+".":"")+a+","))){if(l=!1,u)for(o=0;o<u.length;o++)a.substring(0,u[o].length)==u[o]&&(l=!0);if(!l&&(""==h&&(h+="&"+t+"."),o=i[a],r&&(a=a.substring(r.length)),0<a.length))if(0<(l=a.indexOf(".")))o=a.substring(0,l),l=(r||"")+o+".",u||(u=[]),u.push(l),h+=e.r(o,i,n,s,l);else if("boolean"==typeof o&&(o=o?"true":"false"),o){if("retrieveLightData"==s&&0>r.indexOf(".contextData."))switch(l=a.substring(0,4),c=a.substring(4),a){case"transactionID":a="xact";break;case"channel":a="ch";break;case"campaign":a="v0";break;default:e.Ma(c)&&("prop"==l?a="c"+c:"eVar"==l?a="v"+c:"list"==l?a="l"+c:"hier"==l&&(a="h"+c,o=o.substring(0,255)))}h+="&"+e.escape(a)+"="+e.escape(o)}}""!=h&&(h+="&."+t)}return h},e.usePostbacks=0,e.Bb=function(){var t,n,r,a,o,l,c,h,u="",d="",p="",f=a="";if(e.lightProfileID?(t=e.P,(d=e.lightTrackVars)&&(d=","+d+","+e.na.join(",")+",")):(t=e.g,(e.pe||e.linkType)&&(d=e.linkTrackVars,p=e.linkTrackEvents,e.pe&&(a=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[a]&&(d=e[a].Pb,p=e[a].Ob))),d&&(d=","+d+","+e.H.join(",")+","),p&&(p=","+p+",",d&&(d+=",events,")),e.events2&&(f+=(""!=f?",":"")+e.events2)),e.visitor&&e.visitor.getCustomerIDs){if(a=s,o=e.visitor.getCustomerIDs())for(n in o)Object.prototype[n]||"object"==i(r=o[n])&&(a||(a={}),r.id&&(a[n+".id"]=r.id),r.authState&&(a[n+".as"]=r.authState));a&&(u+=e.r("cid",a))}for(e.AudienceManagement&&e.AudienceManagement.isReady()&&(u+=e.r("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(a=t[n],o=e[a],r=a.substring(0,4),l=a.substring(4),o||("events"==a&&f?(o=f,f=""):"marketingCloudOrgID"==a&&e.visitor&&(o=e.visitor.marketingCloudOrgID)),o&&(!d||0<=d.indexOf(","+a+","))){switch(a){case"customerPerspective":a="cp";break;case"marketingCloudOrgID":a="mcorgid";break;case"supplementalDataID":a="sdid";break;case"timestamp":a="ts";break;case"dynamicVariablePrefix":a="D";break;case"visitorID":a="vid";break;case"marketingCloudVisitorID":a="mid";break;case"analyticsVisitorID":a="aid";break;case"audienceManagerLocationHint":a="aamlh";break;case"audienceManagerBlob":a="aamb";break;case"authState":a="as";break;case"pageURL":a="g",255<o.length&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":a="-g";break;case"referrer":a="r";break;case"vmk":case"visitorMigrationKey":a="vmt";break;case"visitorMigrationServer":a="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":a="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":a="ce";break;case"visitorNamespace":a="ns";break;case"cookieDomainPeriods":a="cdp";break;case"cookieLifetime":a="cl";break;case"variableProvider":a="vvp";break;case"currencyCode":a="cc";break;case"channel":a="ch";break;case"transactionID":a="xact";break;case"campaign":a="v0";break;case"latitude":a="lat";break;case"longitude":a="lon";break;case"resolution":a="s";break;case"colorDepth":a="c";break;case"javascriptVersion":a="j";break;case"javaEnabled":a="v";break;case"cookiesEnabled":a="k";break;case"browserWidth":a="bw";break;case"browserHeight":a="bh";break;case"connectionType":a="ct";break;case"homepage":a="hp";break;case"events":if(f&&(o+=(""!=o?",":"")+f),p)for(l=o.split(","),o="",r=0;r<l.length;r++)0<=(h=(c=l[r]).indexOf("="))&&(c=c.substring(0,h)),0<=(h=c.indexOf(":"))&&(c=c.substring(0,h)),0<=p.indexOf(","+c+",")&&(o+=(o?",":"")+l[r]);break;case"events2":o="";break;case"contextData":u+=e.r("c",e[a],d,a),o="";break;case"lightProfileID":a="mtp";break;case"lightStoreForSeconds":a="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":a="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":a="mtsr";break;case"deleteLightProfiles":a="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(u+=e.r("mts",e[a],d,a)),o="";break;default:e.Ma(l)&&("prop"==r?a="c"+l:"eVar"==r?a="v"+l:"list"==r?a="l"+l:"hier"==r&&(a="h"+l,o=o.substring(0,255)))}o&&(u+="&"+a+"="+("pev"!=a.substring(0,3)?e.escape(o):o))}"pev3"==a&&e.e&&(u+=e.e)}return u},e.D=function(t){var e=t.tagName;return"undefined"!=""+t.Ub||"undefined"!=""+t.Kb&&"HTML"!=(""+t.Kb).toUpperCase()?"":("SHAPE"==(e=e&&e.toUpperCase?e.toUpperCase():"")&&(e=""),e&&(("INPUT"==e||"BUTTON"==e)&&t.type&&t.type.toUpperCase?e=t.type.toUpperCase():!e&&t.href&&(e="A")),e)},e.Ia=function(t){var e,i,s,r=n.location,a=t.href?t.href:"";return e=a.indexOf(":"),i=a.indexOf("?"),s=a.indexOf("/"),a&&(0>e||0<=i&&e>i||0<=s&&e>s)&&(i=t.protocol&&1<t.protocol.length?t.protocol:r.protocol?r.protocol:"",e=r.pathname.lastIndexOf("/"),a=(i?i+"//":"")+(t.host?t.host:r.host?r.host:"")+("/"!=a.substring(0,1)?r.pathname.substring(0,0>e?0:e)+"/":"")+a),a},e.M=function(t){var i,n,s=e.D(t),r="",a=0;return s&&(i=t.protocol,n=t.onclick,!t.href||"A"!=s&&"AREA"!=s||n&&i&&!(0>i.toLowerCase().indexOf("javascript"))?n?(r=e.replace(e.replace(e.replace(e.replace(""+n,"\r",""),"\n",""),"\t","")," ",""),a=2):"INPUT"==s||"SUBMIT"==s?(t.value?r=t.value:t.innerText?r=t.innerText:t.textContent&&(r=t.textContent),a=3):"IMAGE"==s&&t.src&&(r=t.src):r=e.Ia(t),r)?{id:r.substring(0,100),type:a}:0},e.Sb=function(t){for(var i=e.D(t),n=e.M(t);t&&!n&&"BODY"!=i;)(t=t.parentElement?t.parentElement:t.parentNode)&&(i=e.D(t),n=e.M(t));return n&&"BODY"!=i||(t=0),t&&(0<=(i=t.onclick?""+t.onclick:"").indexOf(".tl(")||0<=i.indexOf(".trackLink("))&&(t=0),t},e.Jb=function(){var t,i,s,r,a=e.linkObject,o=e.linkType,l=e.linkURL;if(e.oa=1,a||(e.oa=0,a=e.clickObject),a){for(t=e.D(a),i=e.M(a);a&&!i&&"BODY"!=t;)(a=a.parentElement?a.parentElement:a.parentNode)&&(t=e.D(a),i=e.M(a));if(i&&"BODY"!=t||(a=0),a&&!e.linkObject){var c=a.onclick?""+a.onclick:"";(0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(a=0)}}else e.oa=1;if(!l&&a&&(l=e.Ia(a)),l&&!e.linkLeaveQueryString&&(0<=(s=l.indexOf("?"))&&(l=l.substring(0,s))),!o&&l){var h,u=0,d=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(s=(c=l.toLowerCase()).indexOf("?"),r=c.indexOf("#"),0<=s?0<=r&&r<s&&(s=r):s=r,0<=s&&(c=c.substring(0,s)),s=e.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<s.length;r++)(h=s[r])&&c.substring(c.length-(h.length+1))=="."+h&&(o="d");if(e.trackExternalLinks&&!o&&(c=l.toLowerCase(),e.La(c)&&(e.linkInternalFilters||(e.linkInternalFilters=n.location.hostname),s=0,e.linkExternalFilters?(s=e.linkExternalFilters.toLowerCase().split(","),u=1):e.linkInternalFilters&&(s=e.linkInternalFilters.toLowerCase().split(",")),s))){for(r=0;r<s.length;r++)h=s[r],0<=c.indexOf(h)&&(d=1);d?u&&(o="e"):u||(o="e")}}e.linkObject=a,e.linkURL=l,e.linkType=o,(e.trackClickMap||e.trackInlineStats)&&(e.e="",a&&(o=e.pageName,l=1,a=a.sourceIndex,o||(o=e.pageURL,l=0),n.s_objectID&&(i.id=n.s_objectID,a=i.type=1),o&&i&&i.id&&t&&(e.e="&pid="+e.escape(o.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+t+(a?"&oi="+a:""))))},e.Cb=function(){var t=e.oa,i=e.linkType,n=e.linkURL,s=e.linkName;if(i&&(n||s)&&("d"!=(i=i.toLowerCase())&&"e"!=i&&(i="o"),e.pe="lnk_"+i,e.pev1=n?e.escape(n):"",e.pev2=s?e.escape(s):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats||e.ActivityMap){i={},n=0;var r,a,o,l=(c=e.cookieRead("s_sq"))?c.split("&"):0,c=0;if(l)for(r=0;r<l.length;r++)a=l[r].split("="),s=e.unescape(a[0]).split(","),i[a=e.unescape(a[1])]=s;for(o in s=e.account.split(","),r={},e.contextData)o&&!Object.prototype[o]&&"a.activitymap."==o.substring(0,14)&&(r[o]=e.contextData[o],e.contextData[o]="");if(e.e=e.r("c",r)+(e.e?e.e:""),t||e.e){for(a in t&&!e.e&&(c=1),i)if(!Object.prototype[a])for(o=0;o<s.length;o++)for(c&&((l=i[a].join(","))==e.account&&(e.e+=("&"!=a.charAt(0)?"&":"")+a,i[a]=[],n=1)),r=0;r<i[a].length;r++)(l=i[a][r])==s[o]&&(c&&(e.e+="&u="+e.escape(l)+("&"!=a.charAt(0)?"&":"")+a+"&u=0"),i[a].splice(r,1),n=1);if(t||(n=1),n){for(a in c="",r=2,!t&&e.e&&(c=e.escape(s.join(","))+"="+e.escape(e.e),r=1),i)!Object.prototype[a]&&0<r&&0<i[a].length&&(c+=(c?"&":"")+e.escape(i[a].join(","))+"="+e.escape(a),r--);e.cookieWrite("s_sq",c)}}}return t},e.Db=function(){if(!e.Nb){var t,i,n,s,r=new Date,a=l.location,o=i=t="",c="1.2",h=e.cookieWrite("s_cc","true",0)?"Y":"N",u="",d="";if(r.setUTCDate&&(c="1.3",(0).toPrecision&&(c="1.5",(r=[]).forEach))){c="1.6",i=0,t={};try{(i=new Iterator(t)).next&&(c="1.7",r.reduce&&((c="1.8").trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(t){}}t=screen.width+"x"+screen.height,o=navigator.javaEnabled()?"Y":"N",i=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,n=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,s=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),u=e.b.Tb(a)?"Y":"N"}catch(t){}try{e.b.addBehavior("#default#clientCaps"),d=e.b.connectionType}catch(t){}e.resolution=t,e.colorDepth=i,e.javascriptVersion=c,e.javaEnabled=o,e.cookiesEnabled=h,e.browserWidth=n,e.browserHeight=s,e.connectionType=d,e.homepage=u,e.Nb=1}},e.Q={},e.loadModule=function(t,i){var s=e.Q[t];if(!s){s=n["AppMeasurement_Module_"+t]?new n["AppMeasurement_Module_"+t](e):{},e.Q[t]=e[t]=s,s.eb=function(){return s.ib},s.kb=function(i){(s.ib=i)&&(e[t+"_onLoad"]=i,e.ia(t+"_onLoad",[e,s],1)||i(e,s))};try{Object.defineProperty?Object.defineProperty(s,"onLoad",{get:s.eb,set:s.kb}):s._olc=1}catch(t){s._olc=1}}i&&(e[t+"_onLoad"]=i,e.ia(t+"_onLoad",[e,s],1)||i(e,s))},e.p=function(t){var i,n;for(i in e.Q)if(!Object.prototype[i]&&(n=e.Q[i])&&(n._olc&&n.onLoad&&(n._olc=0,n.onLoad(e,n)),n[t]&&n[t]()))return 1;return 0},e.Fb=function(){var t=Math.floor(1e13*Math.random()),i=e.visitorSampling,n=e.visitorSamplingGroup,s=(n="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(n?"_"+n:""),e.cookieRead(n));if(i){if(i*=100,s&&(s=parseInt(s)),!s){if(!e.cookieWrite(n,t))return 0;s=t}if(s%1e4>i)return 0}return 1},e.R=function(t,i){var n,s,r,a,o,l;for(n=0;2>n;n++)for(s=0<n?e.Aa:e.g,r=0;r<s.length;r++)if((o=t[a=s[r]])||t["!"+a]){if(!i&&("contextData"==a||"retrieveLightData"==a)&&e[a])for(l in e[a])o[l]||(o[l]=e[a][l]);e[a]=o}},e.Va=function(t,i){var n,s,r,a;for(n=0;2>n;n++)for(s=0<n?e.Aa:e.g,r=0;r<s.length;r++)t[a=s[r]]=e[a],i||t[a]||(t["!"+a]=1)},e.xb=function(t){var e,i,n,s,r,a,o=0,l="",c="";if(t&&255<t.length&&(0<(i=(e=""+t).indexOf("?"))&&(a=e.substring(i+1),n=0,"http://"==(s=(e=e.substring(0,i)).toLowerCase()).substring(0,7)?n+=7:"https://"==s.substring(0,8)&&(n+=8),0<(i=s.indexOf("/",n))&&(s=s.substring(n,i),r=e.substring(i),e=e.substring(0,i),0<=s.indexOf("google")?o=",q,ie,start,search_key,word,kw,cd,":0<=s.indexOf("yahoo.co")&&(o=",p,ei,"),o&&a)))){if((t=a.split("&"))&&1<t.length){for(n=0;n<t.length;n++)0<(i=(s=t[n]).indexOf("="))&&0<=o.indexOf(","+s.substring(0,i)+",")?l+=(l?"&":"")+s:c+=(c?"&":"")+s;l&&c?a=l+"&"+c:c=""}t=e+(0<(i=253-(a.length-c.length)-e.length)?r.substring(0,i):"")+"?"+a}return t},e.ab=function(t){var i=e.d.visibilityState,n=["webkitvisibilitychange","visibilitychange"];if(i||(i=e.d.webkitVisibilityState),i&&"prerender"==i){if(t)for(i=0;i<n.length;i++)e.d.addEventListener(n[i],function(){var i=e.d.visibilityState;i||(i=e.d.webkitVisibilityState),"visible"==i&&t()});return!1}return!0},e.ea=!1,e.J=!1,e.mb=function(){e.J=!0,e.j()},e.ca=!1,e.V=!1,e.hb=function(t){e.marketingCloudVisitorID=t,e.V=!0,e.j()},e.fa=!1,e.W=!1,e.nb=function(t){e.visitorOptedOut=t,e.W=!0,e.j()},e.Z=!1,e.S=!1,e.Xa=function(t){e.analyticsVisitorID=t,e.S=!0,e.j()},e.ba=!1,e.U=!1,e.Za=function(t){e.audienceManagerLocationHint=t,e.U=!0,e.j()},e.aa=!1,e.T=!1,e.Ya=function(t){e.audienceManagerBlob=t,e.T=!0,e.j()},e.$a=function(t){return e.maxDelay||(e.maxDelay=250),!e.p("_d")||(t&&setTimeout(function(){t()},e.maxDelay),!1)},e.da=!1,e.I=!1,e.xa=function(){e.I=!0,e.j()},e.isReadyToTrack=function(){var t,i,n,r=!0,a=e.visitor;return e.ea||e.J||(e.ab(e.mb)?e.J=!0:e.ea=!0),!(e.ea&&!e.J)&&(a&&a.isAllowed()&&(e.ca||e.marketingCloudVisitorID||!a.getMarketingCloudVisitorID||(e.ca=!0,e.marketingCloudVisitorID=a.getMarketingCloudVisitorID([e,e.hb]),e.marketingCloudVisitorID&&(e.V=!0)),e.fa||e.visitorOptedOut||!a.isOptedOut||(e.fa=!0,e.visitorOptedOut=a.isOptedOut([e,e.nb]),e.visitorOptedOut!=s&&(e.W=!0)),e.Z||e.analyticsVisitorID||!a.getAnalyticsVisitorID||(e.Z=!0,e.analyticsVisitorID=a.getAnalyticsVisitorID([e,e.Xa]),e.analyticsVisitorID&&(e.S=!0)),e.ba||e.audienceManagerLocationHint||!a.getAudienceManagerLocationHint||(e.ba=!0,e.audienceManagerLocationHint=a.getAudienceManagerLocationHint([e,e.Za]),e.audienceManagerLocationHint&&(e.U=!0)),e.aa||e.audienceManagerBlob||!a.getAudienceManagerBlob||(e.aa=!0,e.audienceManagerBlob=a.getAudienceManagerBlob([e,e.Ya]),e.audienceManagerBlob&&(e.T=!0)),r=e.ca&&!e.V&&!e.marketingCloudVisitorID,a=e.Z&&!e.S&&!e.analyticsVisitorID,t=e.ba&&!e.U&&!e.audienceManagerLocationHint,i=e.aa&&!e.T&&!e.audienceManagerBlob,n=e.fa&&!e.W,r=!(r||a||t||i||n)),e.da||e.I||(e.$a(e.xa)?e.I=!0:e.da=!0),e.da&&!e.I&&(r=!1),r)},e.o=s,e.u=0,e.callbackWhenReadyToTrack=function(t,i,n){var r;(r={}).rb=t,r.qb=i,r.ob=n,e.o==s&&(e.o=[]),e.o.push(r),0==e.u&&(e.u=setInterval(e.j,100))},e.j=function(){var t;if(e.isReadyToTrack()&&(e.lb(),e.o!=s))for(;0<e.o.length;)(t=e.o.shift()).qb.apply(t.rb,t.ob)},e.lb=function(){e.u&&(clearInterval(e.u),e.u=0)},e.fb=function(t){var i,n,r=s,a=s;if(!e.isReadyToTrack()){if(i=[],t!=s)for(n in r={},t)r[n]=t[n];return a={},e.Va(a,!0),i.push(r),i.push(a),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.zb=function(){var t,i=e.cookieRead("s_fid"),n="",s="";t=8;var r=4;if(!i||0>i.indexOf("-")){for(i=0;16>i;i++)t=Math.floor(Math.random()*t),n+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*r),s+="0123456789ABCDEF".substring(t,t+1),t=r=16;i=n+"-"+s}return e.cookieWrite("s_fid",i,1)||(i=0),i},e.t=e.track=function(t,i){var s,r=new Date,a="s"+Math.floor(r.getTime()/108e5)%10+Math.floor(1e13*Math.random()),o=r.getYear();o="t="+e.escape(r.getDate()+"/"+r.getMonth()+"/"+(1900>o?o+1900:o)+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" "+r.getDay()+" "+r.getTimezoneOffset());e.visitor&&e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),e.p("_s"),e.fb(t)||(i&&e.R(i),t&&(s={},e.Va(s,0),e.R(t)),e.Fb()&&!e.visitorOptedOut&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.zb()),e.Jb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(r.getTime()/1e3)),r=n.location,e.pageURL||(e.pageURL=r.href?r.href:r),e.referrer||e.Wa||(r=e.Util.getQueryParam("adobe_mc_ref",null,null,!0),e.referrer=r||void 0===r?void 0===r?"":r:l.document.referrer),e.Wa=1,e.referrer=e.xb(e.referrer),e.p("_g")),e.Cb()&&!e.abort&&(e.visitor&&!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData)),e.Db(),o+=e.Bb(),e.Ib(a,o),e.p("_t"),e.referrer=""))),t&&e.R(s,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=n.s_objectID=e.pe=e.pev1=e.pev2=e.pev3=e.e=e.lightProfileID=0},e.za=[],e.registerPreTrackCallback=function(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);"function"==typeof t?e.za.push([t,i]):e.debugTracking&&e.F("DEBUG: Non function type passed to registerPreTrackCallback")},e.cb=function(t){e.wa(e.za,t)},e.ya=[],e.registerPostTrackCallback=function(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);"function"==typeof t?e.ya.push([t,i]):e.debugTracking&&e.F("DEBUG: Non function type passed to registerPostTrackCallback")},e.bb=function(t){e.wa(e.ya,t)},e.wa=function(t,n){if("object"==i(t))for(var s=0;s<t.length;s++){var r=t[s][0],a=t[s][1];if(a.unshift(n),"function"==typeof r)try{r.apply(null,a)}catch(t){e.debugTracking&&e.F(t.message)}}},e.tl=e.trackLink=function(t,i,n,s,r){return e.linkObject=t,e.linkType=i,e.linkName=n,r&&(e.l=t,e.A=r),e.track(s)},e.trackLight=function(t,i,n,s){return e.lightProfileID=t,e.lightStoreForSeconds=i,e.lightIncrementBy=n,e.track(s)},e.clearVars=function(){var t,i;for(t=0;t<e.g.length;t++)("prop"==(i=e.g[t]).substring(0,4)||"eVar"==i.substring(0,4)||"hier"==i.substring(0,4)||"list"==i.substring(0,4)||"channel"==i||"events"==i||"eventList"==i||"products"==i||"productList"==i||"purchaseID"==i||"transactionID"==i||"state"==i||"zip"==i||"campaign"==i)&&(e[i]=void 0)},e.tagContainerMarker="",e.Ib=function(t,i){var n,s=e.trackingServer;n="";var r=e.dc,a="sc.",o=e.visitorNamespace;s?e.trackingServerSecure&&e.ssl&&(s=e.trackingServerSecure):(o||(0<=(s=(o=e.account).indexOf(","))&&(o=o.substring(0,s)),o=o.replace(/[^A-Za-z0-9]/g,"")),n||(n="2o7.net"),r=r?(""+r).toLowerCase():"d1","2o7.net"==n&&("d1"==r?r="112":"d2"==r&&(r="122"),a=""),s=o+"."+r+"."+a+n),n=e.ssl?"https://":"http://",r=e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks,n+=s+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(r?"10":"1")+"/JS-"+e.version+(e.Mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(r?"callback=s_c_il["+e._in+"].doPostbacks&et=1&":"")+i+"&AQE=1",e.cb(n),e.vb(n),e.ka()},e.Ua=/{(%?)(.*?)(%?)}/,e.Qb=RegExp(e.Ua.source,"g"),e.wb=function(t){if("object"==i(t.dests))for(var n=0;n<t.dests.length;++n){var s=t.dests[n];if("string"==typeof s.c&&"aa."==s.id.substr(0,3))for(var r=s.c.match(e.Qb),a=0;a<r.length;++a){var o=r[a],l=o.match(e.Ua),c="";"%"==l[1]&&"timezone_offset"==l[2]?c=(new Date).getTimezoneOffset():"%"==l[1]&&"timestampz"==l[2]&&(c=e.Ab()),s.c=s.c.replace(o,e.escape(c))}}},e.Ab=function(){var t=new Date,i=new Date(6e4*Math.abs(t.getTimezoneOffset()));return e.k(4,t.getFullYear())+"-"+e.k(2,t.getMonth()+1)+"-"+e.k(2,t.getDate())+"T"+e.k(2,t.getHours())+":"+e.k(2,t.getMinutes())+":"+e.k(2,t.getSeconds())+(0<t.getTimezoneOffset()?"-":"+")+e.k(2,i.getUTCHours())+":"+e.k(2,i.getUTCMinutes())},e.k=function(t,e){return(Array(t+1).join(0)+e).slice(-t)},e.ta={},e.doPostbacks=function(t){if("object"==i(t))if(e.wb(t),"object"==i(e.AudienceManagement)&&"function"==typeof e.AudienceManagement.isReady&&e.AudienceManagement.isReady()&&"function"==typeof e.AudienceManagement.passData)e.AudienceManagement.passData(t);else if("object"==i(t)&&"object"==i(t.dests))for(var n=0;n<t.dests.length;++n){var s=t.dests[n];"object"==i(s)&&"string"==typeof s.c&&"string"==typeof s.id&&"aa."==s.id.substr(0,3)&&(e.ta[s.id]=new Image,e.ta[s.id].alt="",e.ta[s.id].src=s.c)}},e.vb=function(t){e.i||e.Eb(),e.i.push(t),e.ma=e.C(),e.Sa()},e.Eb=function(){e.i=e.Gb(),e.i||(e.i=[])},e.Gb=function(){var t,i;if(e.ra()){try{(i=n.localStorage.getItem(e.pa()))&&(t=n.JSON.parse(i))}catch(t){}return t}},e.ra=function(){var t=!0;return e.trackOffline&&e.offlineFilename&&n.localStorage&&n.JSON||(t=!1),t},e.Ja=function(){var t=0;return e.i&&(t=e.i.length),e.q&&t++,t},e.ka=function(){if(!e.q||(e.B&&e.B.complete&&e.B.G&&e.B.va(),!e.q))if(e.Ka=s,e.qa)e.ma>e.O&&e.Qa(e.i),e.ua(500);else{var t=e.pb();0<t?e.ua(t):(t=e.Ga())&&(e.q=1,e.Hb(t),e.Lb(t))}},e.ua=function(t){e.Ka||(t||(t=0),e.Ka=setTimeout(e.ka,t))},e.pb=function(){var t;return!e.trackOffline||0>=e.offlineThrottleDelay?0:(t=e.C()-e.Pa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.Ga=function(){if(0<e.i.length)return e.i.shift()},e.Hb=function(t){if(e.debugTracking){var i,n="AppMeasurement Debug: "+t;for(t=t.split("&"),i=0;i<t.length;i++)n+="\n\t"+e.unescape(t[i]);e.F(n)}},e.gb=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Y=!1;try{o=JSON.parse('{"x":"y"}')}catch(t){o=null}for(o&&"y"==o.x?(e.Y=!0,e.X=function(t){return JSON.parse(t)}):n.$&&n.$.parseJSON?(e.X=function(t){return n.$.parseJSON(t)},e.Y=!0):e.X=function(){return null},e.Lb=function(t){var i,r,a;if(e.gb()&&2047<t.length&&("undefined"!=typeof XMLHttpRequest&&("withCredentials"in(i=new XMLHttpRequest)?r=1:i=0),i||"undefined"==typeof XDomainRequest||(i=new XDomainRequest,r=2),i&&(e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks)&&(e.Y?i.Ba=!0:i=0)),!i&&e.Ta&&(t=t.substring(0,2047)),!i&&e.d.createElement&&(0!=e.usePostbacks||e.AudienceManagement&&e.AudienceManagement.isReady())&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((a=(a=e.d.getElementsByTagName("HEAD"))&&a[0]?a[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),r=3):i=0),i||((i=new Image).alt="",i.abort||void 0===n.InstallTrigger||(i.abort=function(){i.src=s})),i.Da=function(){try{i.G&&(clearTimeout(i.G),i.G=0)}catch(t){}},i.onload=i.va=function(){if(e.bb(t),i.Da(),e.tb(),e.ga(),e.q=0,e.ka(),i.Ba){i.Ba=!1;try{e.doPostbacks(e.X(i.responseText))}catch(t){}}},i.onabort=i.onerror=i.Ha=function(){i.Da(),(e.trackOffline||e.qa)&&e.q&&e.i.unshift(e.sb),e.q=0,e.ma>e.O&&e.Qa(e.i),e.ga(),e.ua(500)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.va():i.Ha())},e.Pa=e.C(),1==r||2==r){var o=t.indexOf("?");a=t.substring(0,o),o=(o=t.substring(o+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==r?(i.open("POST",a,!0),i.send(o)):2==r&&(i.open("POST",a),i.send(o))}else if(i.src=t,3==r){if(e.Na)try{a.removeChild(e.Na)}catch(t){}a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),e.Na=e.B}i.G=setTimeout(function(){i.G&&(i.complete?i.va():(e.trackOffline&&i.abort&&i.abort(),i.Ha()))},5e3),e.sb=t,e.B=n["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.K||e.A)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.ha=setTimeout(e.ga,e.forcedLinkTrackingTimeout))},e.tb=function(){if(e.ra()&&!(e.Oa>e.O))try{n.localStorage.removeItem(e.pa()),e.Oa=e.C()}catch(t){}},e.Qa=function(t){if(e.ra()){e.Sa();try{n.localStorage.setItem(e.pa(),n.JSON.stringify(t)),e.O=e.C()}catch(t){}}},e.Sa=function(){if(e.trackOffline)for((!e.offlineLimit||0>=e.offlineLimit)&&(e.offlineLimit=10);e.i.length>e.offlineLimit;)e.Ga()},e.forceOffline=function(){e.qa=!0},e.forceOnline=function(){e.qa=!1},e.pa=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.C=function(){return(new Date).getTime()},e.La=function(t){return 0!=(t=t.toLowerCase()).indexOf("#")&&0!=t.indexOf("about:")&&0!=t.indexOf("opera:")&&0!=t.indexOf("javascript:")},e.setTagContainer=function(t){var i,n,s;for(e.Mb=t,i=0;i<e._il.length;i++)if((n=e._il[i])&&"s_l"==n._c&&n.tagContainerName==t){if(e.R(n),n.lmq)for(i=0;i<n.lmq.length;i++)s=n.lmq[i],e.loadModule(s.n);if(n.ml)for(s in n.ml)if(e[s])for(i in t=e[s],s=n.ml[s])!Object.prototype[i]&&("function"!=typeof s[i]||0>(""+s[i]).indexOf("s_c_il"))&&(t[i]=s[i]);if(n.mmq)for(i=0;i<n.mmq.length;i++)s=n.mmq[i],e[s.m]&&((t=e[s.m])[s.f]&&"function"==typeof t[s.f]&&(s.a?t[s.f].apply(t,s.a):t[s.f].apply(t)));if(n.tq)for(i=0;i<n.tq.length;i++)e.track(n.tq[i]);n.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(t,i,s,r){var a,o="";return i||(i=e.pageURL?e.pageURL:n.location),s=s||"&",t&&i?0>(a=(i=""+i).indexOf("?"))?o:(i=s+i.substring(a+1)+s,r&&(0<=i.indexOf(s+t+s)||0<=i.indexOf(s+t+"="+s))?void 0:(0<=(a=i.indexOf("#"))&&(i=i.substr(0,a)+s),0>(a=i.indexOf(s+t+"="))?o:(0<=(a=(i=i.substring(a+s.length+t.length+1)).indexOf(s))&&(i=i.substring(0,a)),0<i.length&&(o=e.unescape(i)),o))):o},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var t=7;4<t;t--){var e=document.createElement("div");if(e.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",e.getElementsByTagName("span").length)return t}return null}},e.H="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),e.g=e.H.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),e.na="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),e.P=e.na.slice(0),e.Aa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" "),r=0;250>=r;r++)76>r&&(e.g.push("prop"+r),e.P.push("prop"+r)),e.g.push("eVar"+r),e.P.push("eVar"+r),6>r&&e.g.push("hier"+r),4>r&&e.g.push("list"+r);r="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID".split(" "),e.g=e.g.concat(r),e.H=e.H.concat(r),e.ssl=0<=n.location.protocol.toLowerCase().indexOf("https"),e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.Pa=0,e.ma=0,e.O=0,e.Oa=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=n,e.d=n.document;try{if(e.Ta=!1,navigator){var c=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=c.indexOf("MSIE ")||0<=c.indexOf("Trident/")&&0<=c.indexOf("Windows NT 6"))&&(e.Ta=!0)}}catch(t){}e.ga=function(){e.ha&&(n.clearTimeout(e.ha),e.ha=s),e.l&&e.K&&e.l.dispatchEvent(e.K),e.A&&("function"==typeof e.A?e.A():e.l&&e.l.href&&(e.d.location=e.l.href)),e.l=e.K=e.A=0},e.Ra=function(){e.b=e.d.body,e.b?(e.v=function(t){var i,s,r,a,o;if(!(e.d&&e.d.getElementById("cppXYctnr")||t&&t["s_fe_"+e._in])){if(e.Ca){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.v,!0),void(e.Ca=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.v,!1)}else e.useForcedLinkTracking=0;e.clickObject=t.srcElement?t.srcElement:t.target;try{if(!e.clickObject||e.N&&e.N==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.N=e.clickObject;if(e.la&&(clearTimeout(e.la),e.la=0),e.la=setTimeout(function(){e.N==l&&(e.N=0)},1e4),r=e.Ja(),e.track(),r<e.Ja()&&e.useForcedLinkTracking&&t.target){for(a=t.target;a&&a!=e.b&&"A"!=a.tagName.toUpperCase()&&"AREA"!=a.tagName.toUpperCase();)a=a.parentNode;if(a&&(o=a.href,e.La(o)||(o=0),s=a.target,t.target.dispatchEvent&&o&&(!s||"_self"==s||"_top"==s||"_parent"==s||n.name&&s==n.name))){try{i=e.d.createEvent("MouseEvents")}catch(t){i=new n.MouseEvent}if(i){try{i.initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}catch(t){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault(),e.l=t.target,e.K=i)}}}}}catch(t){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.v):e.b&&e.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&e.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&n.MouseEvent)&&(e.Ca=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.v,!0)),e.b.addEventListener("click",e.v,!1))):setTimeout(e.Ra,30)},e.ub(),e.Vb||(t?e.setAccount(t):e.F("Error, missing Report Suite ID in AppMeasurement initialization"),e.Ra(),e.loadModule("ActivityMap"))},AppMeasurement.getInstance=e,window.s_objectID||(window.s_objectID=0),n(),t.exports={s_gi:e,s_pgicq:n}}()},487:function(t,e,i){"use strict";t.exports=function(t){try{var e=window[t],i="acAnalyticsStorageTestItem";return e.setItem(i,"a"),e.removeItem(i),!0}catch(t){return!1}}},488:function(t,e,i){"use strict";t.exports=Object.freeze({sessionStorage:"sessionStorage"})},489:function(t,e,i){"use strict";t.exports=function(t){var e,i;return!(!t.linkObject||!(i=t.linkObject)||"A"!==i.tagName||!i.href||"#"===(e=i.getAttribute("href").trim()).charAt(0)||0===e.indexOf("javascript:")||0===e.indexOf("mailto:")||0===e.indexOf("tel:")||i.hasAttribute("data-analytics-id")||i.hasAttribute("data-analytics-intrapage-link")||i.classList.contains("ac-gn-link-search")||i.classList.contains("ac-gn-link-bag"))}},501:function(t,e,i){"use strict";var n="Error: Expected parameter is missing or has the wrong type",s={trailing:!0,leading:!1};t.exports=function(t,e,i){if("number"!=typeof e||"function"!=typeof t)throw new TypeError(n);if("boolean"!=typeof(i=Object.assign({},s,i)).trailing||"boolean"!=typeof i.leading)throw new TypeError(n);i.trailing||i.leading||(i.trailing=!0);var r=null,a=0;function o(){i.leading&&i.trailing&&a++;var n=arguments;null===r&&i.leading&&t.apply(this,n);var s=function(){r=null,i.leading?a>1&&i.trailing&&(t.apply(this,n),a=0):t.apply(this,n)}.bind(this);clearTimeout(r),r=setTimeout(s,e)}return o.cancel=function(){clearTimeout(r)},o}},502:function(t,e,i){"use strict";var n=i(140),s=i(277),r=i(288),a=i(434),o=i(88)(),l=i(1110),c=i(1113),h=i(1115),u=i(1116),d=function(t){this._initialize(t)},p=d.prototype;p._initialize=function(t){this.el=t.element||document.createElement("div"),this._basePath=t.basePath,this.el.style.display="none",this._template=t.template||'<div class="controls-container" >\n\n\t<div class="{elementClassPrefix}-social-tray hidden"></div>\n\n\t<div class="center-button-container {elementClassPrefix}-play-pause-button-container">\n\t\t<div class="button-wrapper">\n\t\t\t<button type="button" class="ac-video-icon centered-button {elementClassPrefix}-play-pause-button {elementClassPrefix}-button no-autoplay" value="{playpause}" aria-label="{playpause}" role="button" tabindex="0" data-acv-active-area data-acv-draggable-area></button>\n\t\t</div>\n\t</div>\n\n\t<div class="main-controls-container">\n\t\t<div class="ac-video-overlay-container"></div>\n\t\t<div class="main-controls">\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<div class="main-controls-item controls-volume">\n\t\t\t\t\t<button type="button" class="ac-video-icon {elementClassPrefix}-toggle-mute-volume-button {elementClassPrefix}-button" value="{togglemutevolume}" aria-label="{togglemutevolume}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t\t\t<div class="{elementClassPrefix}-volume-level-indicator" tabindex="0" aria-valuemin="0" aria-valuemax="100" min="0" max="100" aria-label="{adjustvolume}" role="slider" aria-orientation="vertical" step="0.05" data-acv-active-area></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-text-tracks-toggle-button {elementClassPrefix}-button no-text-tracks" value="{captionscontrol}" aria-label="{captionscontrol}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t\t<div class="ac-video-captions-selector-container">\n\t\t\t\t\t<span class="ac-video-captions-selector-title">{subtitlescontrol}</span>\n\t\t\t\t\t<ul class="{elementClassPrefix}-captions-selector" role="radiogroup" aria-label="{subtitlescontrol}" data-acv-active-area></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="main-controls-item controls-progress">\n\t\t\t\t<div class="controls-progress-time controls-progress-time-1">\n\t\t\t\t\t<div class="{elementClassPrefix}-elapsed-time-indicator" role="text" tabindex="-1">\n\t\t\t\t\t\t<span class="label">{elapsed}</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-elapsed-time">00:00</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-time-maxwidth" aria-hidden="true">44:44</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="controls-progress-bar">\n\t\t\t\t\t<div class="{elementClassPrefix}-buffered-indicator"></div>\n\t\t\t\t\t<div class="{elementClassPrefix}-progress-indicator ac-slider-inactive" aria-label="progress-indicator" role="slider" precision="float" min="0" max="{max}" step="0.0005" value="0" tabindex="0" aria-valuemax="{max}" aria-valuemin="{min}" aria-valuenow="{value}" data-acv-active-area></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="controls-progress-time controls-progress-time-2">\n\t\t\t\t\t<div class="{elementClassPrefix}-remaining-time-indicator" role="text" tabindex="-1">\n\t\t\t\t\t\t<span class="label">{remaining}</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-remaining-time">-00:00</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-time-maxwidth" aria-hidden="true">-44:44</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="main-controls-item live-stream">\n\t\t\t\t<span class="live-stream-text">{livestream}</span>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-airplay-button {elementClassPrefix}-button airplay-unsupported" value="{airplay}" aria-label="{airplay}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-picture-in-picture-button {elementClassPrefix}-button picture-in-picture-unsupported" value="{pictureinpicture}" aria-label="{pictureinpicture}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-full-screen-button {elementClassPrefix}-button fullscreen-unsupported" value="{fullscreen}" aria-label="{fullscreen}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="end-state-wrapper">\n\t\t<div class="end-state-container"></div>\n\t</div>\n</div>\n\n<div class="compass-wrapper" data-acv-active-area>\n\t<div class="compass-background ac-video-icon"></div>\n\t<div class="compass-arrows">\n\t\t<button class="compass-arrow-top ac-video-icon" aria-label="{threesixtyup}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-right ac-video-icon" aria-label="{threesixtyright}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-bottom ac-video-icon" aria-label="{threesixtydown}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-left ac-video-icon" aria-label="{threesixtyleft}" role="button" tabindex="0"></button>\n\t</div>\n\t<div class="compass-field ac-video-icon"></div>\n\t<div class="compass-ring ac-video-icon"></div>\n\t<button class="compass" aria-label="{threesixtyicon}" role="button" tabindex="0"></button>\n</div>\n',this._templateData=t.templateData||Object.assign({elementClassPrefix:"controls"}),this._destroyed=!1,this._localize().then(function(){this._destroyed||(this._initUIComponents(t),this.el.style.display=""),"function"==typeof t.readyCallback&&t.readyCallback()}.bind(this))},p._localize=function(){return new Promise(function(t){r.getTranslation({callback:function(e){t(e)}.bind(this),basePath:this._basePath})}.bind(this)).then(function(t){this._templateData=Object.assign(this._templateData,t)}.bind(this))},p._renderTemplateMarkup=function(){var t=n(this._template,this._templateData);this.el.innerHTML=t},p._initDesktopControls=function(t,e){this._componentCollection=a(t,u(e,{elementClassPrefix:this._templateData.elementClassPrefix,elapsedTimeIndicator:{behavior:{observe:{source:this._player,events:["timeupdate","seeking","seeked","durationchange"],update:function(t){t.setText(s.formatTime(this._player.getCurrentTime(),this._player.getDuration()))}.bind(this)}}},remainingTimeIndicator:{behavior:{observe:{source:this._player,events:["timeupdate","seeking","seeked","durationchange"],update:function(t){t.setText(s.formatTime(this._player.getCurrentTime()-this._player.getDuration(),this._player.getDuration()))}.bind(this)}}},volumeLevel:{view:{options:{value:this._player.getMuted()?0:100*this._player.getVolume()}}},playPauseContainer:{view:{options:{labels:{playing:this._templateData.pause,paused:this._templateData.play,ended:this._templateData.replay}}}},fullScreen:{view:{options:{labels:{initial:this._templateData.fullscreen,on:this._templateData.exitfullscreen,off:this._templateData.fullscreen}}}},pictureInPictureToggle:{view:{options:{labels:{initial:this._templateData.pictureinpicture,on:this._templateData.exitpictureinpicture,off:this._templateData.pictureinpicture}}}}}),{player:this._player,localization:this._templateData})},p._initUIComponents=function(t){this._player=t.player;var e=this.el,i=t.components;e.classList.add(t.className||"ac-video-controls"),this._renderTemplateMarkup();var n=e.querySelector(".main-controls-container");t.enableMainControls?(n.classList.add("control-bar-skin-default"),this.mainControlsElement=n):n.parentElement.removeChild(n);var s=e.querySelector(".end-state-container");this.endState=new c(Object.assign({},{el:s,player:this._player},t.endState)),t.threesixty&&(this.compass=new h({rootElement:e,player:this._player})),this._initDesktopControls(e,i),this.sharingModule=this._componentCollection.components.socialShare[0].behavior.sharingModule,this._componentCollection.components.progressBar.length&&(this.scrubberView=this._componentCollection.components.progressBar[0].view),this.playButtonElement=this.el.querySelector(".controls-play-pause-button"),o&&(this.overlays=new l({el:this.el.querySelector(".ac-video-overlay-container"),player:this._player}))},p.destroy=function(){this._componentCollection&&(this._componentCollection.destroy(),this._componentCollection=null),this._destroyed=!0,this._player=null,this._templateData=null},t.exports=d},503:function(t,e,i){"use strict";t.exports=i(1118)},504:function(t,e,i){"use strict";t.exports=[{width:528,height:244,type:"baseline-high",suffix:"h"},{width:528,height:244,type:"small",suffix:"h"},{width:528,height:244,type:"baseline-low",suffix:"l"},{width:528,height:244,type:"baseline-medium",suffix:"m"},{width:812,height:375,type:"medium",suffix:"h"},{width:1082,height:500,type:"large",suffix:""},{width:1218,height:563,type:"large",suffix:""},{width:1624,height:750,type:"large",suffix:"h"},{width:1624,height:750,type:"large",suffix:"l"},{width:2436,height:1126,type:"large",suffix:"l"},{width:2436,height:1126,type:"large",suffix:"h"}]},539:function(t,e,i){"use strict";t.exports={Transform:i(1196)}},561:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(157),h=i(81),u=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=r(this,o(e).call(this,t,i))).keyframeType=h.KeyframeTypes.Event,n.isApplied=!1,n.hasDuration=!1,n.isCurrentlyInRange=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,c),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"parseOptions",value:function(t){t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.style=void 0,t.cssClass=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0===t.end&&(t.end=t.start),this.event=t.event,this.animValues[this.event]=[0,0],void 0===this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new h.TargetValue(0,1,!1)),a(o(e.prototype),"parseOptions",this).call(this,t),this.keyframeType=h.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(t){if(this.hasDuration){var e=this.isCurrentlyInRange,i=t>=this.start&&t<=this.end;if(e===i)return;return i&&!e?this._trigger(this.event+":enter"):e&&!i&&this._trigger(this.event+":exit"),void(this.isCurrentlyInRange=i)}!this.isApplied&&t>=this.start?(this._trigger(this.event),this.isApplied=!0):this.isApplied&&t<this.start&&(this._trigger(this.event+":reverse"),this.isApplied=!1)}},{key:"_trigger",value:function(t){this.controller.eventObject.event=t,this.controller.eventObject.keyframe=this,this.controller.trigger(t,this.controller.eventObject)}},{key:"updateAnimationConstraints",value:function(){a(o(e.prototype),"updateAnimationConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(t){this.isApplied=!1,this.isCurrentlyInRange=!1,a(o(e.prototype),"reset",this).call(this,t)}},{key:"onDOMRead",value:function(t,e){}},{key:"reconcile",value:function(t,e){}},{key:"updateAnimatedValueConstraints",value:function(){}}]),e}();u.DATA_ATTRIBUTE="data-anim-event",t.exports=u},562:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=i(8).EventEmitterMicro,h=i(327),u=i(218),d=i(81),p=i(1228),f=i(1229),m=i(1231),_=i(1232),v={create:i(220),update:i(329),draw:i(330)},g=function(t){function e(t,i){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}(this,a(e).call(this))).anim=i,s.element=t,s.name=s.name||t.getAttribute("data-anim-scroll-group"),s.isEnabled=!0,s.timelines=new d.Timeline,s.metrics=new p,s.metrics.add(s.element),s.expressionParser=new f(l(l(s))),s.timeParser=new m(l(l(s))),s.boundsMin=0,s.boundsMax=0,s.lastPosition=0,s.timelineUpdateRequired=!1,s._keyframesDirty=!1,s.viewableRange=s.createViewableRange(),s.keyframeControllers=[],s.updateProgress(s.getPosition()),s.onDOMRead=s.onDOMRead.bind(l(l(s))),s.onDOMWrite=s.onDOMWrite.bind(l(l(s))),s.gui=null,s.finalizeInit(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,c),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"finalizeInit",value:function(){this.element._animInfo=new d.AnimInfo(this,null,!0),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.expressionParser.destroy(),this.expressionParser=null,this.timeParser.destroy(),this.timeParser=null;for(var t=0,i=this.keyframeControllers.length;t<i;t++)this.keyframeControllers[t].destroy();this.timelines=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,r(a(e.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(t){var e=this;if(this.keyframeControllers.includes(t)){var i=t._allKeyframes;t._allKeyframes=[],this.keyframesDirty=!0,v.draw(function(){var n=e.keyframeControllers.indexOf(t);-1!==n&&(e.keyframeControllers.splice(n,1),t.onDOMWrite(),i.forEach(function(t){return t.destroy()}),t.destroy(),e.gui&&e.gui.create())},!0)}}},{key:"remove",value:function(){this.anim.removeGroup(this)}},{key:"setupRAFEmitter",value:function(t){this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=t||new v.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite)}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMRead(this.timelines)}},{key:"onDOMWrite",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMWrite(this.timelines);this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var t=0,e=this.keyframeControllers.length;t<e;t++)if(this.keyframeControllers[t].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(t,e){var i=this.anim.getControllerForTarget(t);return null===i&&(i=new _(this,t),this.keyframeControllers.push(i)),this.keyframesDirty=!0,i.addKeyframe(e)}},{key:"forceUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.recalculateActiveKeyframes,i=void 0!==e&&e,n=t.waitForNextUpdate,s=void 0===n||n;this.isEnabled&&(i&&this.determineActiveKeyframes(null),this.refreshActiveMetrics(),this.viewableRange=this.createViewableRange(),this.hasDuration()&&(this.timelineUpdateRequired=!0,s?this.keyframesDirty=!0:this.onKeyframesDirty()))}},{key:"onKeyframesDirty",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preventOnScroll,e=void 0!==t&&t;this.determineActiveKeyframes(),this.keyframesDirty=!1;for(var i=0,n=this.keyframeControllers.length;i<n;i++)this.keyframeControllers[i].updateAnimationConstraints();this.updateProgress(this.getPosition()),this.updateBounds(),e||this._onScroll(),this.gui&&this.gui.create()}},{key:"refreshActiveMetrics",value:function(){var t=new Set;t.add(this.element),this.keyframeControllers.forEach(function(e){t.add(e.element),e._activeKeyframes.forEach(function(e){return t.add(e.relativeTo)})}),this.metrics.refreshCollection(t)}},{key:"reconcile",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].reconcile()}},{key:"determineActiveKeyframes",value:function(t){t=t||u(Array.from(document.documentElement.classList));for(var e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].determineActiveKeyframes(t)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,i=this.keyframeControllers.length;e<i;e++)this.keyframeControllers[e].getBounds(t);var n=this.convertTValueToScrollPosition(t.min),s=this.convertTValueToScrollPosition(t.max);s-n<d.pageMetrics.windowHeight?(t.min=this.convertScrollPositionToTValue(n-.5*d.pageMetrics.windowHeight),t.max=this.convertScrollPositionToTValue(s+.5*d.pageMetrics.windowHeight)):(t.min-=.001,t.max+=.001),this.boundsMin=t.min,this.boundsMax=t.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new d.ViewableRange(this.metrics.get(this.element),d.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(t,e){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(t){this.hasDuration()?this.timelines.localUnclamped=(t-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a):this.timelines.local=this.timelines.localUnclamped=0}},{key:"performTimelineDispatch",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].updateLocalProgress(this.timelines.local);this.trigger(d.EVENTS.ON_TIMELINE_UPDATE,this.timelines.local),this.timelineUpdateRequired=!1,this.lastPosition!==this.timelines.local&&(this.lastPosition<=this.boundsMin&&this.timelines.localUnclamped>this.boundsMin?this.trigger(d.EVENTS.ON_TIMELINE_START,this):this.lastPosition>=this.boundsMin&&this.timelines.localUnclamped<this.boundsMin?this.trigger(d.EVENTS.ON_TIMELINE_START+":reverse",this):this.lastPosition<=this.boundsMax&&this.timelines.localUnclamped>=this.boundsMax?this.trigger(d.EVENTS.ON_TIMELINE_COMPLETE,this):this.lastPosition>=this.boundsMax&&this.timelines.localUnclamped<this.boundsMax&&this.trigger(d.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this)),null!==this.gui&&this.gui.onScrollUpdate(this.timelines)}},{key:"_onScroll",value:function(t){if(!this.isEnabled)return!1;void 0===t&&(t=this.getPosition()),this.updateProgress(t);var e=this.lastPosition===this.boundsMin||this.lastPosition===this.boundsMax,i=this.timelines.localUnclamped===this.boundsMin||this.timelines.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&e&&i)this.timelines.local=this.timelines.localUnclamped;else{if(this.timelineUpdateRequired||this.timelines.localUnclamped>this.boundsMin&&this.timelines.localUnclamped<this.boundsMax)return this.timelines.local=h.clamp(this.timelines.localUnclamped,this.boundsMin,this.boundsMax),this.performTimelineDispatch(),this.requestDOMChange(),void(this.lastPosition=this.timelines.localUnclamped);var n=this.lastPosition>this.boundsMin&&this.lastPosition<this.boundsMax,s=this.timelines.localUnclamped<=this.boundsMin||this.timelines.localUnclamped>=this.boundsMax;if(n&&s)return this.timelines.local=h.clamp(this.timelines.localUnclamped,this.boundsMin,this.boundsMax),this.performTimelineDispatch(),this.requestDOMChange(),void(this.lastPosition=this.timelines.localUnclamped);null!==this.gui&&this.gui.onScrollUpdate(this.timelines)}}},{key:"convertScrollPositionToTValue",value:function(t){return this.hasDuration()?h.map(t,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(t){return this.hasDuration()?h.map(t,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return d.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(t){return this.anim.getControllerForTarget(t)}},{key:"trigger",value:function(t,e){if(void 0!==this._events[t])for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()}},{key:"keyframesDirty",set:function(t){this._keyframesDirty=t,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}},{key:"keyFrames",get:function(){return this.viewableRange}}]),e}();t.exports=g},563:function(t,e,i){"use strict";function n(){this._events={}}var s=n.prototype;s.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},s.once=function(t,e){var i=this;this.on(t,function n(s){i.off(t,n),void 0!==s?e(s):e()})},s.off=function(t,e){if(this.has(t)){if(1===arguments.length)return this._events[t]=null,void delete this._events[t];var i=this._events[t].indexOf(e);-1!==i&&this._events[t].splice(i,1)}},s.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},s.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},s.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=n},564:function(t,e,i){"use strict";t.exports={SharedInstance:i(1240)}},565:function(t,e){t.exports={majorVersionNumber:"3.x"}},566:function(t,e,i){"use strict";var n=i(219);t.exports=n.requestAnimationFrame("external")},578:function(t,e){t.exports={majorVersionNumber:"3.x"}},65:function(t,e,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(860)(n)},81:function(t,e,i){"use strict";var n={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"GuiPosition-0"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",longName:"small",mediaQuery:"only screen and (max-width: 735px)"},{name:"M",longName:"medium",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",longName:"xlarge",mediaQuery:"only screen and (min-width: 1442px)"},{name:"L",longName:"large",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var t=0;t<n.BREAKPOINTS.length;t++){var e=n.BREAKPOINTS[t];if(window.matchMedia(e.mediaQuery).matches)return e.name}},KeyframeDefaults:{ease:.1,epsilon:.05,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","relativeTo","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TargetValue:function(t,e,i){this.epsilon=parseFloat(e),this.snapAtCreation=i,this.initialValue=t,this.target=t,this.current=t},Timeline:function(){this.local=0,this.localUnclamped=0},ViewableRange:function(t,e){this.a=t.top-e,this.a<0&&(this.a=t.top),this.b=t.top,this.d=t.bottom,this.c=Math.max(this.d-e,this.b)},pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},EventObject:function(t){this.controller=t,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps},KeyframeComparison:function(t,e){return t.start<e.start?-1:t.start>e.start?1:0},AnimInfo:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isGroup=i,this.group=t,this.controller=e}};t.exports=n},858:function(t,e,i){"use strict";var n=i(274);n.create=i(464),t.exports={Player:n,VERSION:i(463)}},859:function(t,e,i){"use strict";var n=i(65),s=n.browser.safari||n.browser.edge,r="MediaSource"in window,a=function(){};a.prototype.create=function(t,e){return t.hls&&!s&&r?new(i(863))(Object.assign({},t,{parentElement:e})):t.threesixty?new(i(877))(Object.assign({},t,{parentElement:e})):new(i(275))(Object.assign({},t,{parentElement:e}))},t.exports=Object.create(a.prototype)},860:function(t,e,i){"use strict";var n=i(861),s=i(862);function r(t){return new RegExp(t+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function a(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var n,s=i.length,a=0;a<s;a++)if((n=e.match(r(i[a])))&&n.length>1)return n[1].replace(/_/g,".");return!1}function o(t,e,i){for(var n,s,r=t.length,o=0;o<r;o++)if("function"==typeof t[o].test?!0===t[o].test(i)&&(n=t[o].name):i.ua.indexOf(t[o].userAgent)>-1&&(n=t[o].name),n){if(e[n]=!0,"string"==typeof(s=a(t[o],i.ua))){var l=s.split(".");e.version.string=s,l&&l.length>0&&(e.version.major=parseInt(l[0]||0),e.version.minor=parseInt(l[1]||0),e.version.patch=parseInt(l[2]||0))}else"edge"===n&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[o].parseDocumentMode&&(e.version.documentMode=t[o].parseDocumentMode()),e}return e}t.exports=function(t){var e={};return e.browser=o(s.browser,n.browser,t),e.os=o(s.os,n.os,t),e}},861:function(t,e,i){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},862:function(t,e,i){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return(t.ua.indexOf("Linux")>-1||t.platform.indexOf("Linux")>-1)&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(t){return t.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},863:function(t,e,i){"use strict";var n=window.Hls,s=i(275),r=function(t){this._src=null,s.apply(this,arguments),this._initialize(t)},a=s.prototype,o=r.prototype=Object.create(a);o._initialize=function(t){if(void 0===window.Hls)throw new Error("Hls.js should be included on the page in a script tag");this._hls=new n({debug:t.debugHls,enableWorker:!0,enableStreaming:!0,autoRecoverError:!0,enablePerformanceLogging:t.enablePerformanceLogging||!1})},o.load=function(t,e){this._videoElement.innerHTML="",this._videoElement.removeAttribute("src");var i=function(){this._hls.off(n.Events.MEDIA_ATTACHED,i),this.setSrc(t[0]),this._createTextTrackTags(e)}.bind(this);this._hls.on(n.Events.MEDIA_ATTACHED,i),this._hls.attachMedia(this._videoElement)},o.setSrc=function(t){this._src=t,this._hls.loadSource(t),this._hls.on(n.Events.MANIFEST_PARSED,this._boundManifestParsed=function(){this._hls.off(n.Events.MANIFEST_PARSED,this._boundManifestParsed),this.play()}.bind(this))},o.getCurrentSrc=function(){return this._src},o.destroy=function(){a.destroy.apply(this,arguments),this._hls&&(this._hls.destroy(),this._hls=null)},t.exports=r},864:function(t,e,i){"use strict";var n=i(65),s=!n.browser.ie&&!n.browser.edge;t.exports=function(t){var e;return e=!!(t=t||{}).hls||!t.threesixty&&(void 0===t.useNativeCaptions?s:t.useNativeCaptions),i(e?865:866)}},865:function(t,e,i){"use strict";var n,s=i(65);n=s.browser.safari?function(t,e){t.track.mode=e}:function(t,e){t.mode=e};var r=function(t){var e;if(t instanceof HTMLElement)return this._videoElement.appendChild(t);var i=document.createElement("track");i.src=t.src,i.kind="captions",i.srclang=t.srclang,"en"===i.srclang?i.label=t.label||"English":i.label=t.label||t.srclang&&t.srclang.toUpperCase()||"Unknown CC",s.browser.firefox?(e=this._videoElement.textTracks.length,setTimeout(function(){this._videoElement.appendChild(i),n(this._videoElement.textTracks[e],t.mode||"hidden")}.bind(this),0)):s.os.android?(e=this._videoElement.textTracks.length,this._videoElement.appendChild(i),n(this._videoElement.textTracks[e],t.mode||"hidden")):(this._videoElement.appendChild(i),n(i,t.mode||"hidden"))};t.exports={create:function(t){for(var e=0,i=t?t.length:0;e<i;e++){var n=t[e];r.call(this,n)}},add:r,get:function(){return this._videoElement.textTracks},getEmitter:function(){if(!this._textTracksEmitter){var t=i(139);this._textTracksEmitter=new t(this.getTextTracks())}return this._textTracksEmitter},destroy:function(){}}},866:function(t,e,i){"use strict";var n=i(867);t.exports={create:function(t){if(t)if(this._textTracksPolyfill){this._textTracksPolyfill.clearTracks();for(var e=0,i=t.length;e<i;e++)this._textTracksPolyfill.addTrack(t[e])}else this._textTracksPolyfill=new n({video:this,tracks:t,container:this._parentElement})},add:function(t){return this._textTracksPolyfill.addTrack(t)},get:function(){return this._textTracksPolyfill||this._createTextTrackTags([]),this._textTracksPolyfill.getTextTracks()},getEmitter:function(){return this._textTracksPolyfill||this._createTextTrackTags([]),this._textTracksPolyfill},destroy:function(){this._textTracksPolyfill.destroy(),this._textTracksPolyfill=null}}},867:function(t,e,i){"use strict";var n=i(434),s=i(870),r=i(438),a=i(8).EventEmitterMicro,o={textTracksPolyfill:{className:"ac-video-player-text-track",view:{classDef:r,options:{}},behavior:{classDef:s}}},l=function(t){a.call(this),this.container=t.container,this._video=t.video,this._initialize(t)},c=l.prototype=Object.create(a.prototype);c._initialize=function(t){this._onTrackChange=this._onTrackChange.bind(this),this.el=document.createElement("div"),this.el.innerHTML=t.template||'<div class="ac-video-player-text-track"></div>',this.el.classList.add("ac-video-player-text-track-container"),this._tracks=t.tracks||[],this._textTrackComponent=n(this.el,o,{video:this._video})},c._onTrackChange=function(){this.trigger("change"),this.el.parentElement||(this._video.getRenderElement().parentElement.appendChild(this.el),this.el.firstElementChild.classList.add("is-visible"))},c.addTrack=function(t){this._tracks||(this._tracks=[]);var e=t.mode||"hidden",i=this._onTrackChange;Object.defineProperty(t,"mode",{get:function(){return e},set:function(t){e=t,i()},enumerable:!0,configurable:!0}),this._tracks.push(t),this.trigger("addtrack")},c.clearTracks=function(){this._tracks=[],this.trigger("removetrack"),this.trigger("change")},c.getTextTracks=function(){return this._tracks},c.trigger=function(t,e){return a.prototype.trigger.call(this,t,Object.assign({type:t},e||{}))},c.destroy=function(){this._textTrackComponent.destroy(),a.prototype.destroy.call(this)},t.exports=l},868:function(t,e,i){"use strict";t.exports=function(t,e){return new e.classDef(t,e.options)}},869:function(t,e,i){"use strict";var n=function(t,e,i){return function(n){t[e](n,i)}};t.exports=function(t,e,i){return e.classDef?function(t,e,i){return new e.classDef(t,Object.assign(e.options||{},i||{}))}(t,e,i):function(t,e){var i=e.handlers||{},s={};for(var r in i)i.hasOwnProperty(r)&&t.on(r,s[r]=n(i,r,t));var a,o=e.observe;if(o){for(var l=o.update,c=o.source,h=c.on.bind(c)||c.addEventListener,u=c.off.bind(c)||c.removeEventListener,d=o.events,p=0,f=d.length,m=function(){l.call(o,t)};p<f;p++)h(r=d[p],m);a=function(){for(p=0;p<f;p++)r=d[p],u(r,m)}}return{destroy:function(){for(var e in s)s.hasOwnProperty(e)&&t.off(e,s[e]);a&&a()}}}(t,e)}},870:function(t,e,i){"use strict";var n=i(435),s=i(276),r=i(875),a=function(t,e){this._view=t,this._video=e.video,this._refreshTracks=this._refreshTracks.bind(this),this._throttledRefreshCurrentCaption=s(this._refreshCurrentCaption.bind(this),300),this._addTrackListeners()},o=a.prototype;o._addTrackListeners=function(){this._video.on("addtrack",this._refreshTracks),this._video.on("removetrack",this._refreshTracks),this._video.on("change",this._refreshTracks)},o._addVideoListeners=function(t){if(!t.cues){this._view.setText("");try{return n.get(t.src,{complete:function(e){t.cues=r(e.responseText),this._addVideoListeners(t),this._refreshCurrentCaption()}.bind(this),error:function(t){}.bind(this)})}catch(t){}}this._video.on("loadstart",this._refreshTracks),this._video.on("timeupdate",this._throttledRefreshCurrentCaption)},o._removeVideoListeners=function(){this._video.off("loadstart",this._refreshTracks),this._video.off("timeupdate",this._throttledRefreshCurrentCaption)},o._refreshTracks=function(){var t=this._video.getTextTracks();t&&t.length&&(t=t.filter(function(t){return"showing"===t.mode})),t.length?(this._activeTrack=t[0],this._addVideoListeners(this._activeTrack)):(this._activeTrack=null,this._removeVideoListeners()),this._refreshCurrentCaption()},o._getCurrentCaptionText=function(t){var e=this._activeTrack?this._activeTrack.cues:null;if(!e)return"";if(this._currentCaption&&this._currentCaption.startTime>=t&&this._currentCaption<=t)return this._currentCaption.text;for(var i,n=0,s=e.length;n<s;){if(e[n].startTime<=t&&e[n].endTime>=t)i=e[n];else if(e[n].startTime>=t)break;n++}return this._currentCaption=i,i?i.text:""},o._refreshCurrentCaption=function(){this._view.setText(this._getCurrentCaptionText(this._video.getCurrentTime()))},o.destroy=function(){this._removeVideoListeners()},t.exports=a},874:function(t,e,i){"use strict";t.exports=function(t,e){var i="";if(t){var n=Object.keys(t),s=n.length-1;n.forEach(function(e,n){var r=t[e],a=(e=e.trim())+(r=null===(r=r&&"string"==typeof r?r.trim():r)?"":"="+r)+(n===s?"":"&");i=i?i.concat(a):a})}return i&&!1!==e?"?"+i:i}},875:function(t,e,i){"use strict";var n=i(277);t.exports=function(t){for(var e,i,s=t.split(/\n/),r=/([\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3}( \-\-> ){1}([\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3}/,a=[],o=0,l=s.length;o<l;o++)if(i="",r.test(s[o])){for((e=s[o].split(" --\x3e "))[0]=e[0].split(":").length<3?"00:"+e[0]:e[0],e[1]=e[1].split(":").length<3?"00:"+e[1]:e[1];++o&&o<l&&!r.test(s[o]);)""!==s[o]&&(i+=s[o]+"<br />");i=i.substr(0,i.length-6),o<l&&o--,a.push({startTime:n.stringToNumber(e[0].split(" ")[0]),endTime:n.stringToNumber(e[1].split(" ")[0]),text:i})}return a}},877:function(t,e,i){"use strict";var n=i(275),s=i(439),r=function(t){n.call(this,t),this._renderElement=document.createElement("div"),this._renderElement.classList.add("threesixty-video-container"),this._videoElement.style.visibility="hidden",this._videoElement.style.opacity=0,this._renderElement.appendChild(this._videoElement),this._ac360=new s({el:this._renderElement,src:this.getMediaElement()}),this.sendMouseDown=this.sendMouseDown.bind(this)},a=n.prototype,o=r.prototype=Object.create(a);o.load=function(){this._ac360.setPos(0,0),a.load.apply(this,arguments)},o.play=function(){this.getEnded()&&this._ac360.setPos(0,0),a.play.apply(this,arguments)},o.sendMouseDown=function(t){this._ac360.sendMouseDown(t)},o.getRenderElement=function(){return this._renderElement},o.get360=function(){return this._ac360},o.setControls=function(t){a.setControls.call(this,!1)},o.supportsPictureInPicture=function(){return!1},o.supportsAirPlay=function(){return!1},o.refreshSize=function(){this._ac360.refreshSize()},t.exports=r},890:function(t,e,i){"use strict";var n=i(891),s=i(892);function r(t){return new RegExp(t+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function a(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var n,s=i.length,a=0;a<s;a++)if((n=e.match(r(i[a])))&&n.length>1)return n[1].replace(/_/g,".")}function o(t,e,i){for(var n,s,r=t.length,o=0;o<r;o++)if("function"==typeof t[o].test?!0===t[o].test(i)&&(n=t[o].name):i.ua.indexOf(t[o].userAgent)>-1&&(n=t[o].name),n){if(e[n]=!0,"string"==typeof(s=a(t[o],i.ua))){var l=s.split(".");e.version.name=s,l&&l.length>0&&(e.version.major=parseInt(l[0]||0),e.version.minor=parseInt(l[1]||0),e.version.patch=parseInt(l[2]||0))}else"edge"===n&&(e.version.name="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[o].parseDocumentMode&&(e.version.documentMode=t[o].parseDocumentMode()),e}return e}t.exports=function(t){var e={};return e.browser=o(s.browser,n.browser,t),e.os=o(s.os,n.os,t),e}},891:function(t,e,i){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{name:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{name:"",major:0,minor:0,patch:0}}}},892:function(t,e,i){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.platform.indexOf("Win")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.platform.indexOf("Mac")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return t.platform.indexOf("Linux")>-1&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android"},{name:"chromeos",userAgent:"CrOS"}]}},905:function(t,e,i){"use strict";var n=i(906),s="/ac/ac-video-posterframe/1.0/images/ac-video-poster_848x480.jpg",r="/ac/ac-video-posterframe/1.0/images/ac-video-poster_848x480_2x.jpg";t.exports=function(t){if(t.src=t.src||(t.is2x?r:s),t.useNativePoster){t.video.setPoster(t.src);var e,i=!1;return{show:function(){i=!0,e&&(t.video.setPoster(e),e=null)},hide:function(){i=!1},setSrc:function(n){i?t.video.setPoster(n):e=n}}}return new n(t)}},906:function(t,e,i){"use strict";var n=function(t){this._defaultSrc=t.src,this._initialize(t)},s=n.prototype;s._initialize=function(t){var e=t.src;this.el=t.el||document.createElement("div"),this._imgElement=document.createElement("img"),this._imgElement.src=e,this._currentSrc=e,this._imgElement.alt="",this._imgElement.addEventListener("load",this._onLoad.bind(this)),this.el.appendChild(this._imgElement),this.hide(),this.el.classList.add("ac-video-poster")},s.hide=function(){this.el.classList.add("ac-video-poster-hide")},s.show=function(){this.el.classList.remove("ac-video-poster-hide")},s.setSrc=function(t){var e=t||this._defaultSrc;e!==this._currentSrc&&(this._imgElement.style.display="none",this._imgElement.src=e,this._currentSrc=e)},s._onLoad=function(){this._imgElement.style.display=""},s.getSrc=function(){return this._imgElement.src},t.exports=n},916:function(t,e,i){"use strict";t.exports=[{name:"small",minWidth:0,maxWidth:479},{name:"medium",minWidth:480,maxWidth:779},{name:"large",minWidth:780,maxWidth:1/0}]},917:function(t,e,i){"use strict";t.exports=["loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","ended","ratechange","durationchange","volumechange","addtrack","change","removetrack"]},918:function(t,e,i){"use strict";t.exports=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","waiting","canplay","canplaythrough"]},919:function(t,e,i){"use strict";var n=i(8).EventEmitterMicro,s=function(t){n.call(this),this.el=t.el||document.body,this.breakpoints=t.breakpoints.sort(function(t,e){return t.minWidth-e.minWidth}),this._player=t.player,this._breakPointsLength=this.breakpoints.length,this._addClasses=t.addClass,this._addEventListeners(),this._onResize()},r=n.prototype,a=s.prototype=Object.create(r);a.constructor=s,a._addEventListeners=function(){var t=this;this._boundOnResize=function(){t._onResize.apply(t,arguments)},window.addEventListener("resize",this._boundOnResize),window.addEventListener("orientationchange",this._boundOnResize),window.addEventListener("DOMContentLoaded",this._boundOnResize)},a._removeEventListeners=function(){window.removeEventListener("resize",this._boundOnResize),window.removeEventListener("orientationchange",this._boundOnResize),window.addEventListener("DOMContentLoaded",this._boundOnResize)},a._onResize=function(t){var e=this.el.clientWidth,i=this._currentBreakpoint;if(!1!==t&&this._player.refreshSize(),!i||!s.widthInBreakpoint(e,i)){var n=s.getBreakpointFromWidth(e,this.breakpoints,i,this._breakPointsLength);this._addClasses&&(this._currentBreakpoint&&this.el.classList.remove(i.name),this.el.classList.add(n.name)),this._currentBreakpoint=n,this.trigger("breakpointchange",n)}},a.getCurrentBreakpoint=function(){return this._currentBreakpoint},a.refresh=function(){this._onResize(!1)},a.destroy=function(){this._removeEventListeners(),r.destroy.call(this)},s.getBreakpointFromElement=function(t,e){return s.getBreakpointFromWidth(t.clientWidth,e)},s.getBreakpointFromWidth=function(t,e,i,n){for(var s=0,r=n||e.length;s<r;s++){var a=e[s];if(a!==i&&(t>=a.minWidth&&t<=a.maxWidth))return a}},s.widthInBreakpoint=function(t,e){return t>=e.minWidth&&t<=e.maxWidth},t.exports=s},920:function(t,e,i){"use strict";var n,s;t.exports=function(t){return t.threesixty?(n||(n=i(921)),new n(t)):(s||(s=i(454)),new s(t))}},921:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=i(454),h=["controls-toggle-mute-volume-button","controls-volume-level-indicator"],u=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r(this,o(e).call(this,t)))._arrowControls=i._player.get360().arrowControls,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,c),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(e,[{key:"_bindMethods",value:function(){a(o(e.prototype),"_bindMethods",this).call(this),this._onLeftArrowUp=this._onLeftArrowUp.bind(this),this._onRightArrowUp=this._onRightArrowUp.bind(this),this._onDownArrowUp=this._onDownArrowUp.bind(this),this._onUpArrowUp=this._onUpArrowUp.bind(this)}},{key:"_addEventListeners",value:function(){a(o(e.prototype),"_addEventListeners",this).call(this),this._keyboard.onUp(37,this._onLeftArrowUp),this._keyboard.onUp(39,this._onRightArrowUp),this._keyboard.onUp(38,this._onUpArrowUp),this._keyboard.onUp(40,this._onDownArrowUp)}},{key:"_removeEventListeners",value:function(){a(o(e.prototype),"_removeEventListeners",this).call(this),this._keyboard.offUp(37,this._onLeftArrowUp),this._keyboard.offUp(39,this._onRightArrowUp),this._keyboard.offUp(38,this._onUpArrowUp),this._keyboard.offUp(40,this._onDownArrowUp)}},{key:"_onLeftArrowDown",value:function(t){if(t.target.classList.contains("controls-progress-indicator"))return this._triggerKeyboardInteraction(),a(o(e.prototype),"_onLeftArrowDown",this).call(this,t);this._arrowControls.leftArrowDown(t)}},{key:"_onRightArrowDown",value:function(t){if(t.target.classList.contains("controls-progress-indicator"))return this._triggerKeyboardInteraction(),a(o(e.prototype),"_onRightArrowDown",this).call(this,t);this._arrowControls.rightArrowDown(t)}},{key:"_onUpArrowDown",value:function(t){if(t.target.classList.contains(h[0])||t.target.classList.contains(h[1]))return this._triggerKeyboardInteraction(),a(o(e.prototype),"_onUpArrowDown",this).call(this,t);t.originalEvent.preventDefault(),this._arrowControls.upArrowDown(t)}},{key:"_onDownArrowDown",value:function(t){if(t.target.classList.contains(h[0])||t.target.classList.contains(h[1]))return this._triggerKeyboardInteraction(),a(o(e.prototype),"_onDownArrowDown",this).call(this,t);t.originalEvent.preventDefault(),this._arrowControls.downArrowDown(t)}},{key:"_onLeftArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():(t.originalEvent.preventDefault(),this._arrowControls.leftArrowUp(t))}},{key:"_onRightArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():(t.originalEvent.preventDefault(),this._arrowControls.rightArrowUp(t))}},{key:"_onUpArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():this._arrowControls.upArrowUp(t)}},{key:"_onDownArrowUp",value:function(t){t.target.classList.contains("controls-progress-indicator")?this._triggerKeyboardInteraction():this._arrowControls.downArrowUp(t)}},{key:"_onKeyboardInteraction",value:function(t){}},{key:"destroy",value:function(){a(o(e.prototype),"destroy",this).call(this)}}]),e}();t.exports=u},923:function(t,e,i){"use strict";i(141);var n=i(458),s=function(t){n.call(this,t),this._controlsVisible=t.controlsVisible},r=n.prototype,a=s.prototype=Object.create(r);a._bindMethods=function(){r._bindMethods.apply(this,arguments),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onClick=this._onClick.bind(this)},a._addEventListeners=function(){this._controls.el.addEventListener("touchstart",this._onTouchStart),this._controls.el.addEventListener("click",this._onClick),this._controls.el.addEventListener("focusin",this._onFocusIn),this._controls.el.addEventListener("focusout",this._onFocusOut)},a._removeEventListeners=function(){this._controls.el.removeEventListener("touchstart",this._onTouchStart),this._controls.el.removeEventListener("touchend",this._onTouchEnd),this._controls.el.removeEventListener("click",this._onClick),this._controls.el.removeEventListener("focusin",this._onFocusIn),this._controls.el.removeEventListener("focusout",this._onFocusOut)},a._onDragging=function(t){r._onDragging.apply(this,arguments)},a._shouldIgnoreUserInteraction=function(t){return!1},a._onClick=function(t){t.target!==this._player.controls.compass.compassView&&(this._controlsVisible()?this._isActiveArea(t.target)||(this._hideControls(),this._hideCompass()):this._onUserInteraction(t))},a._onTouchStart=function(t){t.target!==this._player.controls.playButtonElement&&t.target!==this._controls.el.firstElementChild&&t.target!==this._player.controls.compass.compassView&&t.target!==this._player.controls.playButtonElement||(document.addEventListener("touchend",this._onTouchEnd),window.addEventListener("touchmove",this._onDragging),this._showCompass(),this._touchDownTime=Date.now(),this._sendMouseDown(t))},a._onTouchEnd=function(t){document.removeEventListener("touchend",this._onTouchEnd),window.removeEventListener("touchmove",this._onDragging),this._onMouseUp(t)},t.exports=s},926:function(t,e){t.exports="3.6.2-2"},927:function(t,e,i){"use strict";var n=i(466),s=function(t,e){n.apply(this,arguments),this._states=e.states||{},this._labels=e.labels,this._focusTarget=this.el.querySelector("button")||this.el,this._states&&this._states.initial&&this.setState("initial")};(s.prototype=Object.create(n.prototype)).setState=function(t){this._currentState&&this._currentState!==t&&this._states[this._currentState].length&&this.el.classList.remove(this._states[this._currentState]),this._currentState=t,this._labels&&this._labels[this._currentState]&&(this._focusTarget.value=this._labels[this._currentState],this._focusTarget.setAttribute("aria-label",this._labels[this._currentState])),"on"===this._currentState?this._focusTarget.setAttribute("aria-pressed",!0):this._focusTarget.setAttribute("aria-pressed",!1),this._states[t].length&&this.el.classList.add(this._states[t])},t.exports=s},928:function(t,e,i){"use strict";var n=i(139),s=i(142),r=i(143),a=function(t){this.el=t,n.call(this,t),this._keyboard=new s(this.el),this._addEventListeners()},o=a.prototype=Object.create(n.prototype);o._addEventListeners=function(){this._onClick=this._onClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this.el.addEventListener("click",this._onClick),this._keyboard.onDown(r.ARROW_UP,this._onKeyDown),this._keyboard.onDown(r.ARROW_DOWN,this._onKeyDown)},o._removeEventListeners=function(){this.el.removeEventListener("click",this._onClick),this._keyboard.onDown(r.ARROW_UP,this._onKeyDown),this._keyboard.onDown(r.ARROW_DOWN,this._onKeyDown)},o.setItems=function(t){var e;this.el.innerHTML="",t.forEach(function(t){var i=document.createElement("li");i.setAttribute("role","radio"),"showing"===t.mode?(i.classList.add(t.mode),i.setAttribute("aria-checked","true"),i.setAttribute("tabIndex",0),e=i):(i.setAttribute("aria-checked","false"),i.setAttribute("tabIndex",-1)),i.innerText=t.label,i.acvMetadata=t,this.el.appendChild(i)}.bind(this)),e&&e.focus()},o._onKeyDown=function(t){var e=t.target,i=!1;parseInt(t.keyCode)===r.ARROW_DOWN?i=e.nextSibling:parseInt(t.keyCode)===r.ARROW_UP&&(i=e.previousSibling),i&&(this.trigger("ItemSelected",i.acvMetadata),t.preventDefault(),t.stopPropagation())},o._onClick=function(t){this.el!==t.target&&this.el.contains(t.target)&&this.trigger("ItemSelected",t.target.acvMetadata)},o.destroy=function(){this._removeEventListeners()},t.exports=a},929:function(t,e,i){"use strict";var n=i(930).Slider,s=function(t,e){if(this.el=t,this._min=e.min||0,this._max=e.max||1,e.mixins)for(var i=e.mixins.slice(0);i.length;)Object.assign(this,i.pop());this._slider=new n(this.el,{template:e.template,min:this._min,max:this._max,step:isNaN(+this.el.getAttribute("step"))?this.el.getAttribute("step"):+this.el.getAttribute("step"),value:void 0!==e.value?e.value:+this.el.getAttribute("value"),orientation:e.orientation,renderedPosition:!0,keyboardContext:this.el}),this._onFocusChange=this._onFocusChange.bind(this),this._setHoveringValue=this._setHoveringValue.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._slider.el.addEventListener("blur",this._onFocusChange),this._slider.el.addEventListener("focus",this._onFocusChange),this._slider.el.addEventListener("mouseout",this._onFocusChange),this.forceCursorPointer=this.forceCursorPointer.bind(this),this.disableForcedCursorPointer=this.disableForcedCursorPointer.bind(this),this._slider.on("grab",this.forceCursorPointer),this._slider.on("release",this.disableForcedCursorPointer),this._scrubbedEl=this.el.querySelector(".ac-slider-scrubbed"),this._notchEl=this.el.querySelector(".ac-slider-hover-notch"),this._notchEl&&(this._slider.el.addEventListener("mouseover",this._onMouseOver),this._slider.el.addEventListener("mouseleave",this._onMouseLeave),this._slider.el.addEventListener("mousemove",this._setHoveringValue)),e.value&&requestAnimationFrame(function(){this._slider&&this.setValue(e.value)}.bind(this))},r=s.prototype;r.on=function(){return this._slider.on.apply(this._slider,arguments)},r.off=function(){return this._slider.off.apply(this._slider,arguments)},r.trigger=function(){return this._slider.trigger.apply(this._slider,arguments)},r.setValue=function(t){return this._slider.setValue.call(this._slider,t)},r.setAriaValueText=function(t){this._slider.el.setAttribute("aria-valuetext",t)},r.setMin=function(t){this._min=t,this._slider.setMin(t)},r.setMax=function(t){this._max=t,this._slider.setMax(t)},r._onMouseOver=function(){this._slider.el.classList.add("hover")},r._onMouseLeave=function(){this._slider.el.classList.remove("hover")},r._onFocusChange=function(){setTimeout(function(){this.trigger("focuschange")}.bind(this),0)},r.isFocused=function(){return this._slider.el===document.activeElement&&this._hasFocusOutline()},r._hasFocusOutline=function(){return"none"!==getComputedStyle(this._slider.el).getPropertyValue("outline-style")},r.getValue=function(){return this._slider.getValue.apply(this._slider,arguments)},r.getMax=function(){return this._max},r.setScrubbedValue=function(){"horizontal"===this._slider.getOrientation()?this._scrubbedEl.style.left=this._slider.thumbElement.style.left:this._scrubbedEl.style.bottom=this._slider.thumbElement.style.bottom},r._setHoveringValue=function(t){var e=this.getClientXValue(t,this._notchEl);this._notchEl.style.left=e/this.getMax()*100+"%",this._setNotchColor(e)},r._setNotchColor=function(t){t>this.getValue()?this._notchEl.style.backgroundColor="#fff":this._notchEl.style.backgroundColor="#333"},r.show=function(){this.el.classList.remove("ac-slider-inactive")},r.hide=function(){this.el.classList.add("ac-slider-inactive")},r.setState=function(t){this.el.classList.add(t)},r.clearState=function(t){this.el.classList.remove(t)},r.getClientXValue=function(t,e){return this._slider.getClientXValue(t,e)},r.destroy=function(){this._slider.el.removeEventListener("mousemove",this._setHoveringValue),this._slider.el.removeEventListener("mouseleave",this._onMouseOver),this._slider.el.removeEventListener("mouseout",this._onMouseLeave),this._slider.el.removeEventListener("blur",this._onFocusChange),this._slider.el.removeEventListener("focus",this._onFocusChange),this._slider.el.removeEventListener("mouseout",this._onFocusChange),this._slider.off("grab",this.forceCursorPointer),this._slider.off("release",this.disableForcedCursorPointer),this._slider.destroy(),this._slider=null},t.exports=s},936:function(t,e,i){"use strict";var n=function(t){this.el=t},s=n.prototype;s.show=function(){this.el.classList.remove("hidden")},s.hide=function(){this.el.classList.add("hidden")},s.destroy=function(t){},t.exports=n},937:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._updateState()},r=n.prototype,a=s.prototype=Object.create(r);a._updateState=function(){this._view.setState(this._player.getMuted()?"on":"off")},a._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("volumechange",this._updateState)},a._onClick=function(){this._player.getMuted()?(this._player.setMuted(!1),0===this._player.getVolume()&&this._player.setVolume(.1)):this._player.setMuted(!0)},a.destroy=function(){this._player.off("volumechange",this._updateState),r.destroy.call(this)},t.exports=s},938:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._setPlayingState()},r=n.prototype,a=s.prototype=Object.create(r);a._addPlayerListeners=function(){this._setPlayingState=this._setPlayingState.bind(this),this._player.on("play",this._setPlayingState),this._player.on("playing",this._setPlayingState),this._player.on("pause",this._setPlayingState),this._player.on("ended",this._setPlayingState)},a._onClick=function(){this._togglePlay()},a._setPlayingState=function(){this._view.setState(this._player.getEnded()?"ended":this._player.getPaused()?"paused":"playing")},a._togglePlay=function(){this._player.getPaused()||this._player.getEnded()?this._player.play():this._player.pause()},a.destroy=function(){this._player.off("play",this._setPlayingState),this._player.off("pause",this._setPlayingState),this._player.off("playing",this._setPlayingState),this._player.off("ended",this._setPlayingState),r.destroy.call(this)},t.exports=s},939:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._initialize()},r=n.prototype,a=s.prototype=Object.create(r);a._initialize=function(){this._updateButtonState=this._updateButtonState.bind(this),this._player.supportsPictureInPicture()&&(this._updateButtonState(),this._player.on("webkitpresentationmodechanged",this._updateButtonState))},a._onClick=function(){this._player.setPictureInPicture(!this._player.isPictureInPicture())},a._updateButtonState=function(){this._view.setState(this._player.isPictureInPicture()?"on":"off")},a.destroy=function(){this._player.off("webkitpresentationmodechanged",this._updateButtonState),r.destroy.call(this)},t.exports=s},940:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._updateState(),this._allowMultiLanguageCaptions=!this._player.options.disableMultiLanguageCaptions},r=n.prototype,a=s.prototype=Object.create(r);a._updateState=function(){var t=this._player.getVisibleTextTracks(),e=this._player.getTextTracks().filter(function(t){return"subtitles"===t.kind||"captions"===t.kind||!t.kind});t.length?this._view.setState("on"):e.length?this._view.setState("off"):this._view.setState("initial")},a._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("addtrack",this._updateState),this._player.on("change",this._updateState),this._player.on("removetrack",this._updateState)},a._onClick=function(){var t=this._player.getVisibleTextTracks(),e=this._player.getTextTracks().filter(function(t){return"metadata"!==t.kind});e.length>1&&this._allowMultiLanguageCaptions?this._player.isCaptionsSelectorShowing()?this._player.hideCaptionsSelector():this._player.showCaptionsSelector():1===t.length?e[0].mode="hidden":e[0].mode="showing",setTimeout(this._updateState)},a.destroy=function(){this._player.off("addtrack",this._updateState),this._player.off("change",this._updateState),this._player.off("removetrack",this._updateState),r.destroy.call(this)},t.exports=s},941:function(t,e,i){"use strict";var n="__CC_DISABLE",s=i(145),r=i(65).browser,a=r.edge||r.ie,o=function(t,e){s.apply(this,arguments),this._updateState()},l=o.prototype=Object.create(s.prototype);l._addViewListeners=function(){this._onSelected=this._onSelected.bind(this),this._view.on("ItemSelected",this._onSelected)},l._updateState=function(){var t="showing",e=this._player.getTextTracks().filter(function(t){return"subtitles"===t.kind||"captions"===t.kind||!t.kind}).map(function(e){"showing"===e.mode&&(t="hidden");var i={label:e.label||e.language||e.srclang&&("en"===e.srclang.toLowerCase()?"English":e.srclang)||"Unknown CC",language:e.language};return Object.defineProperty(i,"mode",{get:function(){return e.mode},set:function(t){e.mode=t}}),i});this._view.setItems([{label:"Off",language:n,mode:t}].concat(e))},l._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("addtrack",this._updateState),this._player.on("change",this._updateState),this._player.on("removetrack",this._updateState)},l._onSelected=function(t){var e=t.detail;this._player.getVisibleTextTracks().forEach(function(t){t.mode="hidden"}),e.language!==n&&(e.mode="showing"),a&&this._player.getMediaElement().textTracks.dispatchEvent(new CustomEvent("change")),setTimeout(this._updateState)},l.destroy=function(){this._player.off("addtrack",this._updateState),this._player.off("change",this._updateState),this._player.off("removetrack",this._updateState),this._view.off("ItemSelected",this._onSelected)},t.exports=o},942:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._player.getFullScreenEnabled()&&this._updateState()},r=n.prototype,a=s.prototype=Object.create(r);a._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.on("fullscreen:change",this._updateState)},a._updateState=function(){this._view.setState(this._player.isFullscreen()?"on":"off")},a._onClick=function(){this._player.toggleFullscreen(!this._player.isFullscreen())},a.destroy=function(){this._player.off("fullscreen:change",this._updateState),r.destroy.call(this)},t.exports=s},943:function(t,e,i){"use strict";var n=i(145),s=i(140),r=i(286),a=i(944),o=function(t,e){n.apply(this,arguments),this._visible=!1,this._ariaTextTemplate=e.localization.currenttimetext,this._onDurationChange()},l=o.prototype=Object.create(n.prototype);l._addViewListeners=function(){this._onSliderGrab=this._onSliderGrab.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._onSliderRelease=this._onSliderRelease.bind(this),this._view.on("grab",this._onSliderGrab)},l._addPlayerListeners=function(){this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onPlay=this._onPlay.bind(this),this._onPause=this._onPause.bind(this),this._onEnded=this._onEnded.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onRAF=this._onRAF.bind(this),this._player.on("durationchange",this._onDurationChange),this._player.on("loadstart",this._onEnded),this._player.on("ended",this._onEnded),this._player.on("timeupdate",this._onTimeUpdate),this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded)},l._setIsPlaying=function(t){t?this._view.setState("is-playing"):this._view.clearState("is-playing")},l._onPlay=function(){this._setIsPlaying(!0),this._player.isLive()||(a(this._timeUpdateInterval),r(this._onRAF))},l._onRAF=function(){this._onTimeUpdate(),this._timeUpdateInterval=r(this._onRAF)},l._onPause=function(){this._setIsPlaying(!1),a(this._timeUpdateInterval),this._onTimeUpdate()},l._onEnded=function(){this._onPause(),this._updateSliderPosition(0)},l._onSliderGrab=function(){this._player.off("timeupdate",this._onTimeUpdate),a(this._timeUpdateInterval),this._view.off("grab",this._onSliderGrab),this._view.on("change",this._onSliderChange),this._view.on("release",this._onSliderRelease),this._onPause()},l._onSliderRelease=function(){this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.on("grab",this._onSliderGrab),this._player.on("timeupdate",this._onTimeUpdate),this._player.getPaused()||this._onPlay()},l._getTimeAsPercent=function(){return this._player.getCurrentTime()/this._cachedDuration},l._onDurationChange=function(){this._cachedDuration=this._player.getDuration(),this._updateSliderPosition(this._getTimeAsPercent()),this._player.getPaused()||this._onPlay()},l._onSliderChange=function(){var t=this._view.getValue();this._setPlayerCurrentTime(t*this._cachedDuration),this._setAriaValueText(t*this._cachedDuration),this._updateScrubbedValue()},l._onTimeUpdate=function(){this._player.getPaused(),this._updateSliderPosition(this._getTimeAsPercent())},l._updateSliderPosition=function(t){this._view.setValue(t),this._setAriaValueText(t*this._cachedDuration),this._updateScrubbedValue(),this._visible||isNaN(this._cachedDuration)||(this._view.show(),this._visible=!0)},l._setAriaValueText=function(t){var e=Math.floor(t/60),i=Math.ceil(t%60);this._view.setAriaValueText(s(this._ariaTextTemplate,{minutes:e,seconds:i}))},l._updateScrubbedValue=function(){this._view.setScrubbedValue()},l._setPlayerCurrentTime=function(t){this._player.setCurrentTime(t)},l._removeEventListeners=function(){this._player.off("durationchange",this._onDurationChange),this._player.off("loadstart",this._onEnded),this._player.off("ended",this._onEnded),this._player.off("timeupdate",this._onTimeUpdate),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.off("grab",this._onSliderGrab),this._player.off("play",this._onPlay),this._player.off("pause",this._onPause),this._player.off("ended",this._onPause)},l.destroy=function(){this._removeEventListeners(),a(this._timeUpdateInterval)},t.exports=o},945:function(t,e,i){"use strict";var n=i(145),s=function(t,e){n.apply(this,arguments),this._hideVolume(),this._updateSliderVolumeValue()},r=s.prototype=Object.create(n.prototype);r._addViewListeners=function(){this._showVolume=this._showVolume.bind(this),this._hideVolume=this._hideVolume.bind(this),this._onSliderGrab=this._onSliderGrab.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._onSliderRelease=this._onSliderRelease.bind(this),this._onFocusChange=this._onFocusChange.bind(this),this._view.on("grab",this._onSliderGrab),this._view.on("focuschange",this._onFocusChange)},r._addPlayerListeners=function(){this._updateSliderVolumeValue=this._updateSliderVolumeValue.bind(this),this._onUserVolumeChange=this._onUserVolumeChange.bind(this),this._player.once("durationchange",this._updateSliderVolumeValue),this._player.on("volumechange",this._updateSliderVolumeValue),this._player.on("uservolumechange",this._onUserVolumeChange)},r._onSliderGrab=function(){this._cachedVolume=this._player.getVolume(),this._player.off("volumechange",this._updateSliderVolumeValue),this._view.off("grab",this._onSliderGrab),this._view.on("change",this._onSliderChange),this._view.on("release",this._onSliderRelease)},r._onSliderRelease=function(){this._setPlayerVolume(this._view.getValue()),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.on("grab",this._onSliderGrab),this._player.on("volumechange",this._updateSliderVolumeValue)},r._onSliderChange=function(){var t=this._view.getValue();this._setPlayerVolume(t),this._view.setScrubbedValue()},r._setPlayerVolume=function(t){t?(this._player.setMuted(!1),this._player.setVolume(t/100)):(this._player.setMuted(!0),this._player.setVolume(this._cachedVolume))},r._showVolume=function(){this._view.show()},r._hideVolume=function(){this._view.hide()},r._onUserVolumeChange=function(){this._showVolume(),clearTimeout(this._hideVolumeTimer),this._view.isFocused()||(this._hideVolumeTimer=setTimeout(this._hideVolume,1e3))},r._onFocusChange=function(){this._view.isFocused()?this._showVolume():this._hideVolume()},r._updateSliderVolumeValue=function(){if(this._player.getMuted())this._view.setValue(0),this._view.setScrubbedValue();else{var t=this._player.getVolume();this._view.setValue(100*t),this._view.setScrubbedValue()}},r._removeEventListeners=function(){this._player.off("durationchange",this._updateSliderVolumeValue),this._player.off("volumechange",this._updateSliderVolumeValue),this._player.off("uservolumechange",this._onUserVolumeChange),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.off("grab",this._onSliderGrab)},r.destroy=function(){this._removeEventListeners()},t.exports=s},946:function(t,e,i){"use strict";var n=i(105),s=function(t,e){n.apply(this,arguments),this._player.states&&this._updateState()},r=n.prototype,a=s.prototype=Object.create(r);a._addPlayerListeners=function(){this._updateState=this._updateState.bind(this),this._player.states&&this._player.states.on("statechange",this._updateState)},a._updateState=function(){this._stateChanging=!1,this._view.setState("sharing"===this._player.states.getCurrentState()?"on":"off")},a._onClick=function(){this._stateChanging||("sharing"===this._player.states.getCurrentState()?(this._view.setState("off"),this._player.states.setState("none")):(this._view.setState("on"),this._player.states.setState("sharing")),this._stateChanging=!0)},a.destroy=function(){this._player.states&&this._player.states.off("statechange",this._updateState),r.destroy.call(this)},t.exports=s},947:function(t,e,i){"use strict";var n=i(145),s=i(948),r=function(t,e){n.apply(this,arguments),this._updateState()},a=n.prototype;(r.prototype=Object.create(a))._updateState=function(){this.sharingModule=new s(Object.assign({},{player:this._player,parentView:this._view})),this.sharingModule.setData(this._player.options.sharing),this._view.el.innerHTML="",this._view.el.appendChild(this.sharingModule.el)},t.exports=r},948:function(t,e,i){"use strict";(function(e){var n,s=e("PGRpdiBjbGFzcz0ic2hhcmluZy1zdGF0ZSI+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiIGRhdGEtYWN2LWFjdGl2ZS1hcmVhPgogICAgICAgIDxkaXYgY2xhc3M9InNoYXJpbmctY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2hhcmluZy1idXR0b24tY29udGFpbmVyIj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImZhY2Vib29rLXNoYXJlIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV9mYiIgYXJpYS1sYWJlbD0ie2ZhY2Vib29rc2hhcmV9LCB7bmV3d2luZG93fSI+PC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0d2l0dGVyLXNoYXJlIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV90d2l0dGVyIiBhcmlhLWxhYmVsPSJ7dHdpdHRlcnNoYXJlfSwge25ld3dpbmRvd30iPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY29weS1saW5rIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV9saW5rIiBhcmlhLWxhYmVsPSJ7Y29weWxpbmt9Ij48L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNvcHktZW1iZWQtY29kZSBhYy12aWRlby1pY29uIGljb24tc2hhcmVfZW1iZWQiIGFyaWEtbGFiZWw9Intjb3B5ZW1iZWR9Ij48L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0idGV4dGFyZWEtY29udGFpbmVyIj4KICAgICAgICAgICAgPHNwYW4+CiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImNvcHktYXJlYSBmb3JtLXRleHRib3ggZm9ybS10ZXh0Ym94LXRleHQgZGlzYWJsZWQiIHR5cGU9InRleHQiIGlkPSJjb3B5LWxpbmsiIGFyaWEtbGFiZWw9Intjb3B5bGlua30iPjwvaW5wdXQ+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0ZXh0aW5wdXQtY2xvc2UtYnV0dG9uIGFjLXZpZGVvLWljb24gaWNvbi1zaGFyZV9jbG9zZSIgYXJpYS1sYWJlbD0ie2Rpc21pc3Njb3B5fSI+PC9idXR0b24+CiAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L2Rpdj4K","base64").toString(),r=e("PGlmcmFtZSBzcmM9IntlbWJlZENvZGVQYXRofXt2aWRlb2lkfXtleHRlbnNpb259IiB3aWR0aD0ie3dpZHRofSIgaGVpZ2h0PSJ7aGVpZ2h0fSIgdGl0bGU9Int0aXRsZX0iIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4K","base64").toString(),a=i(141),o=i(953),l=i(954).Dialog,c=i(140),h=i(288),u=i(195);try{n=i(978)}catch(t){a("ac-analytics-share failed to load, are you sure you've included it?")}var d=i(65).os,p=d.ios||d.android,f=function(t){this.el||this._initializeElement(t.el,t.template),this._player=t.player,this._parentView=t.parentView,this._clickedShareButton=null,this._container=this.el.querySelector(".container"),this._sharingButtonContainer=this.el.querySelector(".sharing-button-container"),this._facebookButton=this.el.querySelector(".facebook-share"),this._twitterButton=this.el.querySelector(".twitter-share"),this._copyLinkButton=this.el.querySelector(".copy-link"),this._copyEmbedCodeButton=this.el.querySelector(".copy-embed-code"),this._copyTextArea=this.el.querySelector(".copy-area"),this._copyCloseButton=this.el.querySelector(".textinput-close-button"),this._closeButton=this.el.querySelector(".close-button"),!1===t.analytics&&(n=null),p&&(this.el.firstChild.classList.add("mobile"),this._player.on("loadstart",function(){this._getClientWidth()>735&&this.el.firstChild.classList.add("mobile-large")}.bind(this))),this._bindMethods(),this._addEventListeners(),this._syncSocialShareHidden()},m=f.prototype;m._initializeElement=function(t,e){t?this.el=t:(this.el=document.createElement("div"),this._templateData=h.getTranslation(),this.el.innerHTML=c((e||s).toString(),this._templateData))},m.setData=function(t){if(t){if(this._parentView.show(),t.allowEmbed&&this.el.firstChild.classList.add("embed-enabled"),this._sharingUrl=t.originatorUrl||window.location.href,this._videoid=t.videoid,this._hideExtension=t.hideExtension,this._embedPath=t.embedpath||"https://www.apple.com/embed/",this._hideFacebook=t.hideFacebookShare||!1,this._hideTwitter=t.hideTwitterShare||!1,this._title=t.title||"Video Player",this._syncSocialShareHidden(),this._container.classList.remove("textarea-active"),n&&!1!==t.analytics&&t.videoid)try{this._initAnalyticsAttributes(t),this._analyticsObserver||(this._analyticsObserver=n({context:this.el}))}catch(t){a("ac-analytics-share failed to load, are you sure you've included it?")}}else this._parentView.hide()},m._bindMethods=function(){this._doFacebookShare=this._doSocialShare.bind(this,l.FACEBOOK_SHARE),this._doTwitterShare=this._doSocialShare.bind(this,l.TWITTER_TWEET),this._copyUrl=this._copyUrl.bind(this),this._copyEmbedCode=this._copyEmbedCode.bind(this),this._closeCopyArea=this._showTextArea.bind(this,!1),this._closeState=this._closeState.bind(this)},m._addEventListeners=function(){this._facebookButton&&this._facebookButton.addEventListener("click",this._doFacebookShare),this._twitterButton&&this._twitterButton.addEventListener("click",this._doTwitterShare),this._copyLinkButton&&this._copyLinkButton.addEventListener("click",this._copyUrl),this._copyEmbedCodeButton&&this._copyEmbedCodeButton.addEventListener("click",this._copyEmbedCode),this._copyCloseButton&&this._copyCloseButton.addEventListener("click",this._closeCopyArea),this._closeButton&&this._closeButton.addEventListener("click",this._closeState)},m._removeEventListeners=function(){this._facebookButton&&this._facebookButton.removeEventListener("click",this._doFacebookShare),this._twitterButton&&this._twitterButton.removeEventListener("click",this._doTwitterShare),this._copyLinkButton&&this._copyLinkButton.removeEventListener("click",this._copyUrl),this._copyEmbedCodeButton&&this._copyEmbedCodeButton.removeEventListener("click",this._copyEmbedCode),this._copyCloseButton&&this._copyCloseButton.removeEventListener("click",this._closeCopyArea),this._closeButton&&this._closeButton.removeEventListener("click",this._closeState)},m._syncSocialShareHidden=function(){this._facebookButton&&(this._hideFacebook?this._facebookButton.classList.add("hide-button"):this._facebookButton.classList.remove("hide-button")),this._twitterButton&&(this._hideTwitter?this._twitterButton.classList.add("hide-button"):this._twitterButton.classList.remove("hide-button"))},m._doSocialShare=function(t){this._clickedShareButton=null,this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._showTextArea(!1),l.create(t,{url:this._sharingUrl,title:this._title})},m._showTextArea=function(t){t?(this._container.classList.add("textarea-active"),o(this._copyTextArea),p||this._copyTextArea.setAttribute("readonly","")):(this._container.classList.remove("textarea-active"),this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._copyTextArea.removeAttribute("readonly"),this._clickedShareButton&&this._clickedShareButton.focus(),this._copyLinkButton.setAttribute("aria-label",this._templateData.copylink),this._copyEmbedCodeButton.setAttribute("aria-label",this._templateData.copyembed))},m._copyUrl=function(){this._clearTextArea(),this._copyTextArea.value=this._sharingUrl,this._copyLinkButton.classList.add("active"),this._copyLinkButton.setAttribute("aria-label",this._templateData.selectlink),this._showTextArea(!0),this._clickedShareButton=this._copyLinkButton,this._copyTextArea.setAttribute("aria-label",this._templateData.copylink),o(this._copyTextArea)},m._clearTextArea=function(){window.getSelection().removeAllRanges(),this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._copyTextArea.removeAttribute("readonly")},m._copyEmbedCode=function(){this._clearTextArea(),this._copyTextArea.value=c(r,{videoid:this._videoid,embedCodePath:this._embedPath,width:this._player.getMediaWidth(),height:this._player.getMediaHeight(),title:this._title,extension:this._hideExtension?"":".html"}),this._copyEmbedCodeButton.classList.add("active"),this._copyEmbedCodeButton.setAttribute("aria-label",this._templateData.selectembed),this._showTextArea(!0),this._clickedShareButton=this._copyEmbedCodeButton,this._copyTextArea.setAttribute("aria-label",this._templateData.copyembed),o(this._copyTextArea)},m._focusFirstButton=function(){this._firstButton||(this._firstButton=u.getTabbableElements(this._sharingButtonContainer)[0]),this._firstButton.focus()},m.show=function(){return new Promise(function(t,e){requestAnimationFrame(function(){var e=function(){this.el.removeEventListener("transitionend",e),focus&&this._focusFirstButton(),t()}.bind(this);this.el.addEventListener("transitionend",e),setTimeout(function(){this._container.classList.add("showing")}.bind(this))}.bind(this))}.bind(this))},m.hide=function(){return this._clickedShareButton=null,this._showTextArea(!1),new Promise(function(t,e){var i=function(){this.el.removeEventListener("transitionend",i),t()}.bind(this);this.el.addEventListener("transitionend",i),setTimeout(function(){this._container.classList.remove("showing")}.bind(this))}.bind(this))},m._getClientHeight=function(){return this.el.clientHeight},m._getClientWidth=function(){return this.el.clientWidth},m.destroy=function(){this._removeEventListeners()},m._closeState=function(){this._showTextArea(!1),0===this._player.getCurrentTime()||this._player.getEnded()?this._player.states.setState("initial"):this._player.states.setState("none")},m._getAnalyticsSource=function(){return"drawer"},m._initAnalyticsAttributes=function(t){var e=[];this._facebookButton&&e.push({button:this._facebookButton,title:"facebook",events:"event85"}),this._twitterButton&&e.push({button:this._twitterButton,title:"twitter",events:"event84"}),this._copyLinkButton&&e.push({button:this._copyLinkButton,title:"copy-link",events:"event89"}),this._copyEmbedCodeButton&&e.push({button:this._copyEmbedCodeButton,title:"copy-embed-code",events:"event101"});var i=(-1!==(t.url&&t.url.indexOf(".m3u8"))?"m3u8":"mp4")+" via html5",n=this._getAnalyticsSource(),s=t.videoid,r=document.head.querySelectorAll('meta[property="analytics-track"]');r=r?r[0].getAttribute("content"):"",e.forEach(function(t){t.button.setAttribute("data-analytics-click",""),t.button.setAttribute("data-analytics-share",JSON.stringify({title:s,events:t.events,prop2:r+" - "+s+" - "+t.title,prop18:i,eVar49:document.referrer,eVar54:document.location.href,eVar55:r+" - "+s,eVar70:n}))}.bind(this))},t.exports=f}).call(this,i(949).Buffer)},976:function(t,e,i){"use strict";t.exports={"bg-BG":"bg-BG.json","cs-CZ":"cs-CZ.json","el-GR":"el-GR.json","de-AT":"de-AT.json","de-CH":"de-CH.json","de-DE":"de-DE.json","de-LI":"de-LI.json","da-DK":"da-DK.json",en:"en.json","en-US":"en-US.json","en-AP":"en-AP.json","en-CA":"en-CA.json","en-GB":"en-GB.json","en-HK":"en-HK.json","en-IE":"en-IE.json","en-IN":"en-IN.json","en-KR":"en-KR.json","en-AU":"en-AU.json","en-NZ":"en-NZ.json","en-SG":"en-SG.json","en-ZA":"en-ZA.json",es:"es.json","es-LA":"es-LA.json","es-MX":"es-MX.json","es-ES":"es-ES.json","et-EE":"et-EE.json","fi-FI":"fi-FI.json",fr:"fr.json","fr-BE":"fr-BE.json","fr-CA":"fr-CA.json","fr-CH":"fr-CH.json","fr-FR":"fr-FR.json","hr-HR":"hr-HR.json","hu-HU":"hu-HU.json","it-IT":"it-IT.json",ja:"ja.json","ja-JP":"ja-JP.json","ko-KR":"ko-KR.json","lt-LT":"lt-LT.json","lv-LV":"lv-LV.json","nl-BE":"nl-BE.json","nl-NL":"nl-NL.json","no-NO":"no-NO.json","pl-PL":"pl-PL.json",pt:"pt.json","pt-BR":"pt-BR.json","pt-PT":"pt-PT.json","ro-RO":"ro-RO.json","ru-RU":"ru-RU.json","sk-SK":"sk-SK.json","sv-SE":"sv-SE.json","tr-TR":"tr-TR.json",zh:"zh.json","zh-CN":"zh-CN.json","zh-HK":"zh-HK.json","zh-TW":"zh-TW.json"}},977:function(t,e,i){"use strict";t.exports={backthirtyseconds:"Back 30 Seconds",playpause:"Play/Pause",play:"Play",pause:"Pause",togglemutevolume:"Toggle Mute Volume",mutevolume:"Mute Volume",minvolume:"Minimum Volume",adjustvolume:"Adjust Volume",fastreverse:"Fast Reverse",fastforward:"Fast Forward",fullvolume:"Full Volume",fullscreen:"Full Screen",exitfullscreen:"Exit Full Screen",airplay:"AirPlay",captionscontrol:"Closed Captions",captionsturnedon:"Closed Captions On",captionsturnedoff:"Closed Captions Off",subtitlescontrol:"Subtitles",subtitlesturnedon:"Subtitles On",subtitlesturnedoff:"Subtitles Off",sizescontrol:"Video Size",downloadcontrol:"Download Video",share:"Share",small:"Small",medium:"Medium",large:"Large",hd:"HD",ipod:"iPod/iPhone",mb:"MB",gb:"GB",tb:"TB",downloadquicktimetitle:"Get QuickTime.",downloadquicktimetext:"Download QuickTime to view this video. QuickTime is free for Mac + PC.",downloadquicktimebutton:"Download",downloadquicktimeurl:"http://www.apple.com/quicktime/download/",elapsed:"elapsed",remaining:"remaining",currenttimetext:"{minutes} minutes and {seconds} seconds",pictureinpicture:"Picture-in-Picture",exitpictureinpicture:"Exit Picture-in-Picture",closesharing:"Close Sharing",facebookshare:"Share to Facebook",twittershare:"Share to Twitter",copylink:"Copy Link",copyembed:"Copy Embed Code",copyarea:"Copy Link Text Area",selectlink:"Select Link Text",selectembed:"Select Embed Code",close:"Close",dismisscopy:"Dismiss Copy",replay:"Replay",livestream:"Live Streaming",newwindow:"Opens in New Window",threesixtyicon:"Return 360 Point of View to Origin",threesixtyleft:"Move 360 Point of View Left",threesixtyright:"Move 360 Point of View Right",threesixtyup:"Move 360 Point of View Up",threesixtydown:"Move 360 Point of View Down"}},992:function(t,e,i){"use strict";t.exports={log:i(993)}},993:function(t,e,i){"use strict";var n=!!function(){try{return window.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(t){}}();t.exports=function(){window.console&&void 0!==console.log&&n&&console.log.apply(console,Array.prototype.slice.call(arguments,0))}}}]);